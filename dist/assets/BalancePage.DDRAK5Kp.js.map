{"version":3,"file":"BalancePage.DDRAK5Kp.js","sources":["../../node_modules/@mui/icons-material/CalendarToday.js","../../node_modules/@mui/icons-material/Payment.js","../../node_modules/@mui/icons-material/ReceiptLong.js","../../node_modules/@mui/icons-material/FlashOn.js","../../node_modules/@mui/icons-material/Download.js","../../node_modules/@mui/icons-material/PictureAsPdf.js","../../src/utils/pdfGenerator.js","../../node_modules/@mui/icons-material/CallMade.js","../../node_modules/@mui/icons-material/CallReceived.js","../../src/UIKIT/StyledTabs/index.js","../../src/UIKIT/styles/gradientEffects.js","../../src/UIKIT/InfoBlock/index.js","../../src/pages/Economic/BalancePage.js"],"sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z\"\n}), 'CalendarToday');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z\"\n}), 'Payment');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)([/*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z\"\n}, \"0\"), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z\"\n}, \"1\")], 'ReceiptLong');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7 2v11h3v9l7-12h-4l4-8z\"\n}), 'FlashOn');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z\"\n}), 'Download');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z\"\n}), 'PictureAsPdf');","/**\n * PDF utility functions\n */\n/**\n * Open a PDF receipt in a new tab or download on mobile\n * @param {string} dataUrl - PDF data URL or file path\n * @param {string} transactionId - ID of the transaction (not used for opening)\n * @param {string} filePath - Optional direct path to the file\n */\nexport const downloadPdfReceipt = (dataUrl, transactionId, filePath = null) => {\n  const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n  const url = filePath || dataUrl;\n  if (isMobile) {\n    if (/iPad|iPhone|iPod/.test(navigator.userAgent)) {\n      window.location.href = url;\n      return;\n    }\n    try {\n      const newWindow = window.open(url, '_blank');\n      if (!newWindow || newWindow.closed || typeof newWindow.closed === 'undefined') {\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `receipt_${transactionId}.pdf`;\n        link.target = '_blank';\n        link.click();\n      }\n    } catch (error) {\n      console.error('Error opening PDF:', error);\n      window.location.href = url;\n    }\n  } else {\n    const link = document.createElement('a');\n    link.href = url;\n    link.target = \"_blank\";\n    link.rel = \"noopener noreferrer\";\n    link.click();\n  }\n}; ","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z\"\n}), 'CallMade');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 5.41 18.59 4 7 15.59V9H5v10h10v-2H8.41z\"\n}), 'CallReceived');","import React from 'react';\nimport { Tabs, Tab, Box, Paper, useTheme } from '@mui/material';\nimport { styled } from '@mui/material/styles';\n\nconst StyledTabsContainer = styled(Paper)(({ theme, fullWidth = false }) => ({\n  borderRadius: '16px',\n  backgroundColor: theme => theme.palette.mode === 'dark' ? '#1E1E1E' : theme.palette.background.paper,\n  backgroundImage: 'unset',\n  boxShadow: '0 5px 15px rgba(0, 0, 0, 0.2)',\n  overflow: 'hidden',\n  mb: 1,\n  border: '1px solid rgba(255, 255, 255, 0.1)',\n  width: fullWidth ? '100%' : 'auto',\n  maxWidth: fullWidth ? 'none' : 750,\n  minWidth: 320,\n  mx: 'auto',\n  position: 'relative',\n  '::before': {\n    content: '\"\"',\n    position: 'absolute',\n    left: -80,\n    top: '50%',\n    transform: 'translateY(-50%) rotate(-12deg)',\n    width: 180,\n    height: 220,\n    background: 'linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)',\n    opacity: 0.25,\n    filter: 'blur(18px)',\n    borderRadius: '50%',\n    zIndex: 1,\n    pointerEvents: 'none',\n  },\n  '::after': {\n    content: '\"\"',\n    position: 'absolute',\n    right: -80,\n    top: '50%',\n    transform: 'translateY(-50%) rotate(12deg)',\n    width: 180,\n    height: 220,\n    background: 'linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)',\n    opacity: 0.25,\n    filter: 'blur(18px)',\n    borderRadius: '50%',\n    zIndex: 1,\n    pointerEvents: 'none',\n  },\n  zIndex: 2,\n}));\n\nconst StyledTabs = ({ \n  value, \n  onChange, \n  tabs, \n  variant = 'standard',\n  centered = false,\n  fullWidth = false,\n  ...props \n}) => {\n  const theme = useTheme();\n\n  return (\n    <StyledTabsContainer fullWidth={fullWidth}>\n      <Tabs\n        value={value}\n        onChange={onChange}\n        variant={variant}\n        centered={centered}\n        sx={{ \n          '& .MuiTab-root': {\n            color: theme => theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.7)' : 'rgba(0, 0, 0, 0.7)',\n            backgroundColor: '#1c1c1c',\n            fontWeight: 'bold',\n            fontSize: '1rem',\n            textTransform: 'none',\n            borderRadius: 0,\n            minHeight: 48,\n            transition: 'color 0.2s',\n            '&.Mui-selected': {\n              color: theme => theme.palette.primary.main,\n              backgroundColor: '#1c1c1c',\n            }\n          },\n          '& .MuiTabs-indicator': {\n            backgroundColor: '#D0BCFF',\n            height: 3,\n            borderRadius: '3px',\n            transition: 'all 0.2s',\n          },\n          minHeight: 48,\n        }}\n        {...props}\n      >\n        {tabs.map((tab, index) => {\n          const IconComponent = tab.icon;\n          return (\n            <Tab\n              key={index}\n              label={\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                  {IconComponent && <IconComponent sx={{ mr: 1 }} />}\n                  {tab.label}\n                </Box>\n              }\n              value={tab.value}\n            />\n          );\n        })}\n      </Tabs>\n    </StyledTabsContainer>\n  );\n};\n\nexport default StyledTabs; ","import { alpha } from '@mui/material/styles';\n\nexport const gradientEffects = {\n  before: {\n    content: '\"\"',\n    position: 'absolute',\n    left: -80,\n    top: '50%',\n    transform: 'translateY(-50%) rotate(-12deg)',\n    width: 180,\n    height: 220,\n    background: 'linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)',\n    opacity: 0.25,\n    filter: 'blur(18px)',\n    borderRadius: '50%',\n    zIndex: 1,\n    pointerEvents: 'none',\n  },\n  after: {\n    content: '\"\"',\n    position: 'absolute',\n    right: -80,\n    top: '50%',\n    transform: 'translateY(-50%) rotate(12deg)',\n    width: 180,\n    height: 220,\n    background: 'linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)',\n    opacity: 0.25,\n    filter: 'blur(18px)',\n    borderRadius: '50%',\n    zIndex: 1,\n    pointerEvents: 'none',\n  },\n  beforeTop: {\n    content: '\"\"',\n    position: 'absolute',\n    left: -80,\n    top: 0,\n    transform: 'rotate(-12deg)',\n    width: 180,\n    height: 90,\n    background: 'linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)',\n    opacity: 0.25,\n    filter: 'blur(18px)',\n    borderRadius: '50%',\n    zIndex: 1,\n    pointerEvents: 'none',\n  },\n  afterTop: {\n    content: '\"\"',\n    position: 'absolute',\n    right: -80,\n    top: 0,\n    transform: 'rotate(12deg)',\n    width: 180,\n    height: 90,\n    background: 'linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)',\n    opacity: 0.25,\n    filter: 'blur(18px)',\n    borderRadius: '50%',\n    zIndex: 1,\n    pointerEvents: 'none',\n  },\n};\n\nexport const getGradientEffects = (theme, variant = 'dark', customColors, options = {}) => {\n  const colors = customColors || {\n    start: '#B69DF8',\n    end: '#D0BCFF'\n  };\n  const position = options.position || 'center';\n\n  if (position === 'top') {\n    return {\n      '&::before': {\n        ...gradientEffects.beforeTop,\n        background: `linear-gradient(13.89deg, ${colors.start} 47.02%, ${colors.end} 97.69%)`,\n        opacity: variant === 'dark' ? 0.25 : 0.15,\n      },\n      '&::after': {\n        ...gradientEffects.afterTop,\n        background: `linear-gradient(13.89deg, ${colors.start} 47.02%, ${colors.end} 97.69%)`,\n        opacity: variant === 'dark' ? 0.25 : 0.15,\n      },\n    };\n  }\n\n  return {\n    '&::before': {\n      ...gradientEffects.before,\n      background: `linear-gradient(13.89deg, ${colors.start} 47.02%, ${colors.end} 97.69%)`,\n      opacity: variant === 'dark' ? 0.25 : 0.15,\n    },\n    '&::after': {\n      ...gradientEffects.after,\n      background: `linear-gradient(13.89deg, ${colors.start} 47.02%, ${colors.end} 97.69%)`,\n      opacity: variant === 'dark' ? 0.25 : 0.15,\n    },\n  };\n};\n\nexport const gradientBorder = (theme, variant = 'dark') => ({\n  border: `1px solid ${variant === 'dark' ? 'rgba(255, 255, 255, 0.1)' : alpha(theme.palette.primary.main, 0.2)}`,\n  background: variant === 'dark' \n    ? '#1c1c1c' \n    : alpha(theme.palette.background.paper, 0.8),\n  backdropFilter: 'blur(10px)',\n  borderRadius: '16px',\n  position: 'relative',\n  overflow: 'hidden',\n  zIndex: 2,\n}); ","import React from 'react';\nimport { Box, Typography, useTheme } from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport { getGradientEffects, gradientBorder } from '../styles/gradientEffects';\n\nconst InfoBlockContainer = styled(Box)(({ theme, styleVariant = 'default' }) => ({\n  width: '100%',\n  margin: '0 auto',\n  marginBottom: theme.spacing(1),\n  ...gradientBorder(theme, styleVariant),\n  color: styleVariant === 'dark' ? 'white' : theme.palette.text.primary,\n  textAlign: 'left',\n  padding: 14,\n  ...getGradientEffects(theme, styleVariant),\n}));\n\nconst InfoBlockTitle = styled(Typography)(({ theme, styleVariant = 'default' }) => ({\n  fontWeight: 700,\n  margin: 0,\n  color: styleVariant === 'dark' ? 'white' : theme.palette.text.primary,\n  '&.MuiTypography-root': {\n    margin: 0,\n    marginBottom: 0\n  },\n  ...theme.components?.InfoBlock?.styleOverrides?.title,\n}));\n\nconst InfoBlockDescription = styled(Typography)(({ theme, styleVariant = 'default' }) => ({\n  color: styleVariant === 'dark' ? 'rgba(255,255,255,0.7)' : theme.palette.text.secondary,\n  ...theme.components?.InfoBlock?.styleOverrides?.description,\n}));\n\n/**\n * InfoBlock component for displaying information with gradient effects\n * @param {Object} props\n * @param {string} props.title - Title of the info block\n * @param {string} props.description - Description text\n * @param {React.ReactNode} props.children - Optional children content\n * @param {string} props.styleVariant - 'default' | 'dark' - Visual variant of the block\n * @param {Object} props.sx - Additional styles for the container\n * @param {Object} props.titleSx - Additional styles for the title\n * @param {Object} props.descriptionSx - Additional styles for the description\n */\nconst InfoBlock = ({\n  title,\n  description,\n  children,\n  styleVariant = 'default',\n  sx,\n  titleSx,\n  descriptionSx,\n  ...props\n}) => {\n  const theme = useTheme();\n\n  return (\n    <InfoBlockContainer styleVariant={styleVariant} sx={sx} {...props}>\n      {title && (\n        <InfoBlockTitle \n          variant=\"h5\" \n          styleVariant={styleVariant}\n          sx={titleSx}\n        >\n          {title}\n        </InfoBlockTitle>\n      )}\n      {description && (\n        <InfoBlockDescription \n          variant=\"body2\" \n          styleVariant={styleVariant}\n          sx={descriptionSx}\n        >\n          {description}\n        </InfoBlockDescription>\n      )}\n      {children}\n    </InfoBlockContainer>\n  );\n};\n\nexport default InfoBlock;\n","import React, { useState, useEffect, useContext, useCallback, useRef } from 'react';\nimport {\n  Container,\n  Typography,\n  Box,\n  Paper,\n  Grid,\n  Divider,\n  Card,\n  CardContent,\n  Chip,\n  CircularProgress,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Avatar,\n  IconButton,\n  Tooltip,\n  useTheme,\n  alpha,\n  Alert,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Badge,\n  Button,\n  Tabs,\n  Tab,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions as MuiDialogActions,\n  TextField,\n  Snackbar,\n  InputAdornment,\n  useMediaQuery,\n  TableRow,\n  TableCell,\n  TableContainer,\n  TableBody,\n  Table,\n  CardMedia,\n  bottomNavigationActionClasses\n} from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport { AuthContext } from '../../context/AuthContext';\nimport axios from 'axios';\nimport MonetizationOnIcon from '@mui/icons-material/MonetizationOn';\nimport TrendingUpIcon from '@mui/icons-material/TrendingUp';\nimport CalendarTodayIcon from '@mui/icons-material/CalendarToday';\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\nimport TimelineIcon from '@mui/icons-material/Timeline';\nimport InfoIcon from '@mui/icons-material/Info';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport PeopleIcon from '@mui/icons-material/People';\nimport AddIcon from '@mui/icons-material/Add';\nimport PaymentIcon from '@mui/icons-material/Payment';\nimport SendIcon from '@mui/icons-material/Send';\nimport ReceiptLongIcon from '@mui/icons-material/ReceiptLong';\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\nimport DiamondIcon from '@mui/icons-material/Diamond';\nimport { Link } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport { ReactComponent as BallsSVG } from '../../assets/balls.svg';\nimport FlashOnIcon from '@mui/icons-material/FlashOn';\nimport LocalAtmIcon from '@mui/icons-material/LocalAtm';\nimport CreditCardIcon from '@mui/icons-material/CreditCard';\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport TagIcon from '@mui/icons-material/Tag';\nimport CloseIcon from '@mui/icons-material/Close';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf';\nimport { downloadPdfReceipt } from '../../utils/pdfGenerator';\nimport TouchAppIcon from '@mui/icons-material/TouchApp';\nimport CallMadeIcon from '@mui/icons-material/CallMade';\nimport CallReceivedIcon from '@mui/icons-material/CallReceived';\nimport CasinoIcon from '@mui/icons-material/Casino';\nimport SportsEsportsIcon from '@mui/icons-material/SportsEsports';\nimport { TransferMenu } from '../../UIKIT';\nimport StyledTabs from '../../UIKIT/StyledTabs';\nimport ArrowForwardIcon from '@mui/icons-material/ArrowForward';\nimport InfoBlock from '../../UIKIT/InfoBlock';\nimport CardMembershipIcon from '@mui/icons-material/CardMembership';\n\n\n\nconst BalanceAmount = styled(Typography)(({ theme }) => ({\n  fontSize: '3.5rem',\n  fontWeight: '700',\n  marginTop: theme.spacing(0.5),\n  marginBottom: theme.spacing(0.5),\n  color: '#ffffff',\n  lineHeight: 1.2,\n}));\n\nconst TransactionItem = styled(ListItem)(({ theme }) => ({\n  borderRadius: 12,\n  marginBottom: theme.spacing(1),\n  transition: 'all 0.3s ease',\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.primary.main, 0.1),\n    transform: 'translateX(4px)',\n  },\n}));\n\nconst TransactionAmount = styled(Typography)(({ theme, type }) => ({\n  fontWeight: 'bold',\n  fontSize: '0.9rem',\n  padding: '4px 8px',\n  borderRadius: '8px',\n  backgroundColor: type === 'positive' \n    ? alpha(theme.palette.success.main, 0.1)\n    : alpha(theme.palette.error.main, 0.1),\n  color: type === 'positive' \n    ? theme.palette.success.main \n    : theme.palette.error.main,\n}));\n\nconst BadgeImage = styled('img')({\n  width: 40,\n  height: 40,\n  objectFit: 'contain',\n});\n\nconst PointsIcon = styled(Box)(({ theme }) => ({\n  width: 64,\n  height: 64,\n  margin: '0 auto',\n  marginBottom: theme.spacing(2),\n  '& svg': {\n    width: '100%',\n    height: '100%',\n    filter: 'drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2))',\n  }\n}));\n\n\nconst BadgeCard = styled(Paper)(({ theme }) => ({\n  padding: theme.spacing(2),\n  marginBottom: theme.spacing(2),\n  borderRadius: 16,\n  background: alpha(theme.palette.background.paper, 0.4),\n  position: 'relative',\n  overflow: 'hidden',\n}));\n\nconst CreatedBadgeImage = styled('img')({\n  width: 50,\n  height: 50,\n  objectFit: 'contain',\n});\n\nconst ActionButtonsContainer = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  flexDirection: 'row',\n  justifyContent: 'space-between',\n  gap: theme.spacing(2),\n  marginTop: theme.spacing(2)\n}));\n\nconst ActionButtonItem = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center',\n  flex: 1,\n  padding: theme.spacing(1),\n  cursor: 'pointer',\n  borderRadius: 16,\n  transition: 'all 0.2s ease',\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.primary.main, 0.1),\n  },\n}));\n\nconst ActionCircleIcon = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  width: 44,\n  height: 44,\n  borderRadius: '50%',\n  backgroundColor: '#614C93', \n  marginBottom: theme.spacing(0.8),\n  '& svg': {\n    color: '#fff',\n    fontSize: 24,\n  },\n}));\n\nconst ActionButtonText = styled(Typography)(({ theme }) => ({\n  fontSize: '0.6rem',\n  fontWeight: 500,\n  color: '#fff',\n  textAlign: 'center',\n  whiteSpace: 'nowrap',\n  textShadow: '0 1px 2px rgba(0, 0, 0, 0.3)',\n}));\n\nconst TabPanel = ({ children, value, index, ...other }) => (\n  <div\n    role=\"tabpanel\"\n    hidden={value !== index}\n    id={`tabpanel-${index}`}\n    aria-labelledby={`tab-${index}`}\n    {...other}\n    style={{ marginTop: '8px' }}\n  >\n    {value === index && (\n      <Box>\n        {children}\n      </Box>\n    )}\n  </div>\n);\n\n\nconst ActionCardsContainer = styled(Box)(({ theme }) => ({\n  display: 'grid',\n  gridTemplateColumns: 'repeat(3, 1fr)',\n  gap: theme.spacing(2),\n  marginTop: theme.spacing(4),\n  marginBottom: theme.spacing(3),\n  [theme.breakpoints.down('sm')]: {\n    gridTemplateColumns: 'repeat(1, 1fr)',\n  },\n}));\n\nconst ActionCard = styled(Box)(({ theme, colorStart, colorEnd }) => ({\n  position: 'relative',\n  borderRadius: 16,\n  overflow: 'hidden',\n  padding: theme.spacing(2.5),\n  height: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center',\n  cursor: 'pointer',\n  background: `linear-gradient(135deg, ${colorStart} 0%, ${colorEnd} 100%)`,\n  boxShadow: `0 8px 20px -12px ${alpha(colorEnd, 0.6)}`,\n  transition: 'all 0.3s ease',\n  '&:hover': {\n    transform: 'translateY(-5px)',\n    boxShadow: `0 15px 30px -8px ${alpha(colorEnd, 0.7)}`,\n  },\n  '&::after': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    background: `radial-gradient(circle at 100% 0%, ${alpha('#ffffff', 0.2)} 0%, transparent 25%)`,\n    pointerEvents: 'none',\n  },\n}));\n\nconst ActionIcon = styled(Box)(({ theme }) => ({\n  width: 60,\n  height: 60,\n  borderRadius: '50%',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  background: alpha('#ffffff', 0.15),\n  backdropFilter: 'blur(5px)',\n  marginBottom: theme.spacing(1.5),\n  transition: 'all 0.3s ease',\n  boxShadow: `0 4px 15px -5px ${alpha('#000000', 0.2)}`,\n  '& svg': {\n    fontSize: 32,\n    color: '#ffffff',\n  },\n}));\n\nconst ActionTitle = styled(Typography)(({ theme }) => ({\n  fontWeight: 700,\n  color: '#ffffff',\n  fontSize: '1.1rem',\n  textAlign: 'center',\n  marginBottom: theme.spacing(0.5),\n}));\n\nconst ActionSubtitle = styled(Typography)(({ theme }) => ({\n  fontSize: '0.8rem',\n  color: alpha('#ffffff', 0.8),\n  textAlign: 'center',\n}));\n\n\nconst StyledDialog = styled(Dialog)(({ theme }) => ({\n  \"& .MuiDialog-container\": {\n    zIndex: 999999999999\n  },\n  \"& .MuiDialog-paper\": {\n    borderRadius: 16,\n    background: theme.palette.mode === 'dark' \n      ? 'rgba(18, 18, 18, 0.8)' \n      : 'rgba(255, 255, 255, 0.8)',\n    backdropFilter: 'blur(10px)',\n    boxShadow: '0 8px 32px rgba(0, 0, 0, 0.2)',\n    border: theme.palette.mode === 'dark' \n      ? '1px solid rgba(255, 255, 255, 0.1)'\n      : '1px solid rgba(208, 188, 255, 0.3)',\n    overflow: 'hidden',\n    maxWidth: '450px',\n    width: '100%',\n    margin: theme.spacing(2),\n    [theme.breakpoints.down('sm')]: {\n      width: '100%',\n      maxWidth: '100%',\n      margin: 0,\n      borderRadius: 0,\n    },\n  },\n  \"& .MuiDialogTitle-root\": {\n    fontSize: '1.2rem',\n    fontWeight: 500\n  }\n}));\n\nconst DialogHeader = styled(Box)(({ theme }) => ({\n  position: 'relative',\n  overflow: 'hidden',\n  padding: theme.spacing(2),\n  borderBottom: `1px solid ${theme.palette.mode === 'dark' \n    ? 'rgba(255, 255, 255, 0.1)'\n    : 'rgba(208, 188, 255, 0.2)'}`,\n  background: theme.palette.mode === 'dark'\n    ? 'linear-gradient(90deg, rgba(208, 188, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%)'\n    : 'linear-gradient(90deg, rgba(208, 188, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%)',\n}));\n\nconst HeaderGlow = styled(Box)(({ theme }) => ({\n  position: 'absolute',\n  top: -50,\n  right: -50,\n  width: 150,\n  height: 150,\n  borderRadius: '50%',\n  background: 'radial-gradient(circle, rgba(208, 188, 255, 0.3) 0%, rgba(208, 188, 255, 0) 70%)',\n  zIndex: 0\n}));\n\nconst DialogHeaderContent = styled(Box)(({ theme }) => ({\n  position: 'relative',\n  zIndex: 1,\n  display: 'flex',\n  alignItems: 'center'\n}));\n\nconst DialogActions = styled(MuiDialogActions)(({ theme }) => ({\n  padding: theme.spacing(2),\n  paddingLeft: theme.spacing(3),\n  paddingRight: theme.spacing(3),\n  justifyContent: 'space-between',\n  backgroundColor: theme.palette.mode === 'dark'\n    ? 'rgba(0, 0, 0, 0.4)'\n    : 'rgba(255, 255, 255, 0.6)',\n  borderTop: `1px solid ${theme.palette.mode === 'dark' \n    ? 'rgba(255, 255, 255, 0.1)'\n    : 'rgba(208, 188, 255, 0.2)'}`,\n}));\n\nconst CancelButton = styled(Button)(({ theme }) => ({\n  borderRadius: 12,\n  paddingLeft: theme.spacing(3),\n  paddingRight: theme.spacing(3),\n  borderColor: theme.palette.mode === 'dark'\n    ? 'rgba(255, 255, 255, 0.2)'\n    : 'rgba(0, 0, 0, 0.2)',\n  color: theme.palette.mode === 'dark'\n    ? 'rgba(255, 255, 255, 0.7)'\n    : 'rgba(0, 0, 0, 0.7)',\n  '&:hover': {\n    borderColor: theme.palette.mode === 'dark'\n      ? 'rgba(255, 255, 255, 0.4)'\n      : 'rgba(0, 0, 0, 0.4)',\n    background: theme.palette.mode === 'dark'\n      ? 'rgba(255, 255, 255, 0.05)'\n      : 'rgba(0, 0, 0, 0.05)'\n  }\n}));\n\nconst ActionButton = styled(Button)(({ theme }) => ({\n  borderRadius: 12,\n  paddingLeft: theme.spacing(4),\n  paddingRight: theme.spacing(4),\n  paddingTop: theme.spacing(0.75),\n  paddingBottom: theme.spacing(0.75),\n  boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\n  background: 'linear-gradient(45deg, #6200ee 30%, #9c64f2 90%)',\n  color: '#fff',\n  '&:hover': {\n    boxShadow: '0 6px 16px rgba(0, 0, 0, 0.25)',\n  }\n}));\n\nconst ContentBox = styled(Box)(({ theme }) => ({\n  position: 'relative',\n  padding: theme.spacing(2.5),\n  borderRadius: 8,\n  backgroundColor: theme.palette.mode === 'dark'\n    ? 'rgba(208, 188, 255, 0.05)'\n    : 'rgba(208, 188, 255, 0.1)',\n  border: `1px solid ${theme.palette.mode === 'dark' \n    ? 'rgba(208, 188, 255, 0.2)'\n    : 'rgba(208, 188, 255, 0.3)'}`,\n  marginBottom: theme.spacing(2),\n}));\n\nconst KeyTextField = styled(TextField)(({ theme }) => ({\n  '& .MuiOutlinedInput-root': {\n    borderRadius: 12,\n    backgroundColor: theme.palette.mode === 'dark' \n      ? 'rgba(0, 0, 0, 0.3)' \n      : 'rgba(255, 255, 255, 0.8)',\n    '&:hover': {\n      '& .MuiOutlinedInput-notchedOutline': {\n        borderColor: theme.palette.primary.main,\n      }\n    },\n    '&.Mui-focused': {\n      '& .MuiOutlinedInput-notchedOutline': {\n        borderColor: theme.palette.primary.main,\n        borderWidth: 2,\n      }\n    }\n  },\n  '& .MuiOutlinedInput-notchedOutline': {\n    borderColor: theme.palette.mode === 'dark' \n      ? 'rgba(255, 255, 255, 0.2)' \n      : 'rgba(0, 0, 0, 0.1)',\n  },\n  '& .MuiInputLabel-root': {\n    color: theme.palette.mode === 'dark' \n      ? 'rgba(255, 255, 255, 0.7)' \n      : 'rgba(0, 0, 0, 0.7)',\n  }\n}));\n\n\nconst DialogAvatar = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  width: 48,\n  height: 48,\n  borderRadius: '50%',\n  backgroundColor: 'rgba(156, 100, 242, 0.2)',\n  marginRight: theme.spacing(2),\n  '& svg': {\n    color: '#9c64f2',\n    fontSize: 28,\n  }\n}));\n\nconst InputContainer = styled(Box)(({ theme }) => ({\n  marginBottom: theme.spacing(3),\n}));\n\nconst StyledTextField = styled(TextField)(({ theme }) => ({\n  '& .MuiOutlinedInput-root': {\n    borderRadius: 12,\n    backgroundColor: theme.palette.mode === 'dark' \n      ? 'rgba(0, 0, 0, 0.3)' \n      : 'rgba(255, 255, 255, 0.8)',\n    '&:hover': {\n      '& .MuiOutlinedInput-notchedOutline': {\n        borderColor: theme.palette.primary.main,\n      }\n    },\n    '&.Mui-focused': {\n      '& .MuiOutlinedInput-notchedOutline': {\n        borderColor: theme.palette.primary.main,\n        borderWidth: 2,\n      }\n    }\n  },\n  '& .MuiOutlinedInput-notchedOutline': {\n    borderColor: theme.palette.mode === 'dark' \n      ? 'rgba(255, 255, 255, 0.2)' \n      : 'rgba(0, 0, 0, 0.1)',\n  },\n  '& .MuiInputLabel-root': {\n    color: theme.palette.mode === 'dark' \n      ? 'rgba(255, 255, 255, 0.7)' \n      : 'rgba(0, 0, 0, 0.7)',\n  }\n}));\n\nconst SuggestionsContainer = styled(Box)(({ theme }) => ({\n  marginTop: -2,\n  marginBottom: theme.spacing(3),\n  borderRadius: '0 0 12px 12px',\n  backgroundColor: 'rgba(30, 30, 30, 0.95)',\n  border: '1px solid rgba(255, 255, 255, 0.1)',\n  borderTop: 'none',\n  overflow: 'hidden',\n}));\n\nconst SuggestionItem = styled(Box)(({ theme }) => ({\n  padding: theme.spacing(1, 2),\n  display: 'flex',\n  alignItems: 'center',\n  cursor: 'pointer',\n  transition: 'background-color 0.2s',\n  '&:hover': {\n    backgroundColor: 'rgba(255, 255, 255, 0.1)',\n  }\n}));\n\nconst UserAvatar = styled(Avatar)(({ theme }) => ({\n  width: 32,\n  height: 32,\n  fontSize: '0.9rem',\n  marginRight: theme.spacing(1.5),\n  backgroundColor: theme.palette.primary.main,\n}));\n\nconst GradientButton = styled(Button)(({ theme }) => ({\n  borderRadius: 12,\n  paddingLeft: theme.spacing(3),\n  paddingRight: theme.spacing(3),\n  background: 'linear-gradient(45deg, #6200ee 30%, #9c64f2 90%)',\n  color: '#fff',\n  boxShadow: '0 4px 10px rgba(98, 0, 238, 0.25)',\n  '&:hover': {\n    boxShadow: '0 6px 12px rgba(98, 0, 238, 0.4)',\n  },\n  '&:disabled': {\n    background: theme.palette.mode === 'dark' \n      ? 'rgba(255, 255, 255, 0.12)' \n      : 'rgba(0, 0, 0, 0.12)',\n    color: theme.palette.mode === 'dark'\n      ? 'rgba(255, 255, 255, 0.3)'\n      : 'rgba(0, 0, 0, 0.26)',\n  }\n}));\n\n\nconst ReceiptIconButton = styled(Button)(({ theme }) => ({\n  marginTop: theme.spacing(2),\n  marginBottom: theme.spacing(1),\n  padding: theme.spacing(1.5),\n  borderRadius: 16,\n  backgroundColor: alpha(theme.palette.primary.main, 0.1),\n  color: theme.palette.primary.main,\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.primary.main, 0.2),\n  }\n}));\n\nconst SuccessIconWrapper = styled(Box)(({ theme }) => ({\n  width: 80,\n  height: 80,\n  borderRadius: '50%',\n  backgroundColor: alpha(theme.palette.success.main, 0.2),\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  margin: '0 auto',\n  marginBottom: theme.spacing(2),\n}));\n\n\nconst generateReceiptForTransaction = async (transaction) => {\n  try {\n    \n    const transactionId = `TR-${transaction.id || Date.now().toString().slice(-8)}`;\n    \n    \n    const response = await axios.post('/api/user/generate-receipt', {\n      transaction_data: {\n        transactionId: transactionId,\n        amount: Math.abs(transaction.amount),\n        recipientUsername: transaction.type === 'transfer' ? \n          (transaction.amount < 0 ? transaction.recipient_username : transaction.sender_username) : '',\n        senderUsername: transaction.type === 'transfer' ? \n          (transaction.amount < 0 ? transaction.sender_username : transaction.recipient_username) : '',\n        date: transaction.date,\n      }\n    });\n    \n    if (response.data && response.data.success) {\n      \n      const pdfDataUrl = `data:application/pdf;base64,${response.data.pdf_data}`;\n      \n      \n      downloadPdfReceipt(pdfDataUrl, transactionId, response.data.file_path);\n    } else {\n      throw new Error('Не удалось сгенерировать чек на сервере');\n    }\n  } catch (error) {\n    console.error('Ошибка при создании чека для транзакции:', error);\n  }\n};\n\n\nconst TransactionDetailDialog = styled(Dialog)(({ theme }) => ({\n  '& .MuiDialog-paper': {\n    borderRadius: 20,\n    background: theme.palette.mode === 'dark' ? \n      'linear-gradient(135deg, rgba(35, 35, 40, 0.95) 0%, rgba(20, 20, 25, 0.95) 100%)' : \n      'linear-gradient(135deg, rgba(250, 250, 255, 0.95) 0%, rgba(240, 240, 250, 0.95) 100%)',\n    backdropFilter: 'blur(20px)',\n    boxShadow: '0 20px 80px rgba(0, 0, 0, 0.2)',\n    overflow: 'hidden',\n    maxWidth: '500px',\n    [theme.breakpoints.down('sm')]: {\n      width: '100%',\n      maxWidth: '100%',\n      margin: 0,\n      borderRadius: 0,\n    }\n  }\n}));\n\nconst TransactionDetailHeader = styled(Box)(({ theme, type }) => ({\n  padding: theme.spacing(3, 3, 3.5, 3),\n  background: type === 'income' ?\n    'linear-gradient(135deg, rgba(46, 125, 50, 0.1) 0%, rgba(76, 175, 80, 0.2) 100%)' :\n    'linear-gradient(135deg, rgba(211, 47, 47, 0.1) 0%, rgba(244, 67, 54, 0.2) 100%)',\n  borderBottom: `1px solid ${alpha(theme.palette.divider, 0.1)}`,\n  position: 'relative',\n  overflow: 'hidden',\n}));\n\nconst TransactionDetailAmount = styled(Typography)(({ theme, type }) => ({\n  fontWeight: 700,\n  fontSize: '2.2rem',\n  lineHeight: 1.2,\n  color: type === 'income' ? theme.palette.success.main : theme.palette.error.main,\n  marginTop: theme.spacing(1),\n  marginBottom: theme.spacing(0.5),\n}));\n\nconst TransactionStatusChip = styled(Chip)(({ theme, status }) => ({\n  borderRadius: 12,\n  height: 24,\n  fontSize: '0.7rem',\n  fontWeight: 600,\n  backgroundColor: status === 'completed' ? \n    alpha(theme.palette.success.main, 0.1) : \n    alpha(theme.palette.grey[500], 0.1),\n  color: status === 'completed' ? \n    theme.palette.success.main : \n    theme.palette.grey[500],\n  border: `1px solid ${status === 'completed' ? \n    alpha(theme.palette.success.main, 0.3) : \n    alpha(theme.palette.grey[500], 0.3)}`,\n  margin: theme.spacing(0, 0.5),\n}));\n\nconst DetailRow = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center',\n  padding: theme.spacing(1.5, 0),\n  borderBottom: `1px solid ${alpha(theme.palette.divider, 0.1)}`,\n  '&:last-child': {\n    borderBottom: 'none',\n  }\n}));\n\nconst DetailLabel = styled(Typography)(({ theme }) => ({\n  color: alpha(theme.palette.text.primary, 0.6),\n  fontSize: '0.85rem',\n  fontWeight: 500,\n}));\n\nconst DetailValue = styled(Typography)(({ theme }) => ({\n  color: theme.palette.text.primary,\n  fontSize: '0.85rem',\n  fontWeight: 600,\n  textAlign: 'right',\n  wordBreak: 'break-word',\n  maxWidth: '50%',\n}));\n\nconst TransactionAvatar = styled(Avatar)(({ theme, transactionType }) => ({\n  width: 46,\n  height: 46,\n  borderRadius: 14,\n  backgroundColor: transactionType === 'positive' ? \n    alpha(theme.palette.success.main, 0.15) : \n    alpha(theme.palette.error.main, 0.15),\n  border: `1px solid ${transactionType === 'positive' ? \n    alpha(theme.palette.success.main, 0.3) : \n    alpha(theme.palette.error.main, 0.3)}`,\n  padding: theme.spacing(0.7),\n  '& .MuiSvgIcon-root': {\n    fontSize: '1.4rem',\n  }\n}));\n\nconst BankStyleTransactionItem = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  padding: '2.5px',\n  width: '100%',\n  cursor: 'pointer',\n  transition: 'all 0.2s ease',\n  '&:hover': {\n    backgroundColor: 'rgba(255, 255, 255, 0.05)',\n  }\n}));\n\nconst TransactionInfo = styled(Box)(({ theme }) => ({\n  marginLeft: theme.spacing(2),\n  flex: 1,\n  width: '100%',\n  overflow: 'hidden',\n}));\n\nconst TransactionTitle = styled(Typography)(({ theme }) => ({\n  fontWeight: 600,\n  fontSize: '0.95rem',\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  maxWidth: '260px',\n  '@media (max-width: 600px)': {\n    maxWidth: '160px',\n  },\n}));\n\nconst TransactionDate = styled(Typography)(({ theme }) => ({\n  fontSize: '0.75rem',\n  color: alpha(theme.palette.text.secondary, 0.8),\n  marginTop: 2,\n}));\n\nconst TransactionDetailContent = styled(DialogContent)(({ theme }) => ({\n  padding: theme.spacing(3),\n}));\n\n// Add styled component for expandable content\nconst ExpandableContent = styled(Box)(({ theme, expanded }) => ({\n  maxHeight: expanded ? '1000px' : '0',\n  overflow: 'hidden',\n  opacity: expanded ? 1 : 0,\n  transition: theme.transitions.create(['opacity', 'max-height'], {\n    duration: theme.transitions.duration.standard\n  })\n}));\n\nconst ExpandIcon = styled(ExpandMoreIcon)(({ theme, expanded }) => ({\n  transition: theme.transitions.create('transform', {\n    duration: theme.transitions.duration.shortest,\n  }),\n  transform: expanded ? 'rotate(180deg)' : 'rotate(0deg)',\n  color: 'rgba(255,255,255,0.7)',\n}));\n\nconst BalancePage = () => {\n  const { user } = useContext(AuthContext);\n  const theme = useTheme();\n  const navigate = useNavigate();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const [userPoints, setUserPoints] = useState(0);\n  const [weeklyEstimate, setWeeklyEstimate] = useState(0);\n  const [purchaseHistory, setPurchaseHistory] = useState([]);\n  const [royaltyHistory, setRoyaltyHistory] = useState([]);\n  const [transferHistory, setTransferHistory] = useState([]);\n  const [createdBadges, setCreatedBadges] = useState([]);\n  const [usernamePurchases, setUsernamePurchases] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [tabValue, setTabValue] = useState(0);\n  const [transferDialogOpen, setTransferDialogOpen] = useState(false);\n  const [newTransferMenuOpen, setNewTransferMenuOpen] = useState(false);\n  const [transferData, setTransferData] = useState({ username: '', amount: '', message: '', recipient_id: null });\n  const [transferErrors, setTransferErrors] = useState({});\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'info' });\n  const [userSearch, setUserSearch] = useState({\n    loading: false,\n    exists: false,\n    suggestions: [],\n    timer: null\n  });\n  const [openKeyDialog, setOpenKeyDialog] = useState(false);\n  const [keyValue, setKeyValue] = useState('');\n  const [isSubmittingKey, setIsSubmittingKey] = useState(false);\n  const [keyError, setKeyError] = useState('');\n  const [keySuccess, setKeySuccess] = useState(null);\n  const [activeTopupTab, setActiveTopupTab] = useState(0);\n  const [transferSuccess, setTransferSuccess] = useState(false);\n  const [receiptData, setReceiptData] = useState(null);\n  const [subscription, setSubscription] = useState(null);\n  const [isTransferring, setIsTransferring] = useState(false);\n  \n  const [detailDialogOpen, setDetailDialogOpen] = useState(false);\n  const [selectedTransaction, setSelectedTransaction] = useState(null);\n  const [gameTransactions, setGameTransactions] = useState([]);\n  \n  const debounceTimerRef = useRef(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const ITEMS_PER_PAGE = 10;\n  const [isPointsInfoExpanded, setIsPointsInfoExpanded] = useState(false);\n\n  \n  const allTransactions = React.useMemo(() => {\n    const purchases = purchaseHistory.map(purchase => ({\n      ...purchase,\n      type: 'purchase',\n      date: new Date(purchase.purchase_date),\n      amount: -purchase.price_paid,\n      title: `Покупка бейджика`,\n      description: `\"${purchase.badge.name}\"`,\n      icon: <ShoppingCartIcon sx={{ color: 'error.main' }} />\n    }));\n\n    const royalties = royaltyHistory.map(royalty => ({\n      ...royalty,\n      type: 'royalty',\n      date: new Date(royalty.purchase_date),\n      amount: royalty.royalty_amount,\n      title: `Роялти от покупки`,\n      description: `${royalty.buyer.name}`,\n      buyer_name: royalty.buyer.name,\n      badge_name: royalty.badge_name,\n      icon: <MonetizationOnIcon sx={{ color: 'success.main' }} />\n    }));\n\n    const transfers = transferHistory.map(transfer => {\n\n      const senderId = parseInt(transfer.sender_id, 10);\n      const userId = parseInt(user.id, 10);\n      const is_sender = senderId === userId;\n      \n      const isClickerWithdrawal = transfer.sender_id === transfer.recipient_id && \n                               transfer.message === \"Вывод баллов из кликера\";\n      \n      let title = isClickerWithdrawal ? 'Вывод из кликера' : \n                 (is_sender ? 'Перевод' : 'Пополнение');\n      let description = isClickerWithdrawal ? 'Баллы из кликера' : \n                       (is_sender ? transfer.recipient_username : transfer.sender_username);\n      \n      return {\n        ...transfer,\n        type: 'transfer',\n        date: new Date(transfer.date),\n        amount: isClickerWithdrawal ? transfer.amount : (is_sender ? -transfer.amount : transfer.amount),\n        title: title,\n        description: description,\n        is_sender: isClickerWithdrawal ? false : is_sender,\n        icon: isClickerWithdrawal \n          ? <TouchAppIcon sx={{ color: 'success.main' }} />\n          : (is_sender \n              ? <SendIcon sx={{ color: 'error.main' }} />\n              : <AccountBalanceWalletIcon sx={{ color: 'success.main' }} />)\n      };\n    });\n\n    const usernames = usernamePurchases.map(purchase => ({\n      ...purchase,\n      type: 'username',\n      date: new Date(purchase.purchase_date),\n      amount: -purchase.price_paid,\n      title: `Покупка юзернейма`,\n      description: `@${purchase.username}`,\n      icon: <AccountCircleIcon sx={{ color: 'error.main' }} />\n    }));\n\n\n    const weeklyActivities = gameTransactions\n      .filter(transaction => transaction.transaction_type === 'weekly_activity')\n      .map(transaction => {\n        return {\n          ...transaction,\n          type: 'weekly_activity',\n          date: new Date(transaction.date || transaction.created_at),\n          title: 'Еженедельные баллы',\n          description: transaction.description || 'Начисление за активность',\n          icon: <TrendingUpIcon sx={{ color: 'success.main' }} />\n        };\n      });\n    \n\n    const otherGameTransactions = gameTransactions\n      .filter(transaction => transaction.transaction_type !== 'weekly_activity')\n      .map(transaction => {\n        let icon = null;\n        let title = transaction.description || 'Транзакция';\n        let type = transaction.transaction_type || 'unknown';\n        \n\n        if (type.includes('blackjack') || type.includes('minigame')) {\n\n          if (type === 'blackjack_win' || type === 'blackjack_win_21') {\n            icon = <CasinoIcon sx={{ color: 'success.main' }} />;\n            title = 'Выигрыш в игре \"21\"';\n          } else if (type === 'blackjack_tie') {\n            icon = <CasinoIcon sx={{ color: 'info.main' }} />;\n            title = 'Ничья в игре \"21\"';\n          } else if (type === 'blackjack_lose' || type === 'blackjack_lose_bust') {\n            icon = <CasinoIcon sx={{ color: 'error.main' }} />;\n            title = 'Проигрыш в игре \"21\"';\n          } else if (type === 'minigame_bet') {\n            icon = <SportsEsportsIcon sx={{ color: 'error.main' }} />;\n            title = 'Ставка в мини-игре';\n          } else {\n            icon = <SportsEsportsIcon sx={{ color: transaction.amount > 0 ? 'success.main' : 'error.main' }} />;\n          }\n        }\n        \n        return {\n          ...transaction, \n          type: 'game',\n          date: new Date(transaction.date),\n          title: title,\n          description: transaction.transaction_type.replace(/_/g, ' '),\n          icon: icon\n        };\n      });\n    \n    return [...purchases, ...royalties, ...transfers, ...usernames, ...weeklyActivities, ...otherGameTransactions]\n      .sort((a, b) => b.date - a.date);\n  }, [purchaseHistory, royaltyHistory, transferHistory, usernamePurchases, gameTransactions, user?.id]);\n\n  useEffect(() => {\n    if (user) {\n      \n      fetchUserPoints();\n      fetchWeeklyEstimate();\n      fetchPurchaseHistory();\n      fetchRoyaltyHistory();\n      fetchCreatedBadges();\n      fetchTransferHistory();\n      fetchUsernamePurchases();\n      fetchSubscriptionStatus();\n      fetchGameTransactions();\n    }\n  }, [user]);\n\n  \n  useEffect(() => {\n    console.log('Subscription state changed:', subscription);\n  }, [subscription]);\n\n  \n  const fetchUserPoints = async () => {\n    try {\n      const response = await axios.get('/api/user/points');\n      setUserPoints(response.data.points);\n    } catch (error) {\n      console.error('Ошибка при загрузке баллов:', error);\n      setError('Не удалось загрузить баланс баллов');\n    }\n  };\n\n  \n  const fetchWeeklyEstimate = async () => {\n    try {\n      \n      const response = await axios.get('/api/leaderboard/user/' + user.id + '?period=week');\n      setWeeklyEstimate(response.data.score || 0);\n    } catch (error) {\n      console.error('Ошибка при загрузке прогноза:', error);\n      setWeeklyEstimate(0);\n    }\n  };\n\n  \n  const fetchPurchaseHistory = async () => {\n    try {\n      const response = await axios.get('/api/badges/purchases');\n      \n      const sortedPurchases = response.data.purchases.sort((a, b) => \n        new Date(b.purchase_date) - new Date(a.purchase_date)\n      );\n      setPurchaseHistory(sortedPurchases);\n    } catch (error) {\n      console.error('Ошибка при загрузке истории покупок:', error);\n      setPurchaseHistory([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  \n  const fetchRoyaltyHistory = async () => {\n    try {\n      const response = await axios.get('/api/badges/royalties');\n      \n      console.log('Received royalty data:', response.data);\n      setRoyaltyHistory(response.data.royalties || []);\n    } catch (error) {\n      console.error('Ошибка при загрузке истории роялти:', error);\n      setRoyaltyHistory([]);\n    }\n  };\n\n  \n  const fetchCreatedBadges = async () => {\n    try {\n      const response = await axios.get('/api/badges/created');\n      console.log('Received created badges data:', response.data);\n      setCreatedBadges(response.data.badges || []);\n    } catch (error) {\n      console.error('Ошибка при загрузке созданных бейджиков:', error);\n      setCreatedBadges([]);\n    }\n  };\n\n  \n  const fetchTransferHistory = async () => {\n    try {\n      const response = await axios.get('/api/user/transfer-history');\n      if (response.data && response.data.transfers) {\n        setTransferHistory(response.data.transfers);\n      }\n    } catch (error) {\n      console.error('Ошибка при получении истории переводов:', error);\n      \n    }\n  };\n\n  \n  const fetchUsernamePurchases = async () => {\n    try {\n      const response = await axios.get('/api/user/username-purchases');\n      if (response.data && response.data.purchases) {\n        setUsernamePurchases(response.data.purchases);\n      }\n    } catch (error) {\n      console.error('Ошибка при получении истории покупок юзернеймов:', error);\n      \n    }\n  };\n\n  \n  const searchUser = useCallback((username) => {\n    // Always clear previous timer first to reset the debounce\n    if (debounceTimerRef.current) {\n      clearTimeout(debounceTimerRef.current);\n    }\n    \n    // If username is empty, just reset everything\n    if (!username) {\n      setUserSearch(prev => ({\n        ...prev,\n        loading: false,\n        exists: false,\n        suggestions: [],\n      }));\n      setTransferData(prev => ({...prev, recipient_id: null}));\n      return;\n    }\n    \n    // Set new timer\n    debounceTimerRef.current = setTimeout(() => {\n      // Only show loading and make the API call after timeout\n      setUserSearch(prev => ({ ...prev, loading: true }));\n      \n      axios.get(`/api/user/search-recipients?query=${username}`)\n        .then(response => {\n          if (response.data && response.data.users) {\n            // Find exact match\n            const exactMatch = response.data.users.find(\n              user => user.username.toLowerCase() === username.toLowerCase()\n            );\n            \n            // Update recipient ID if exact match found\n            if (exactMatch) {\n              setTransferData(prev => ({...prev, recipient_id: exactMatch.id}));\n            } else {\n              setTransferData(prev => ({...prev, recipient_id: null}));\n            }\n            \n            // Update search results\n            setUserSearch(prev => ({\n              ...prev,\n              loading: false,\n              exists: !!exactMatch,\n              suggestions: response.data.users.slice(0, 3),\n            }));\n          } else {\n            setUserSearch(prev => ({\n              ...prev,\n              loading: false,\n              exists: false,\n              suggestions: [],\n            }));\n            setTransferData(prev => ({...prev, recipient_id: null}));\n          }\n        })\n        .catch(error => {\n          console.error('Ошибка при поиске пользователя:', error);\n          setUserSearch(prev => ({\n            ...prev,\n            loading: false,\n            exists: false,\n            suggestions: [],\n          }));\n          setTransferData(prev => ({...prev, recipient_id: null}));\n        });\n    }, 1000); // 1 second delay\n  }, []);\n  \n  \n  const handleUsernameChange = (e) => {\n    const username = e.target.value;\n    setTransferData(prev => ({...prev, username}));\n    \n    // Simple pass to searchUser, which now handles proper debouncing\n    if (username.trim()) {\n      searchUser(username.trim());\n    } else {\n      // If empty, reset search state and clear any pending timers\n      if (debounceTimerRef.current) {\n        clearTimeout(debounceTimerRef.current);\n        debounceTimerRef.current = null;\n      }\n      setUserSearch(prev => ({\n        ...prev,\n        loading: false,\n        exists: false,\n        suggestions: [],\n      }));\n      setTransferData(prev => ({...prev, recipient_id: null}));\n    }\n  };\n  \n  \n  const selectSuggestion = (username, userId) => {\n    setTransferData(prev => ({...prev, username, recipient_id: userId}));\n    setUserSearch(prev => ({\n      ...prev,\n      loading: false,\n      exists: true,\n      suggestions: []\n    }));\n  };\n\n  \n  const handleTransferPoints = async () => {\n    const errors = {};\n    if (!transferData.username) errors.username = 'Введите имя пользователя';\n    if (!transferData.recipient_id) errors.username = 'Пользователь не найден';\n    if (!transferData.amount) {\n      errors.amount = 'Введите сумму перевода';\n    } else if (isNaN(transferData.amount) || parseInt(transferData.amount) <= 0) {\n      errors.amount = 'Сумма должна быть положительным числом';\n    } else if (parseInt(transferData.amount) > userPoints) {\n      errors.amount = 'Недостаточно баллов для перевода';\n    }\n\n    if (Object.keys(errors).length > 0) {\n      setTransferErrors(errors);\n      return;\n    }\n\n\n    if (isTransferring) return;\n\n    setTransferErrors({});\n    setIsTransferring(true);\n    \n    try {\n      \n      const response = await axios.post('/api/user/transfer-points', {\n        recipient_username: transferData.username,\n        recipient_id: transferData.recipient_id,\n        amount: parseInt(transferData.amount),\n        message: transferData.message\n      });\n      \n      \n      fetchUserPoints();\n      \n      \n      setTransferDialogOpen(false);\n      \n      \n      try {\n        const now = new Date();\n        const transactionId = `TR-${Date.now().toString().slice(-8)}`;\n        \n        \n        const response = await axios.post('/api/user/generate-receipt', {\n          transaction_data: {\n            transactionId: transactionId,\n            amount: parseInt(transferData.amount),\n            recipientUsername: transferData.username,\n            senderUsername: user.username,\n            date: now.toISOString(),\n          }\n        });\n        \n        if (response.data && response.data.success) {\n          \n          const receiptData = {\n            dataUrl: `data:application/pdf;base64,${response.data.pdf_data}`,\n            filePath: response.data.file_path\n          };\n          \n          setReceiptData(receiptData);\n          setTransferSuccess(true);\n        } else {\n          throw new Error('Не удалось сгенерировать чек на сервере');\n        }\n      } catch (error) {\n        console.error('Ошибка при создании чека:', error);\n      }\n      \n      \n      fetchTransferHistory();\n      \n      \n      setTransferData({ username: '', amount: '', message: '', recipient_id: null });\n    } catch (error) {\n      console.error('Ошибка при переводе баллов:', error);\n      setSnackbar({\n        open: true,\n        message: error.response?.data?.error || 'Ошибка при переводе баллов',\n        severity: 'error'\n      });\n    } finally {\n      setIsTransferring(false);\n    }\n  };\n\n  \n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    \n    \n    const userTimezoneOffset = date.getTimezoneOffset();\n    \n    \n    const userDate = new Date(date.getTime() - (userTimezoneOffset * 60000));\n    \n    \n    const formattedDate = userDate.toLocaleString('ru-RU', {\n      day: 'numeric',\n      month: 'long',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: false, \n      timeZoneName: 'short' \n    });\n    \n    return formattedDate;\n  };\n\n  \n  const getCurrentWeekRange = () => {\n    const now = new Date();\n    const dayOfWeek = now.getDay(); \n    const mondayOffset = dayOfWeek === 0 ? -6 : 1 - dayOfWeek; \n    \n    const monday = new Date(now);\n    monday.setDate(now.getDate() + mondayOffset);\n    monday.setHours(0, 0, 0, 0);\n    \n    const sunday = new Date(monday);\n    sunday.setDate(monday.getDate() + 6);\n    sunday.setHours(23, 50, 0, 0);\n    \n    return {\n      start: monday.toLocaleDateString('ru-RU', { day: 'numeric', month: 'long' }),\n      end: sunday.toLocaleDateString('ru-RU', { day: 'numeric', month: 'long' })\n    };\n  };\n\n  \n  const weekRange = getCurrentWeekRange();\n\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n\n  const handleCloseSnackbar = () => {\n    setSnackbar(prev => ({ ...prev, open: false }));\n  };\n\n  \n  const formatKeyInput = (input) => {\n    \n    const cleaned = input.replace(/[^A-Za-z0-9]/g, '').toUpperCase();\n    \n    \n    let formatted = '';\n    for (let i = 0; i < cleaned.length; i++) {\n      if (i > 0 && i % 4 === 0 && i < 16) {\n        formatted += '-';\n      }\n      if (i < 16) { \n        formatted += cleaned[i];\n      }\n    }\n    \n    return formatted;\n  };\n  \n  \n  const handleKeyChange = (e) => {\n    const formattedKey = formatKeyInput(e.target.value);\n    setKeyValue(formattedKey);\n    setKeyError('');\n  };\n  \n  \n  const isValidKeyFormat = (key) => {\n    \n    return /^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(key);\n  };\n  \n  \n  const handleRedeemKey = async () => {\n    setKeyError('');\n    setKeySuccess(null);\n    setIsSubmittingKey(true);\n    \n    try {\n      const response = await fetch('/api/user/redeem-key', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ key: keyValue }),\n      });\n      \n      const data = await response.json();\n      \n      if (!response.ok) {\n\n        if (data.error && data.error.includes('Невозможно активировать подписку') && \n            data.error.includes('так как у вас уже есть подписка более высокого уровня')) {\n          setKeyError(data.error);\n        } else {\n          setKeyError(data.error || 'Ошибка при активации ключа');\n        }\n        setIsSubmittingKey(false);\n        return;\n      }\n      \n      if (data.type === 'points') {\n        \n        setKeySuccess({\n          message: data.message,\n          type: 'points',\n          newBalance: data.new_balance\n        });\n        \n        setUserPoints(data.new_balance);\n      } else if (data.type === 'subscription') {\n        \n        setKeySuccess({\n          message: data.message,\n          type: 'subscription',\n          subscriptionType: data.subscription_type,\n          expiresAt: data.expires_at,\n          duration_days: data.duration_days\n        });\n        \n        fetchSubscriptionStatus();\n      }\n      \n    } catch (error) {\n      console.error('Ошибка при активации ключа:', error);\n      setKeyError('Произошла ошибка при активации ключа');\n    } finally {\n      setIsSubmittingKey(false);\n    }\n  };\n\n  \n  const fetchSubscriptionStatus = async () => {\n    try {\n      console.log('Fetching subscription status...');\n      const response = await axios.get('/api/user/subscription/status');\n      \n      if (response.data) {\n        console.log('Received subscription data:', response.data);\n        \n        \n        if (response.data.active && response.data.subscription_type) {\n          setSubscription({\n            active: true,\n            type: response.data.subscription_type,\n            expires_at: response.data.expiration_date,\n            \n            features: response.data.features || []\n          });\n        } else {\n          \n          setSubscription(null);\n        }\n      } else {\n        console.error('Invalid subscription status response');\n        setSubscription(null);\n      }\n    } catch (error) {\n      console.error('Error fetching subscription status:', error);\n      setSubscription(null);\n    }\n  };\n\n  \n  const handleOpenTransactionDetails = (transaction) => {\n    setSelectedTransaction(transaction);\n    setDetailDialogOpen(true);\n  };\n\n  \n  const handleCloseTransactionDetails = () => {\n    setDetailDialogOpen(false);\n    setSelectedTransaction(null);\n  };\n\n  \n  const formatCurrency = (amount) => {\n    const absAmount = Math.abs(amount);\n    return `${amount < 0 ? '-' : '+'}${absAmount}`;\n  };\n\n  \n  const getTransactionId = (transaction) => {\n    return `TR-${transaction.id || new Date(transaction.date).getTime().toString().slice(-8)}`;\n  };\n\n  const fetchGameTransactions = async () => {\n    try {\n      const response = await axios.get('/api/user/transactions-history');\n      if (response.data && response.data.transactions) {\n        setGameTransactions(response.data.transactions);\n      }\n    } catch (error) {\n      console.error('Ошибка при получении истории игровых транзакций:', error);\n    }\n  };\n\n  // Add new useEffect to reset loading state when username changes\n  useEffect(() => {\n    // If user changes the username, cancel any loading state\n    if (userSearch.loading) {\n      setUserSearch(prev => ({\n        ...prev,\n        loading: false\n      }));\n    }\n  }, [transferData.username]);\n\n  // Update the dialog close handler\n  const handleCloseTransferDialog = () => {\n    // Clear the debounce timer properly\n    if (debounceTimerRef.current) {\n      clearTimeout(debounceTimerRef.current);\n      debounceTimerRef.current = null;\n    }\n    \n    // Reset all state\n    setTransferDialogOpen(false);\n    setTransferData({ username: '', amount: '', message: '', recipient_id: null });\n    setTransferErrors({});\n    setUserSearch({\n      loading: false,\n      exists: false,\n      suggestions: [],\n    });\n  };\n\n  // Find the useEffect for dialog closing and update it\n  useEffect(() => {\n    if (!newTransferMenuOpen && debounceTimerRef.current) {\n      clearTimeout(debounceTimerRef.current);\n      debounceTimerRef.current = null;\n    }\n  }, [newTransferMenuOpen]);\n\n  // Add a cleanup useEffect after the existing one\n  useEffect(() => {\n    // Cleanup function for component unmount\n    return () => {\n      if (debounceTimerRef.current) {\n        clearTimeout(debounceTimerRef.current);\n        debounceTimerRef.current = null;\n      }\n    };\n  }, []);\n\n  // Add handler for the new transfer menu\n  const handleNewTransferSuccess = (receiptData) => {\n    // Don't set transferSuccess to true, as the new component has its own success UI\n    // Just update the balance and history\n    fetchUserPoints();\n    fetchTransferHistory();\n  };\n\n  const getTransactionDescription = (transaction) => {\n    switch (transaction.transaction_type) {\n      case 'weekly_activity':\n        return 'Еженедельное начисление баллов за активность';\n      case 'top_prize':\n        if (transaction.description.includes('Ultimate подписка')) {\n          return 'Приз за 1 место - Ultimate подписка на 30 дней';\n        } else if (transaction.description.includes('2 место')) {\n          return 'Приз за 2 место - бонусные баллы';\n        } else if (transaction.description.includes('3 место')) {\n          return 'Приз за 3 место - бонусные баллы';\n        }\n        return transaction.description;\n      case 'purchase':\n        return 'Покупка';\n      case 'transfer':\n        return transaction.description || 'Перевод баллов';\n      case 'royalty':\n        return 'Роялти';\n      case 'game':\n        return 'Игровая транзакция';\n      case 'key_redeem':\n        return 'Активация ключа';\n      default:\n        return transaction.description || 'Транзакция';\n    }\n  };\n\n  const renderTransactionRow = (transaction) => {\n    const isPositive = ['weekly_activity', 'top_prize', 'royalty', 'key_redeem'].includes(transaction.transaction_type);\n    const amount = transaction.amount || 0;\n    \n    return (\n      <TableRow \n        key={getTransactionId(transaction)}\n        hover\n        onClick={() => handleOpenTransactionDetails(transaction)}\n        sx={{ cursor: 'pointer' }}\n      >\n        <TableCell>\n          <Typography variant=\"body2\">\n            {getTransactionDescription(transaction)}\n          </Typography>\n          <Typography variant=\"caption\" color=\"textSecondary\">\n            {formatDate(transaction.created_at)}\n          </Typography>\n        </TableCell>\n        <TableCell align=\"right\">\n          <Typography\n            variant=\"body2\"\n            color={isPositive ? 'success.main' : 'error.main'}\n            sx={{ fontWeight: 'bold' }}\n          >\n            {isPositive ? '+' : '-'}{formatCurrency(amount)}\n          </Typography>\n        </TableCell>\n      </TableRow>\n    );\n  };\n\n  // Calculate paginated transactions\n  const paginatedTransactions = React.useMemo(() => {\n    const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\n    return allTransactions.slice(startIndex, startIndex + ITEMS_PER_PAGE);\n  }, [allTransactions, currentPage]);\n\n  const hasNextPage = allTransactions.length > currentPage * ITEMS_PER_PAGE;\n\n  const handleNextPage = () => {\n    setCurrentPage(prev => prev + 1);\n  };\n\n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"80vh\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Container \n      maxWidth=\"md\" \n      sx={{ \n        py: 4, \n        pb: 12.5, \n        paddingTop: 2,\n        [theme.breakpoints.down('sm')]: { pl: 1, pr: 1 }\n      }}\n    >\n      <InfoBlock\n        styleVariant=\"dark\"\n        sx={{\n          '&::before': {\n            bottom: 0,\n            transform: 'rotate(-12deg)',\n          },\n          '&::after': {\n            bottom: 0,\n            transform: 'rotate(12deg)',\n          }\n        }}\n        title={\n          <Box sx={{ textAlign: 'center' }}>\n            <PointsIcon>\n              <BallsSVG />\n            </PointsIcon>\n            <Typography \n              variant=\"subtitle1\" \n              sx={{ \n                color: 'rgba(255,255,255,0.8)',\n                marginBottom: 1\n              }}\n            >\n              Текущий баланс\n            </Typography>\n            <BalanceAmount>\n              {userPoints}\n            </BalanceAmount>\n          </Box>\n        }\n        description={\n          <ActionButtonsContainer>\n            <ActionButtonItem onClick={() => navigate('/badge-shop')}>\n              <ActionCircleIcon>\n                <PaymentIcon />\n              </ActionCircleIcon>\n              <ActionButtonText>Оплатить</ActionButtonText>\n            </ActionButtonItem>\n            \n            <ActionButtonItem onClick={() => setOpenKeyDialog(true)}>\n              <ActionCircleIcon>\n                <AddIcon />\n              </ActionCircleIcon>\n              <ActionButtonText>Пополнить</ActionButtonText>\n            </ActionButtonItem>\n\n            <ActionButtonItem onClick={() => setNewTransferMenuOpen(true)}>\n              <ActionCircleIcon>\n                <SendIcon />\n              </ActionCircleIcon>\n              <ActionButtonText>Перевести</ActionButtonText>\n            </ActionButtonItem>\n          </ActionButtonsContainer>\n        }\n      />\n\n      <InfoBlock\n        styleVariant=\"dark\"\n        description={\n          <>\n            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n              <CalendarTodayIcon sx={{ mr: 1, color: 'rgba(255,255,255,0.7)' }} />\n              <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.7)' }}>\n                {weekRange.start} — {weekRange.end}\n              </Typography>\n            </Box>\n\n            <Typography variant=\"h4\" sx={{ fontWeight: 'bold', color: '#4caf50', mb: 2 }}>\n              +{weeklyEstimate} баллов\n            </Typography>\n\n            <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.7)' }}>\n              Это прогноз баллов, которые вы получите в конце недели за вашу активность. \n              Обновляется раз в час.\n            </Typography>\n          </>\n        }\n      />\n\n      <InfoBlock\n        styleVariant=\"dark\"\n        title={\n          <Box \n            sx={{ \n              display: 'flex', \n              alignItems: 'center', \n              justifyContent: 'space-between', \n              width: '100%',\n              cursor: 'pointer',\n              marginBottom: 0\n            }}\n            onClick={() => setIsPointsInfoExpanded(!isPointsInfoExpanded)}\n          >\n            <Box sx={{ display: 'flex', alignItems: 'center'}}>\n              <InfoIcon sx={{ mr: 1, color: 'rgba(255,255,255,0.7)' }} />\n              <Typography variant=\"h6\" sx={{ color: 'white' }}>\n                Как начисляются баллы?\n              </Typography>\n              <ExpandIcon \n                expanded={isPointsInfoExpanded} \n                sx={{ ml: 1 }}\n              />\n            </Box>\n            <Box onClick={(e) => e.stopPropagation()}>\n              <Tooltip title=\"Подробнее о начислении баллов\">\n                <IconButton \n                  size=\"small\"\n                  component={Link}\n                  to=\"/leaderboard\"\n                  sx={{ \n                    color: 'rgba(255,255,255,0.7)',\n                    '&:hover': {\n                      color: 'white',\n                      backgroundColor: 'rgba(255,255,255,0.1)'\n                    }\n                  }}\n                >\n                  <TimelineIcon />\n                </IconButton>\n              </Tooltip>\n            </Box>\n          </Box>\n        }\n        description={\n          <ExpandableContent expanded={isPointsInfoExpanded}>\n            <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.7)', mt: 2 }}>\n              Баллы начисляются за активность на платформе:\n            </Typography>\n            <Box component=\"ul\" sx={{ \n              color: 'rgba(255,255,255,0.7)', \n              mt: 1, \n              pl: 2,\n              '& li': { mb: 1 }\n            }}>\n              <li>Создание постов и историй</li>\n              <li>Получение лайков и комментариев</li>\n              <li>Ответы на комментарии</li>\n              <li>Репосты и просмотры</li>\n              <li>Реакции на истории</li>\n            </Box>\n            <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.7)', mt: 2 }}>\n              Подробную информацию о системе начисления баллов можно найти в разделе рейтинга.\n            </Typography>\n          </ExpandableContent>\n        }\n      />\n\n      \n      <StyledTabs\n        value={tabValue}\n        onChange={handleTabChange}\n        variant=\"fullWidth\"\n        fullWidth={true}\n        tabs={[\n          {\n            label: \"История\",\n            value: 0,\n            icon: ReceiptLongIcon,\n            iconPosition: \"start\"\n          },\n          {\n            label: \"Активы\",\n            value: 1,\n            icon: DiamondIcon,\n            iconPosition: \"start\"\n          },\n          {\n            label: \"Подписка\",\n            value: 2,\n            icon: FlashOnIcon,\n            iconPosition: \"start\"\n          }\n        ]}\n      />\n\n      \n      <TabPanel value={tabValue} index={0}>\n        <InfoBlock\n          styleVariant=\"dark\"\n\n          description={null}\n          sx={{ \n            pt: 0,\n            padding: '2.5px',\n            '&::before': {\n              top: 0,\n              transform: 'rotate(-12deg)',\n              height: '90px'\n            },\n            '&::after': {\n              top: 0,\n              transform: 'rotate(12deg)',\n              height: '90px'\n            }\n          }}\n        >\n          {loading ? (\n            <Box display=\"flex\" justifyContent=\"center\" my={4}>\n              <CircularProgress size={30} />\n            </Box>\n          ) : allTransactions.length === 0 ? (\n            <Box sx={{ textAlign: 'center', py: 3 }}>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                У вас пока нет истории транзакций\n              </Typography>\n            </Box>\n          ) : (\n            <>\n              <List sx={{ width: '100%' }}>\n                {paginatedTransactions.map((transaction, index) => (\n                  <TransactionItem \n                    key={`${transaction.type}-${transaction.id || index}`}\n                    onClick={() => handleOpenTransactionDetails(transaction)}\n                  >\n                    <BankStyleTransactionItem>\n                      <TransactionAvatar \n                        transactionType={transaction.amount > 0 ? 'positive' : 'negative'}\n                      >\n                        {transaction.type === 'purchase' ? (\n                          <BadgeImage \n                            src={`/static/images/bages/shop/${transaction.badge.image_path}`}\n                            alt={transaction.badge.name}\n                          />\n                        ) : transaction.icon}\n                      </TransactionAvatar>\n                      <TransactionInfo>\n                        <TransactionTitle>\n                          {transaction.title}\n                        </TransactionTitle>\n                        <TransactionDate>\n                          {formatDate(transaction.date)}\n                        </TransactionDate>\n                      </TransactionInfo>\n                      <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end' }}>\n                        <TransactionAmount type={transaction.amount > 0 ? 'positive' : 'negative'}>\n                          {transaction.amount > 0 ? '+' : ''}{transaction.amount}\n                        </TransactionAmount>\n                        <Typography variant=\"caption\" sx={{ mt: 0.5, fontWeight: 500, opacity: 0.7 }}>\n                          {transaction.description && transaction.description.length > 18\n                            ? transaction.description.slice(0, 18) + '...'\n                            : transaction.description}\n                        </Typography>\n                      </Box>\n                    </BankStyleTransactionItem>\n                  </TransactionItem>\n                ))}\n              </List>\n              {hasNextPage && (\n                <Box display=\"flex\" justifyContent=\"center\" mt={2} mb={1}>\n                  <Button\n                    variant=\"outlined\"\n                    onClick={handleNextPage}\n                    endIcon={<ArrowForwardIcon />}\n                  >\n                    Следующая страница\n                  </Button>\n                </Box>\n              )}\n            </>\n          )}\n        </InfoBlock>\n      </TabPanel>\n\n      \n      <TransactionDetailDialog\n        open={detailDialogOpen}\n        onClose={handleCloseTransactionDetails}\n        fullWidth\n        maxWidth=\"sm\"\n        fullScreen={isMobile}\n      >\n        {selectedTransaction && (\n          <>\n            <TransactionDetailHeader type={selectedTransaction.amount > 0 ? 'income' : 'expense'}>\n              <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                  {selectedTransaction.type === 'transfer' && \n                   selectedTransaction.sender_id === selectedTransaction.recipient_id && \n                   selectedTransaction.message === \"Вывод баллов из кликера\" ? (\n                    <TouchAppIcon sx={{ mr: 1, color: 'success.main' }} />\n                  ) : selectedTransaction.type === 'transfer' && selectedTransaction.is_sender ? (\n                    <CallMadeIcon sx={{ mr: 1, color: 'error.main' }} />\n                  ) : selectedTransaction.type === 'transfer' ? (\n                    <CallReceivedIcon sx={{ mr: 1, color: 'success.main' }} />\n                  ) : selectedTransaction.type === 'purchase' ? (\n                    <ShoppingCartIcon sx={{ mr: 1, color: 'error.main' }} />\n                  ) : selectedTransaction.type === 'username' ? (\n                    <AccountCircleIcon sx={{ mr: 1, color: 'info.main' }} />\n                  ) : selectedTransaction.type === 'weekly_activity' ? (\n                    <TrendingUpIcon sx={{ mr: 1, color: 'success.main' }} />\n                  ) : selectedTransaction.type === 'game' ? (\n                    <CasinoIcon sx={{ mr: 1, color: selectedTransaction.amount > 0 ? 'success.main' : 'error.main' }} />\n                  ) : (\n                    <DiamondIcon sx={{ mr: 1, color: 'success.main' }} />\n                  )}\n                  <Typography variant=\"subtitle1\" fontWeight={600} color=\"text.primary\">\n                    {selectedTransaction.type === 'transfer' ? \n                      (selectedTransaction.sender_id === selectedTransaction.recipient_id && \n                      selectedTransaction.message === \"Вывод баллов из кликера\" ?\n                      'Вывод из кликера' :\n                      (selectedTransaction.is_sender ? 'Исходящий перевод' : 'Входящий перевод')) :\n                      selectedTransaction.type === 'purchase' ? 'Покупка бейджика' :\n                      selectedTransaction.type === 'royalty' ? 'Роялти от бейджика' :\n                      selectedTransaction.type === 'weekly_activity' ? 'Еженедельное начисление' :\n                      selectedTransaction.type === 'username' ? 'Покупка юзернейма' :\n                      selectedTransaction.type === 'game' ? 'Транзакция в мини-игре' :\n                      'Транзакция'\n                    }\n                  </Typography>\n                </Box>\n                <TransactionStatusChip label=\"Выполнен\" status=\"completed\" />\n              </Box>\n              \n              <TransactionDetailAmount type={selectedTransaction.amount > 0 ? 'income' : 'expense'}>\n                {formatCurrency(selectedTransaction.amount)}\n              </TransactionDetailAmount>\n              \n              <Typography variant=\"caption\" color=\"text.secondary\">\n                {formatDate(selectedTransaction.date)}\n              </Typography>\n            </TransactionDetailHeader>\n            \n            <TransactionDetailContent>\n              <DetailRow>\n                <DetailLabel>ID транзакции</DetailLabel>\n                <DetailValue>{getTransactionId(selectedTransaction)}</DetailValue>\n              </DetailRow>\n              \n              {selectedTransaction.type === 'transfer' && (\n                <>\n                  <DetailRow>\n                    <DetailLabel>Тип</DetailLabel>\n                    <DetailValue>\n                      {selectedTransaction.sender_id === selectedTransaction.recipient_id && \n                       selectedTransaction.message === \"Вывод баллов из кликера\" ?\n                       'Вывод из кликера' :\n                       (selectedTransaction.is_sender ? 'Исходящий перевод' : 'Входящий перевод')}\n                    </DetailValue>\n                  </DetailRow>\n                  \n                  \n                  {(selectedTransaction.sender_id === selectedTransaction.recipient_id && \n                   selectedTransaction.message === \"Вывод баллов из кликера\") ? (\n                    <>\n                      <DetailRow>\n                        <DetailLabel>Источник</DetailLabel>\n                        <DetailValue>\n                          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                            <TouchAppIcon sx={{ fontSize: '1rem', mr: 0.5, color: 'success.main' }} />\n                            <span>Кликер</span>\n                          </Box>\n                        </DetailValue>\n                      </DetailRow>\n                      <DetailRow>\n                        <DetailLabel>Тип операции</DetailLabel>\n                        <DetailValue>Вывод заработанных баллов</DetailValue>\n                      </DetailRow>\n                    </>\n                  ) : (\n                    <>\n                      <DetailRow>\n                        <DetailLabel>Отправитель</DetailLabel>\n                        <DetailValue>{selectedTransaction.sender_username}</DetailValue>\n                      </DetailRow>\n                      <DetailRow>\n                        <DetailLabel>Получатель</DetailLabel>\n                        <DetailValue>{selectedTransaction.recipient_username}</DetailValue>\n                      </DetailRow>\n                    </>\n                  )}\n                  \n                  {selectedTransaction.message && (\n                    <DetailRow>\n                      <DetailLabel>Сообщение</DetailLabel>\n                      <DetailValue>{selectedTransaction.message}</DetailValue>\n                    </DetailRow>\n                  )}\n                </>\n              )}\n              \n              {selectedTransaction.type === 'purchase' && (\n                <>\n                  <DetailRow>\n                    <DetailLabel>Название бейджика</DetailLabel>\n                    <DetailValue>{selectedTransaction.badge.name}</DetailValue>\n                  </DetailRow>\n                  {selectedTransaction.badge.description && (\n                    <DetailRow>\n                      <DetailLabel>Описание</DetailLabel>\n                      <DetailValue>{selectedTransaction.badge.description}</DetailValue>\n                    </DetailRow>\n                  )}\n                </>\n              )}\n              \n              {selectedTransaction.type === 'royalty' && (\n                <>\n                  <DetailRow>\n                    <DetailLabel>Название бейджика</DetailLabel>\n                    <DetailValue>{selectedTransaction.badge_name}</DetailValue>\n                  </DetailRow>\n                  <DetailRow>\n                    <DetailLabel>Покупатель</DetailLabel>\n                    <DetailValue>{selectedTransaction.buyer_name}</DetailValue>\n                  </DetailRow>\n                </>\n              )}\n              \n              {selectedTransaction.type === 'username' && (\n                <DetailRow>\n                  <DetailLabel>Юзернейм</DetailLabel>\n                  <DetailValue>@{selectedTransaction.username}</DetailValue>\n                </DetailRow>\n              )}\n              \n              {selectedTransaction.type === 'weekly_activity' && (\n                <>\n                  <DetailRow>\n                    <DetailLabel>Тип операции</DetailLabel>\n                    <DetailValue>\n                      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                        <TrendingUpIcon sx={{ fontSize: '1rem', mr: 0.5, color: 'success.main' }} />\n                        <span>Еженедельное начисление</span>\n                      </Box>\n                    </DetailValue>\n                  </DetailRow>\n                  \n                  <DetailRow>\n                    <DetailLabel>Описание</DetailLabel>\n                    <DetailValue>{selectedTransaction.description}</DetailValue>\n                  </DetailRow>\n                  \n                  <DetailRow>\n                    <DetailLabel>Дата начисления</DetailLabel>\n                    <DetailValue>{formatDate(selectedTransaction.date)}</DetailValue>\n                  </DetailRow>\n                </>\n              )}\n              \n              {selectedTransaction.type === 'game' && (\n                <>\n                  <DetailRow>\n                    <DetailLabel>Тип операции</DetailLabel>\n                    <DetailValue>\n                      {selectedTransaction.description}\n                    </DetailValue>\n                  </DetailRow>\n                  <DetailRow>\n                    <DetailLabel>Описание</DetailLabel>\n                    <DetailValue>\n                      {selectedTransaction.title}\n                    </DetailValue>\n                  </DetailRow>\n                </>\n              )}\n              \n              <DetailRow>\n                <DetailLabel>Сумма</DetailLabel>\n                <DetailValue sx={{ \n                  color: selectedTransaction.amount > 0 ? 'success.main' : 'error.main',\n                  fontWeight: 700\n                }}>\n                  {formatCurrency(selectedTransaction.amount)}\n                </DetailValue>\n              </DetailRow>\n              \n              {selectedTransaction.type === 'transfer' && (\n                <Button\n                  startIcon={<PictureAsPdfIcon />}\n                  variant=\"outlined\"\n                  onClick={() => generateReceiptForTransaction(selectedTransaction)}\n                  sx={{ borderRadius: 2 }}\n                >\n                  Скачать чек\n                </Button>\n              )}\n              \n              {selectedTransaction.type === 'weekly_activity' && (\n                <Box sx={{ mt: 2, p: 2, bgcolor: 'rgba(76, 175, 80, 0.1)', borderRadius: 2 }}>\n                  <Typography variant=\"body2\" color=\"success.main\">\n                    Баллы начислены за вашу активность на платформе за прошедшую неделю.\n                  </Typography>\n                </Box>\n              )}\n              \n              <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 2 }}>\n                {selectedTransaction.sender_id === selectedTransaction.recipient_id && \n                 selectedTransaction.message === \"Вывод баллов из кликера\" && (\n                  <Button\n                    startIcon={<TouchAppIcon />}\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    onClick={() => generateReceiptForTransaction(selectedTransaction)}\n                    sx={{ ml: 2, borderRadius: 2 }}\n                  >\n                    Чек выплаты\n                  </Button>\n                )}\n                <Button \n                  onClick={handleCloseTransactionDetails}\n                  sx={{ ml: 2, borderRadius: 2 }}\n                >\n                  Закрыть\n                </Button>\n              </Box>\n            </TransactionDetailContent>\n          </>\n        )}\n      </TransactionDetailDialog>\n\n      \n      <TabPanel value={tabValue} index={1}>\n        <InfoBlock\n          styleVariant=\"dark\"\n\n          description={null}\n          sx={{ \n            pt: 0,\n            padding: '2.5px',\n            '&::before': {\n              top: 0,\n              transform: 'rotate(-12deg)',\n              height: '90px'\n            },\n            '&::after': {\n              top: 0,\n              transform: 'rotate(12deg)',\n              height: '90px'\n            }\n          }}\n        >\n          {createdBadges.length > 0 || usernamePurchases.length > 0 ? (\n            <List sx={{ width: '100%' }}>\n              {createdBadges.map((badge) => (\n                <Accordion \n                  key={badge.id}\n                  sx={{ \n                    mb: 2, \n                    borderRadius: '12px',\n                    overflow: 'hidden',\n                    '&:before': { display: 'none' },\n                    boxShadow: 'none',\n                    background: alpha(theme.palette.background.paper, 0.4)\n                  }}\n                >\n                  <AccordionSummary \n                    expandIcon={<ExpandMoreIcon />}\n                    sx={{ borderRadius: '12px' }}\n                  >\n                    <Box sx={{ display: 'flex', alignItems: 'center', width: '100%' }}>\n                      <Avatar \n                        variant=\"rounded\" \n                        sx={{ mr: 2, bgcolor: 'background.paper', p: 0.5 }}\n                      >\n                        <CreatedBadgeImage \n                          src={`/static/images/bages/shop/${badge.image_path}`}\n                          alt={badge.name}\n                        />\n                      </Avatar>\n                      <Box sx={{ flexGrow: 1 }}>\n                        <Typography variant=\"subtitle1\">{badge.name}</Typography>\n                        <Box sx={{ display: 'flex', alignItems: 'center', mt: 0.5 }}>\n                          <Chip \n                            size=\"small\" \n                            label={`${badge.price} баллов`} \n                            sx={{ mr: 1, fontSize: '0.7rem' }}\n                          />\n                          <Badge \n                            badgeContent={badge.purchases.length} \n                            color=\"primary\"\n                            sx={{ mr: 1 }}\n                          >\n                            <PeopleIcon fontSize=\"small\" />\n                          </Badge>\n                          {badge.total_royalty_earned > 0 && (\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                              <MonetizationOnIcon sx={{ color: 'success.main', fontSize: '1rem', mr: 0.5 }} />\n                              <Typography variant=\"caption\" color=\"success.main\" fontWeight=\"bold\">\n                                +{badge.total_royalty_earned}\n                              </Typography>\n                            </Box>\n                          )}\n                        </Box>\n                      </Box>\n                    </Box>\n                  </AccordionSummary>\n                  <AccordionDetails>\n                    <Typography variant=\"body2\" color=\"text.secondary\" paragraph>\n                      {badge.description || 'Без описания'}\n                    </Typography>\n                    \n                    {badge.purchases.length > 0 ? (\n                      <>\n                        <Typography variant=\"subtitle2\" gutterBottom>\n                          Покупки ({badge.purchases.length})\n                        </Typography>\n                        <List dense sx={{ bgcolor: alpha(theme.palette.background.paper, 0.3), borderRadius: 2, mb: 1 }}>\n                          {badge.purchases.map((purchase) => (\n                            <ListItem key={purchase.id}>\n                              <ListItemAvatar>\n                                <Avatar \n                                  src={purchase.buyer.avatar_url} \n                                  alt={purchase.buyer.name}\n                                  sx={{ width: 32, height: 32 }}\n                                />\n                              </ListItemAvatar>\n                              <ListItemText \n                                primary={purchase.buyer.name}\n                                secondary={\n                                  <Box component=\"span\" sx={{ display: 'flex', flexDirection: 'column', mt: 0.5 }}>\n                                    <Typography variant=\"caption\" color=\"text.secondary\">\n                                      Приобретен: {formatDate(purchase.date)}\n                                    </Typography>\n                                  </Box>\n                                }\n                              />\n                              <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                                <MonetizationOnIcon sx={{ color: 'success.main', fontSize: '1rem', mr: 0.5 }} />\n                                <Typography variant=\"caption\" color=\"success.main\" fontWeight=\"bold\">\n                                  +{purchase.royalty_amount}\n                                </Typography>\n                              </Box>\n                            </ListItem>\n                          ))}\n                        </List>\n                      </>\n                    ) : (\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Пока нет покупок этого бейджика\n                      </Typography>\n                    )}\n                  </AccordionDetails>\n                </Accordion>\n              ))}\n\n              {createdBadges.length > 0 && usernamePurchases.length > 0 && (\n                <Typography \n                  variant=\"subtitle1\" \n                  sx={{ \n                    px: 2, \n                    py: 1, \n                    color: 'text.secondary',\n                    fontWeight: 500\n                  }}\n                >\n                  @ Юзернеймы\n                </Typography>\n              )}\n\n              {usernamePurchases.map((purchase) => (\n                <ListItem \n                  key={purchase.id}\n                  sx={{ \n                    borderRadius: '12px',\n                    mb: 2,\n                    background: alpha(theme.palette.background.paper, 0.4),\n                    padding: '12px 16px',\n                    '&:hover': {\n                      background: alpha(theme.palette.background.paper, 0.6)\n                    }\n                  }}\n                >\n                  <ListItemAvatar>\n                    <Avatar \n                      sx={{ \n                        bgcolor: purchase.is_active ? 'success.main' : 'action.disabled',\n                        width: 40, \n                        height: 40\n                      }}\n                    >\n                      <TagIcon />\n                    </Avatar>\n                  </ListItemAvatar>\n                  <ListItemText\n                    primary={\n                      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                        <Typography variant=\"subtitle1\" sx={{ fontWeight: 600 }}>\n                          @{purchase.username}\n                        </Typography>\n                        {purchase.is_active && (\n                          <Chip\n                            size=\"small\"\n                            label=\"Активный\"\n                            color=\"success\"\n                            sx={{ ml: 1, height: 20, '& .MuiChip-label': { px: 1, py: 0.2 } }}\n                          />\n                        )}\n                      </Box>\n                    }\n                    secondary={\n                      <Box component=\"span\" sx={{ display: 'flex', flexDirection: 'column', mt: 0.5 }}>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                          Приобретен: {formatDate(purchase.purchase_date)}\n                        </Typography>\n                        <Typography variant=\"caption\" color=\"text.secondary\">\n                          Длина: {purchase.length} символов\n                        </Typography>\n                      </Box>\n                    }\n                  />\n                  <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', ml: 1 }}>\n                    <MonetizationOnIcon sx={{ color: 'error.main', fontSize: '1rem', mr: 0.5 }} />\n                    <Typography \n                      variant=\"subtitle2\" \n                      fontWeight=\"bold\"\n                      color=\"error.main\"\n                    >\n                      -{purchase.price_paid}\n                    </Typography>\n                  </Box>\n                </ListItem>\n              ))}\n            </List>\n          ) : (\n            <Box sx={{ textAlign: 'center', py: 5, px: 3, bgcolor: alpha(theme.palette.background.paper, 0.4), borderRadius: 4 }}>\n              <AccountBalanceWalletIcon sx={{ fontSize: 60, color: 'primary.main', opacity: 0.7, mb: 2 }} />\n              <Typography variant=\"h6\" gutterBottom>\n                У вас пока нет активов\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n                Создавайте бейджики или приобретайте уникальные юзернеймы, чтобы они отображались здесь\n              </Typography>\n              <Button \n                variant=\"contained\" \n                color=\"primary\"\n                onClick={() => navigate('/username-auction')}\n                startIcon={<AccountCircleIcon />}\n                sx={{ mr: 2, mb: { xs: 2, sm: 0 } }}\n              >\n                Аукцион юзернеймов\n              </Button>\n              <Button \n                variant=\"outlined\" \n                color=\"primary\"\n                onClick={() => navigate('/badge-shop')}\n                startIcon={<ShoppingCartIcon />}\n              >\n                Магазин бейджиков\n              </Button>\n            </Box>\n          )}\n        </InfoBlock>\n      </TabPanel>\n\n      \n      <TabPanel value={tabValue} index={2}>\n        <InfoBlock\n          styleVariant=\"dark\"\n          description={null}\n          sx={{ \n            pt: 0,\n            padding: '2.5px'\n          }}\n        >\n          {subscription && subscription.active ? (\n            <Card elevation={3} sx={{ \n              backgroundImage: `unset`,\n            }}>\n              <CardContent>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                  <DiamondIcon sx={{ mr: 1, color: 'primary.main' }} />\n                  <Typography variant=\"h6\" fontWeight=\"bold\">\n                    Активная подписка\n                  </Typography>\n                </Box>\n                \n                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\n                  <Typography variant=\"body1\">\n                    Тип: <Chip \n                      label={subscription.type.charAt(0).toUpperCase() + subscription.type.slice(1)} \n                      color={subscription.type === 'premium' ? 'secondary' : subscription.type === 'ultimate' ? 'primary' : 'default'}\n                      size=\"small\"\n                      sx={{ fontWeight: 'bold', ml: 1 }}\n                    />\n                  </Typography>\n                  \n                  <Typography variant=\"body2\">\n                    Истекает: {new Date(subscription.expires_at).toLocaleDateString()} \n                    <Typography variant=\"caption\" color=\"text.secondary\" sx={{ ml: 1 }}>\n                      (осталось {Math.ceil((new Date(subscription.expires_at) - new Date()) / (1000 * 60 * 60 * 24))} дней)\n                    </Typography>\n                  </Typography>\n                  \n                  <Box sx={{ mt: 1 }}>\n                    <Typography variant=\"body2\" fontWeight=\"medium\">\n                      Возможности подписки:\n                    </Typography>\n                    <List dense sx={{ pl: 2 }}>\n                      {subscription.type === 'basic' && (\n                        <>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Ежемесячное пополнение  на 1.000 баллов\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Отсутствие рекламы\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Создание до 5 бейджиков\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Покупка до 5 Юзернеймов\" /></ListItem>\n                        </>\n                      )}\n                      {subscription.type === 'premium' && (\n                        <>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Ежемесячное пополнение  на 5.000 баллов\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Расширенные функции платформы\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Приоритетная поддержка\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Создание до 8 бейджиков\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Покупка до 8 Юзернеймов\" /></ListItem>\n                        </>\n                      )}\n                      {subscription.type === 'ultimate' && (\n                        <>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Все преимущества Premium\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Ежемесячное пополнение  на 10.000 баллов\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Создание Анимированных бейджиков\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Безлимитное создание бейджиков\" /></ListItem>\n                          <ListItem sx={{ py: 0 }}><ListItemText primary=\"Покупка неограниченного количества Юзернеймов\" /></ListItem>\n                        </>\n                      )}\n                    </List>\n                  </Box>\n                </Box>\n              </CardContent>\n            </Card>\n          ) : (\n            <Box sx={{ textAlign: 'center', py: 5, px: 3, bgcolor: alpha(theme.palette.background.paper, 0.4), borderRadius: 4 }}>\n              <FlashOnIcon sx={{ fontSize: 60, color: 'primary.main', opacity: 0.7, mb: 2 }} />\n              <Typography variant=\"h6\" gutterBottom>\n                У вас нет активной подписки\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\n                Активируйте подписку, чтобы получить доступ к расширенным возможностям платформы\n              </Typography>\n              <Button \n                variant=\"contained\" \n                color=\"primary\"\n                onClick={() => setOpenKeyDialog(true)}\n                startIcon={<AddIcon />}\n              >\n                Активировать ключ\n              </Button>\n            </Box>\n          )}\n        </InfoBlock>\n      </TabPanel>\n\n      \n\n      \n      <StyledDialog\n        open={openKeyDialog}\n        onClose={() => {\n          if (!isSubmittingKey) {\n            setOpenKeyDialog(false);\n            setKeyValue('');\n            setKeyError('');\n            setKeySuccess(null);\n            setActiveTopupTab(0);\n          }\n        }}\n        fullWidth\n      >\n        <DialogHeader>\n          <HeaderGlow />\n          <DialogHeaderContent>\n            <MonetizationOnIcon color=\"primary\" sx={{ mr: 1.5, fontSize: 24 }} />\n            <Typography variant=\"h6\" fontWeight=\"bold\" color=\"primary.light\">\n              Пополнение баланса\n            </Typography>\n          </DialogHeaderContent>\n          {!isSubmittingKey && (\n            <IconButton\n              aria-label=\"close\"\n              onClick={() => setOpenKeyDialog(false)}\n              sx={{ position: 'absolute', right: 8, top: 8 }}\n            >\n              <CloseIcon />\n            </IconButton>\n          )}\n        </DialogHeader>\n        \n        <DialogContent sx={{ p: 3, pt: 2.5, bgcolor: 'transparent' }}>\n          <Tabs \n            value={activeTopupTab} \n            onChange={(e, newValue) => setActiveTopupTab(newValue)}\n            sx={{ mb: 3 }}\n          >\n            <Tab label=\"У меня есть ключ\" />\n            <Tab label=\"Донат\" />\n          </Tabs>\n          \n          {activeTopupTab === 0 && !keySuccess ? (\n            <ContentBox>\n              <Typography variant=\"body1\" gutterBottom>\n                Введите ключ активации для пополнения баланса:\n              </Typography>\n              \n              <KeyTextField\n                fullWidth\n                label=\"Ключ активации\"\n                variant=\"outlined\"\n                placeholder=\"XXXX-XXXX-XXXX-XXXX\"\n                value={keyValue}\n                onChange={handleKeyChange}\n                error={!!keyError}\n                helperText={keyError}\n                disabled={isSubmittingKey}\n                sx={{ mt: 2, mb: 2 }}\n                InputProps={{\n                  endAdornment: keyValue && (\n                    <InputAdornment position=\"end\">\n                      <IconButton \n                        onClick={() => setKeyValue('')}\n                        edge=\"end\"\n                      >\n                        <CloseIcon fontSize=\"small\" />\n                      </IconButton>\n                    </InputAdornment>\n                  )\n                }}\n              />\n              \n              <Typography variant=\"caption\" color=\"text.secondary\">\n                Ключ активации можно получить в результате покупки на нашем сайте или от администратора.\n              </Typography>\n            </ContentBox>\n          ) : activeTopupTab === 1 ? (\n            <ContentBox>\n              <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\n                Пополнение с помощью доната\n              </Typography>\n              <Typography variant=\"body2\" paragraph>\n                Вы можете пополнить баланс рублями через Boosty.\n              </Typography>\n              <Typography variant=\"body2\" sx={{ fontWeight: 'bold', mb: 2 }}>\n                1 рубль = 5 баллов\n              </Typography>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                startIcon={<MonetizationOnIcon />}\n                fullWidth\n                onClick={() => window.open('https://boosty.to/qsoul', '_blank')}\n              >\n                Перейти к пополнению\n              </Button>\n            </ContentBox>\n          ) : (\n            <Box sx={{ \n              display: 'flex', \n              flexDirection: 'column',\n              alignItems: 'center',\n              justifyContent: 'center',\n              py: 4,\n              position: 'relative',\n              overflow: 'hidden'\n            }}>\n              <Box sx={{\n                animation: 'pop-in 0.5s cubic-bezier(0.19, 1, 0.22, 1) forwards',\n                '@keyframes pop-in': {\n                  '0%': { transform: 'scale(0)', opacity: 0 },\n                  '80%': { transform: 'scale(1.1)', opacity: 1 },\n                  '100%': { transform: 'scale(1)', opacity: 1 }\n                },\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                zIndex: 2\n              }}>\n                <CheckCircleIcon color=\"success\" sx={{ fontSize: 80, mb: 2 }} />\n                <Typography variant=\"h6\" gutterBottom align=\"center\">\n                  Ключ успешно активирован!\n                </Typography>\n                <Typography variant=\"body1\" align=\"center\">\n                  {keySuccess.message}\n                </Typography>\n                \n                {keySuccess.type === 'points' ? (\n                  \n                  <Box sx={{ \n                    mt: 3,\n                    p: 2,\n                    borderRadius: 2,\n                    bgcolor: 'background.paper',\n                    boxShadow: 1,\n                    width: '100%',\n                    maxWidth: 250,\n                    animation: 'fade-in 1s ease-in-out forwards',\n                    '@keyframes fade-in': {\n                      from: { opacity: 0, transform: 'translateY(20px)' },\n                      to: { opacity: 1, transform: 'translateY(0)' }\n                    }\n                  }}>\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom align=\"center\">\n                      Новый баланс:\n                    </Typography>\n                    <Typography variant=\"h6\" color=\"primary\" sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                      <AccountBalanceWalletIcon sx={{ mr: 1 }} />\n                      {keySuccess.newBalance} баллов\n                    </Typography>\n                  </Box>\n                ) : (\n                  \n                  <Box sx={{ \n                    mt: 3,\n                    p: 2,\n                    borderRadius: 2,\n                    bgcolor: 'background.paper',\n                    boxShadow: 1,\n                    width: '100%',\n                    maxWidth: 300,\n                    animation: 'fade-in 1s ease-in-out forwards',\n                    '@keyframes fade-in': {\n                      from: { opacity: 0, transform: 'translateY(20px)' },\n                      to: { opacity: 1, transform: 'translateY(0)' }\n                    }\n                  }}>\n                    <Typography variant=\"subtitle2\" color=\"text.secondary\" gutterBottom align=\"center\">\n                      Активирована подписка:\n                    </Typography>\n                    <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', mb: 2 }}>\n                      <Chip\n                        label={keySuccess.subscriptionType === 'basic' ? 'Базовая' : \n                              keySuccess.subscriptionType === 'premium' ? 'Премиум' : \n                              keySuccess.subscriptionType === 'ultimate' ? 'Ультимейт' : \n                              keySuccess.subscriptionType}\n                        color=\"secondary\"\n                        sx={{ fontSize: '1rem', py: 2, px: 1 }}\n                      />\n                    </Box>\n                    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\">\n                      Срок действия до: {keySuccess.expiresAt ? new Date(keySuccess.expiresAt).toLocaleDateString() : 'Бессрочно'}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" sx={{ mt: 1 }}>\n                      Длительность: {keySuccess.duration_days} дней\n                    </Typography>\n                  </Box>\n                )}\n              </Box>\n            </Box>\n          )}\n        </DialogContent>\n        \n        <DialogActions>\n          {!keySuccess ? (\n            <>\n              <CancelButton \n                onClick={() => setOpenKeyDialog(false)} \n                variant=\"outlined\"\n                disabled={isSubmittingKey}\n              >\n                Отмена\n              </CancelButton>\n              <ActionButton\n                onClick={handleRedeemKey}\n                disabled={!keyValue || isSubmittingKey || keyValue.length < 19} \n                startIcon={isSubmittingKey ? <CircularProgress size={16} color=\"inherit\" /> : null}\n              >\n                {isSubmittingKey ? 'Активация...' : 'Активировать ключ'}\n              </ActionButton>\n            </>\n          ) : (\n            <ActionButton\n              onClick={() => {\n                setOpenKeyDialog(false);\n                setKeySuccess(null);\n                setKeyValue('');\n              }}\n              sx={{ mx: 'auto' }}\n            >\n              Готово\n            </ActionButton>\n          )}\n        </DialogActions>\n      </StyledDialog>\n\n      \n      <StyledDialog\n        open={transferSuccess}\n        onClose={() => setTransferSuccess(false)}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogHeader>\n          <HeaderGlow />\n          <DialogHeaderContent>\n            <CheckCircleIcon color=\"success\" sx={{ mr: 1.5, fontSize: 24 }} />\n            <Typography variant=\"h6\" fontWeight=\"bold\" color=\"success.main\">\n              Перевод выполнен успешно\n            </Typography>\n          </DialogHeaderContent>\n          <IconButton\n            aria-label=\"close\"\n            onClick={() => setTransferSuccess(false)}\n            sx={{ position: 'absolute', right: 8, top: 8 }}\n          >\n            <CloseIcon />\n          </IconButton>\n        </DialogHeader>\n        \n        <DialogContent sx={{ p: 3, pt: 2.5, bgcolor: 'transparent' }}>\n          <Box sx={{ \n            display: 'flex', \n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            py: 2,\n            textAlign: 'center'\n          }}>\n            <SuccessIconWrapper>\n              <CheckCircleIcon color=\"success\" sx={{ fontSize: 50 }} />\n            </SuccessIconWrapper>\n            \n            <Typography variant=\"h5\" gutterBottom>\n              Средства успешно переведены\n            </Typography>\n            \n            <Typography variant=\"body1\" color=\"text.secondary\" paragraph>\n              Вы перевели <strong>{transferData.amount} баллов</strong> пользователю <strong>{transferData.username}</strong>\n            </Typography>\n            \n            {transferData.message && (\n              <Typography variant=\"body2\" paragraph sx={{ fontStyle: 'italic', mt: 1 }}>\n                \"{transferData.message}\"\n              </Typography>\n            )}\n            \n            <Divider sx={{ my: 2, width: '100%' }} />\n            \n            <Typography variant=\"subtitle2\" sx={{ mb: 2 }}>\n              Вы можете скачать справку о переводе в формате PDF\n            </Typography>\n            \n            <ReceiptIconButton\n              onClick={() => {\n                if (receiptData) {\n                  try {\n                    downloadPdfReceipt(receiptData.dataUrl, `TR-${Date.now().toString().slice(-8)}`, receiptData.filePath);\n                  } catch (error) {\n                    console.error('Ошибка при открытии PDF:', error);\n                    \n                    setSnackbar({\n                      open: true,\n                      message: 'Не удалось открыть PDF. Попробуйте позже.',\n                      severity: 'error'\n                    });\n                  }\n                }\n              }}\n              startIcon={<PictureAsPdfIcon />}\n              endIcon={<DownloadIcon />}\n              disabled={!receiptData}\n            >\n              Открыть справку\n            </ReceiptIconButton>\n          </Box>\n        </DialogContent>\n        \n        <DialogActions>\n          <ActionButton onClick={() => setTransferSuccess(false)} sx={{ mx: 'auto' }}>\n            Закрыть\n          </ActionButton>\n        </DialogActions>\n      </StyledDialog>\n\n      \n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n        message={snackbar.message}\n      />\n\n      {/* New Transfer Menu Component */}\n      <TransferMenu \n        open={newTransferMenuOpen}\n        onClose={() => setNewTransferMenuOpen(false)}\n        userPoints={userPoints}\n        onSuccess={handleNewTransferSuccess}\n      />\n    </Container>\n  );\n};\n\n\nexport default BalancePage; "],"names":["_interopRequireDefault","require$$0","Object","defineProperty","CalendarToday","value","default","_createSvgIcon","_jsxRuntime","require$$2","jsx","d","Payment","ReceiptLong","FlashOn","Download","PictureAsPdf","downloadPdfReceipt","dataUrl","transactionId","filePath","url","test","navigator","userAgent","window","location","href","newWindow","open","closed","link","document","createElement","download","target","click","error","rel","CallMade","CallReceived","StyledTabsContainer","styled","Paper","theme","fullWidth","borderRadius","backgroundColor","palette","mode","background","paper","backgroundImage","boxShadow","overflow","mb","border","width","maxWidth","minWidth","mx","position","content","left","top","transform","height","opacity","filter","zIndex","pointerEvents","right","StyledTabs","onChange","tabs","variant","centered","props","useTheme","children","Tabs","sx","color","fontWeight","fontSize","textTransform","minHeight","transition","primary","main","map","tab","index","IconComponent","icon","Tab","label","jsxs","Box","display","alignItems","mr","gradientEffects","getGradientEffects","customColors","options","colors","gradientBorder","alpha","backdropFilter","InfoBlockContainer","styleVariant","margin","marginBottom","spacing","text","textAlign","padding","InfoBlockTitle","Typography","components","InfoBlock","styleOverrides","title","InfoBlockDescription","secondary","description","titleSx","descriptionSx","BalanceAmount","marginTop","lineHeight","TransactionItem","ListItem","TransactionAmount","type","success","BadgeImage","objectFit","PointsIcon","CreatedBadgeImage","ActionButtonsContainer","flexDirection","justifyContent","gap","ActionButtonItem","flex","cursor","ActionCircleIcon","ActionButtonText","whiteSpace","textShadow","TabPanel","other","role","hidden","id","style","gridTemplateColumns","breakpoints","down","colorStart","colorEnd","StyledDialog","Dialog","DialogHeader","borderBottom","HeaderGlow","DialogHeaderContent","DialogActions","MuiDialogActions","paddingLeft","paddingRight","borderTop","CancelButton","Button","borderColor","ActionButton","paddingTop","paddingBottom","ContentBox","KeyTextField","TextField","borderWidth","marginRight","Avatar","ReceiptIconButton","SuccessIconWrapper","generateReceiptForTransaction","async","transaction","Date","now","toString","slice","response","axios","post","transaction_data","amount","Math","abs","recipientUsername","recipient_username","sender_username","senderUsername","date","data","Error","pdfDataUrl","pdf_data","file_path","TransactionDetailDialog","TransactionDetailHeader","divider","TransactionDetailAmount","TransactionStatusChip","Chip","status","grey","DetailRow","DetailLabel","DetailValue","wordBreak","TransactionAvatar","transactionType","BankStyleTransactionItem","TransactionInfo","marginLeft","TransactionTitle","textOverflow","TransactionDate","TransactionDetailContent","DialogContent","ExpandableContent","expanded","maxHeight","transitions","create","duration","standard","ExpandIcon","ExpandMoreIcon","shortest","BalancePage","user","useContext","AuthContext","navigate","useNavigate","isMobile","useMediaQuery","userPoints","setUserPoints","useState","weeklyEstimate","setWeeklyEstimate","purchaseHistory","setPurchaseHistory","royaltyHistory","setRoyaltyHistory","transferHistory","setTransferHistory","createdBadges","setCreatedBadges","usernamePurchases","setUsernamePurchases","loading","setLoading","setError","tabValue","setTabValue","transferDialogOpen","setTransferDialogOpen","newTransferMenuOpen","setNewTransferMenuOpen","transferData","setTransferData","username","message","recipient_id","transferErrors","setTransferErrors","snackbar","setSnackbar","severity","userSearch","setUserSearch","exists","suggestions","timer","openKeyDialog","setOpenKeyDialog","keyValue","setKeyValue","isSubmittingKey","setIsSubmittingKey","keyError","setKeyError","keySuccess","setKeySuccess","activeTopupTab","setActiveTopupTab","transferSuccess","setTransferSuccess","receiptData","setReceiptData","subscription","setSubscription","isTransferring","setIsTransferring","detailDialogOpen","setDetailDialogOpen","selectedTransaction","setSelectedTransaction","gameTransactions","setGameTransactions","debounceTimerRef","useRef","currentPage","setCurrentPage","isPointsInfoExpanded","setIsPointsInfoExpanded","allTransactions","React","useMemo","purchase","purchase_date","price_paid","badge","name","ShoppingCartIcon","royalty","royalty_amount","buyer","buyer_name","badge_name","MonetizationOnIcon","transfer","is_sender","parseInt","sender_id","isClickerWithdrawal","TouchAppIcon","SendIcon","AccountBalanceWalletIcon","AccountCircleIcon","transaction_type","created_at","TrendingUpIcon","includes","CasinoIcon","SportsEsportsIcon","replace","sort","a","b","useEffect","fetchUserPoints","fetchWeeklyEstimate","fetchPurchaseHistory","fetchRoyaltyHistory","fetchCreatedBadges","fetchTransferHistory","fetchUsernamePurchases","fetchSubscriptionStatus","fetchGameTransactions","get","points","score","sortedPurchases","purchases","royalties","badges","transfers","useCallback","current","clearTimeout","prev","setTimeout","then","users","exactMatch","find","toLowerCase","catch","formatDate","dateString","userTimezoneOffset","getTimezoneOffset","formattedDate","getTime","toLocaleString","day","month","year","hour","minute","hour12","timeZoneName","weekRange","getCurrentWeekRange","dayOfWeek","getDay","mondayOffset","monday","setDate","getDate","setHours","sunday","start","toLocaleDateString","end","active","subscription_type","expires_at","expiration_date","features","handleCloseTransactionDetails","formatCurrency","transactions","handleNewTransferSuccess","paginatedTransactions","startIndex","hasNextPage","length","CircularProgress","Container","py","pb","pl","pr","bottom","BallsSVG","onClick","PaymentIcon","AddIcon","Fragment","CalendarTodayIcon","InfoIcon","ml","e","stopPropagation","Tooltip","IconButton","size","component","Link","to","TimelineIcon","mt","handleTabChange","event","newValue","ReceiptLongIcon","iconPosition","DiamondIcon","FlashOnIcon","pt","my","List","handleOpenTransactionDetails","src","image_path","alt","handleNextPage","endIcon","ArrowForwardIcon","onClose","fullScreen","CallMadeIcon","CallReceivedIcon","getTransactionId","startIcon","PictureAsPdfIcon","p","bgcolor","Accordion","AccordionSummary","expandIcon","flexGrow","price","Badge","badgeContent","PeopleIcon","total_royalty_earned","AccordionDetails","paragraph","gutterBottom","dense","ListItemAvatar","avatar_url","ListItemText","px","is_active","TagIcon","xs","sm","Card","elevation","CardContent","charAt","toUpperCase","ceil","CloseIcon","animation","CheckCircleIcon","align","from","newBalance","subscriptionType","expiresAt","duration_days","placeholder","formattedKey","input","cleaned","formatted","i","formatKeyInput","helperText","disabled","InputProps","endAdornment","InputAdornment","edge","fetch","method","headers","body","JSON","stringify","key","json","ok","new_balance","fontStyle","Divider","DownloadIcon","Snackbar","autoHideDuration","handleCloseSnackbar","TransferMenu","onSuccess"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,7,8]}