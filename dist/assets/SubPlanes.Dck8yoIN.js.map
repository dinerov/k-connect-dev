{"version":3,"file":"SubPlanes.Dck8yoIN.js","sources":["../../src/pages/Economic/SubPlanes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Typography,\n  Box,\n  Paper,\n  Grid,\n  Button,\n  Divider,\n  TextField,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Chip,\n  Card,\n  CardContent,\n  CardHeader,\n  CardActions,\n  Alert,\n  Snackbar,\n  CircularProgress,\n  useTheme,\n  useMediaQuery,\n  alpha\n} from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport CheckIcon from '@mui/icons-material/Check';\nimport DiamondIcon from '@mui/icons-material/Diamond';\nimport KeyIcon from '@mui/icons-material/Key';\nimport StarIcon from '@mui/icons-material/Star';\nimport InfoIcon from '@mui/icons-material/Info';\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport CheckCircleOutline from '@mui/icons-material/CheckCircleOutline';\n\nconst StyledCard = styled(Card)(({ theme, type }) => ({\n  height: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n  position: 'relative',\n  overflow: 'hidden',\n  borderRadius: theme.spacing(2),\n  transition: 'all 0.3s ease',\n  backgroundColor: 'rgba(255, 255, 255, 0.03)',\n  backdropFilter: 'blur(10px)',\n  boxShadow: type === 'ultimate' \n    ? '0 8px 20px rgba(124, 77, 255, 0.2)'\n    : type === 'premium' \n      ? '0 8px 20px rgba(186, 104, 200, 0.2)'\n      : '0 8px 20px rgba(66, 165, 245, 0.2)',\n  border: type === 'ultimate'\n    ? '1px solid rgba(124, 77, 255, 0.3)'\n    : type === 'premium'\n      ? '1px solid rgba(186, 104, 200, 0.3)'\n      : '1px solid rgba(66, 165, 245, 0.3)',\n  '&:hover': {\n    transform: 'translateY(-5px)',\n    boxShadow: type === 'ultimate' \n      ? '0 12px 30px rgba(124, 77, 255, 0.3)'\n      : type === 'premium'\n        ? '0 12px 30px rgba(186, 104, 200, 0.3)'\n        : '0 12px 30px rgba(66, 165, 245, 0.3)',\n  },\n  '&::before': type === 'ultimate' ? {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    width: 150,\n    height: 150,\n    background: 'linear-gradient(135deg, rgba(124, 77, 255, 0.3) 0%, rgba(0, 0, 0, 0) 60%)',\n    borderRadius: '0 0 0 100%',\n    zIndex: 0,\n  } : {}\n}));\n\nconst StyledCardHeader = styled(CardHeader)(({ theme, type }) => ({\n  backgroundColor: type === 'ultimate'\n    ? alpha('#7c4dff', 0.15)\n    : type === 'premium'\n      ? alpha('#ba68c8', 0.15)\n      : alpha('#42a5f5', 0.15),\n  borderBottom: type === 'ultimate'\n    ? '1px solid rgba(124, 77, 255, 0.2)'\n    : type === 'premium'\n      ? '1px solid rgba(186, 104, 200, 0.2)'\n      : '1px solid rgba(66, 165, 245, 0.2)',\n  '& .MuiCardHeader-title': {\n    fontWeight: 700,\n    fontSize: '1.25rem',\n    color: type === 'ultimate'\n      ? '#7c4dff'\n      : type === 'premium'\n        ? '#ba68c8'\n        : '#42a5f5',\n  },\n  '& .MuiCardHeader-subheader': {\n    fontSize: '0.9rem',\n    color: 'text.secondary'\n  }\n}));\n\nconst PriceText = styled(Typography)(({ theme }) => ({\n  fontWeight: 700,\n  fontSize: '2rem',\n  marginBottom: theme.spacing(1),\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  '& .currency': {\n    fontSize: '1rem',\n    marginLeft: theme.spacing(0.5),\n    opacity: 0.8,\n  }\n}));\n\nconst FeatureIcon = styled(CheckIcon)(({ theme, type }) => ({\n  color: type === 'ultimate'\n    ? '#7c4dff'\n    : type === 'premium'\n      ? '#ba68c8'\n      : '#42a5f5',\n}));\n\nconst KeyActivationField = styled(TextField)(({ theme }) => ({\n  '& .MuiOutlinedInput-root': {\n    borderRadius: theme.spacing(1.5),\n    '& fieldset': {\n      borderColor: 'rgba(255, 255, 255, 0.15)',\n    },\n    '&:hover fieldset': {\n      borderColor: 'rgba(255, 255, 255, 0.3)',\n    },\n    '&.Mui-focused fieldset': {\n      borderColor: theme.palette.primary.main,\n    },\n  },\n}));\n\nconst PopularBadge = styled(Chip)(({ theme }) => ({\n  position: 'absolute',\n  top: theme.spacing(2),\n  right: theme.spacing(2),\n  backgroundColor: '#f44336',\n  color: '#fff',\n  fontWeight: 'bold',\n  zIndex: 5,\n}));\n\nconst SubPlanes = () => {\n  const theme = useTheme();\n  const navigate = useNavigate();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  \n  const [subscriptionKey, setSubscriptionKey] = useState('');\n  const [isActivating, setIsActivating] = useState(false);\n  const [userSubscription, setUserSubscription] = useState(null);\n  const [subscriptionTypes, setSubscriptionTypes] = useState([]);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  const [loading, setLoading] = useState(true);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(null);\n\n  \n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        \n        const typesResponse = await axios.get('/api/admin/subscription-types');\n        setSubscriptionTypes(typesResponse.data.subscription_types || []);\n\n        \n        const statusResponse = await axios.get('/api/user/subscription/status');\n        if (statusResponse.data.active) {\n          setUserSubscription({\n            type: statusResponse.data.subscription_type,\n            expires_at: statusResponse.data.expiration_date,\n            features: statusResponse.data.features || []\n          });\n        } else {\n          setUserSubscription(null);\n        }\n      } catch (error) {\n        console.error('Ошибка при загрузке данных о подписках:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  \n  const formatKeyInput = (input) => {\n    \n    let formatted = input.replace(/[^a-zA-Z0-9]/g, '');\n    \n    \n    let result = '';\n    for (let i = 0; i < formatted.length; i++) {\n      if (i > 0 && i % 4 === 0 && i < formatted.length) {\n        result += '-';\n      }\n      result += formatted[i];\n    }\n    \n    return result.toUpperCase().slice(0, 23); \n  };\n\n  const handleKeyChange = (e) => {\n    const formattedValue = formatKeyInput(e.target.value);\n    setSubscriptionKey(formattedValue);\n  };\n\n  \n  const isValidKeyFormat = (key) => {\n    \n    const keyWithoutDashes = key.replace(/-/g, '');\n    return keyWithoutDashes.length >= 16; \n  };\n\n  \n  const handleActivateKey = async () => {\n    if (!subscriptionKey) {\n      setSnackbar({\n        open: true,\n        message: 'Пожалуйста, введите ключ активации',\n        severity: 'error'\n      });\n      return;\n    }\n\n    setIsActivating(true);\n    setError(null);\n    \n    try {\n      \n      const cleanKey = subscriptionKey.replace(/-/g, '');\n      console.log('Sending key:', cleanKey);\n      \n      const response = await axios.post('/api/user/redeem-key', { \n        key: cleanKey\n      });\n      \n      console.log('Redeem response:', response.data);\n      \n      if (response.data.success) {\n        setSuccess(true);\n        setSnackbar({\n          open: true,\n          message: response.data.message || `Успешно активирована ${response.data.subscription_type || ''} подписка!`,\n          severity: 'success'\n        });\n        \n        \n        setTimeout(() => {\n          setSubscriptionKey('');\n          \n          const fetchData = async () => {\n            try {\n              \n              const statusResponse = await axios.get('/api/user/subscription/status');\n              if (statusResponse.data.active) {\n                setUserSubscription({\n                  type: statusResponse.data.subscription_type,\n                  expires_at: statusResponse.data.expiration_date,\n                  features: statusResponse.data.features || []\n                });\n              } else {\n                setUserSubscription(null);\n              }\n            } catch (err) {\n              console.error('Ошибка при обновлении данных о подписке:', err);\n            }\n          };\n          \n          fetchData();\n        }, 1000);\n      } else {\n        throw new Error(response.data.message || 'Ошибка активации ключа');\n      }\n    } catch (error) {\n      console.error('Error activating key:', error);\n      setError(error);\n      \n      \n      let errorMessage = '';\n      \n      if (error.response) {\n        \n\n        if (error.response.data && \n            error.response.data.error && \n            error.response.data.error.includes('Невозможно активировать подписку') && \n            error.response.data.error.includes('так как у вас уже есть подписка более высокого уровня')) {\n          errorMessage = error.response.data.error;\n        } else {\n          switch (error.response.status) {\n            case 404:\n              errorMessage = '404 - Неверный ключ';\n              break;\n            case 400:\n              errorMessage = error.response.data?.error || '400 - Данный ключ уже не действителен!';\n              break;\n            case 403:\n              errorMessage = '403 - Доступ запрещен';\n              break;\n            case 500:\n              errorMessage = '500 - Ошибка сервера';\n              break;\n            default:\n              errorMessage = error.response.data?.message || `Ошибка ${error.response.status}`;\n          }\n        }\n      } else if (error.request) {\n        \n        errorMessage = 'Сервер не отвечает';\n      } else {\n        \n        errorMessage = error.message || 'Ошибка активации ключа';\n      }\n      \n      setSnackbar({\n        open: true,\n        message: errorMessage,\n        severity: 'error'\n      });\n    } finally {\n      setIsActivating(false);\n    }\n  };\n\n  \n  const handleBuySubscription = () => {\n    window.open('https://boosty.to/qsoul', '_blank');\n  };\n\n  const handleCloseSnackbar = () => {\n    setSnackbar({ ...snackbar, open: false });\n  };\n\n  \n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ru-RU', {\n      day: 'numeric',\n      month: 'long',\n      year: 'numeric'\n    });\n  };\n\n  \n  const getSubscriptionColor = (type) => {\n    switch (type) {\n      case 'ultimate':\n        return '#7c4dff';\n      case 'premium':\n        return '#ba68c8';\n      default:\n        return '#42a5f5';\n    }\n  };\n\n  \n  const subscriptionPrices = {\n    basic: '59₽',\n    premium: '99₽',\n    ultimate: '199₽'\n  };\n  \n  \n  const subscriptionDescriptions = {\n    basic: 'Для тех, кто хочет немного больше чем простой пользователь.',\n    premium: 'Расширенный функционал для активных пользователей платформы.',\n    ultimate: 'Максимальные возможности без ограничений для настоящих ценителей.'\n  };\n  \n  \n  const subscriptionFeatures = {\n    basic: [\n      'Создание 5 Бейджиков',\n      'Покупка 5 Никнеймов',\n      'Базовая поддержка',\n      'Ежемесячное пополнение на 10.000 баллов'\n    ],\n    premium: [\n      'Все преимущества Basic',\n      'Создание 8 Бейджиков',\n      'Покупка 8 Никнеймов',\n      'Приоритетная поддержка',\n      'Установка статуса',\n      'Изменение цвета профиля',\n      'Ежемесячное пополнение на 35.000 баллов',\n      \"Установка статуса для каналов\",\n      \"Изменение цвета канала\",\n    ],\n    ultimate: [\n      'Все преимущества Premium',\n      'Неограниченное количество никнеймов',\n      'Неограниченное количество бейджиков',\n      'Создание анимированных бейджиков',\n      'Любой цвет профиля/канала',\n      'Ежемесячное пополнение на 75.000 баллов',\n      'Ультима чат - голосование на обновление',\n      \"Лудка вместе с владельцем сайта\",\n      \"Новый вид профиля\"\n    ]\n  };\n\n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"50vh\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n      <Box mb={4}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ fontWeight: 700 }}>\n          Планы подписок\n        </Typography>\n        <Typography variant=\"body1\" color=\"textSecondary\" gutterBottom>\n          Выберите подходящий для вас план подписки и получите доступ к расширенным возможностям платформы\n        </Typography>\n      </Box>\n\n      {}\n      {userSubscription && (\n        <Paper \n          elevation={0} \n          sx={{ \n            p: 3, \n            mb: 4, \n            borderRadius: 2,\n            backgroundColor: 'rgba(255, 255, 255, 0.05)',\n            backdropFilter: 'blur(10px)',\n            border: `1px solid ${alpha(getSubscriptionColor(userSubscription.type), 0.3)}`\n          }}\n        >\n          <Box display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" gap={2}>\n            <DiamondIcon sx={{ color: getSubscriptionColor(userSubscription.type), fontSize: 40 }} />\n            <Box>\n              <Typography variant=\"h6\" sx={{ fontWeight: 600 }}>\n                {userSubscription.type === 'basic' ? 'Basic' : \n                 userSubscription.type === 'premium' ? 'Premium' : \n                 userSubscription.type === 'ultimate' ? 'Ultimate' : 'Подписка'}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                Активна до: {formatDate(userSubscription.expires_at)}\n              </Typography>\n            </Box>\n            <Chip \n              label=\"Активна\" \n              color=\"success\" \n              size=\"small\" \n              sx={{ ml: 'auto' }}\n            />\n          </Box>\n          <Divider sx={{ my: 2 }} />\n          <Typography variant=\"subtitle2\" gutterBottom>\n            Ваши преимущества:\n          </Typography>\n          <Grid container spacing={2}>\n            {subscriptionFeatures[userSubscription.type]?.map((feature, index) => (\n              <Grid item xs={12} sm={6} md={4} key={index}>\n                <Box display=\"flex\" alignItems=\"center\" gap={1}>\n                  <CheckIcon sx={{ color: getSubscriptionColor(userSubscription.type), fontSize: 18 }} />\n                  <Typography variant=\"body2\">{feature}</Typography>\n                </Box>\n              </Grid>\n            ))}\n          </Grid>\n        </Paper>\n      )}\n\n      {}\n      <Box mt={4}>\n        <Typography variant=\"h5\" gutterBottom align=\"center\">\n          Выберите подходящий для вас план подписки и получите доступ к расширенным возможностям платформы.\n        </Typography>\n        \n        <Grid container spacing={3} mt={2}>\n          {}\n          <Grid item xs={12} md={4}>\n            <Paper\n              sx={{\n                p: 3,\n                height: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n                transition: 'transform 0.3s, box-shadow 0.3s',\n                '&:hover': {\n                  transform: 'translateY(-5px)',\n                  boxShadow: 6,\n                },\n                boxShadow: 3,\n                borderRadius: 2,\n              }}\n            >\n              <Typography variant=\"h5\" component=\"h2\" fontWeight=\"bold\" gutterBottom>\n                Basic\n              </Typography>\n              <Typography variant=\"h4\" component=\"div\" color=\"primary\" fontWeight=\"bold\" my={1}>\n                {subscriptionPrices.basic}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                {subscriptionDescriptions.basic}\n              </Typography>\n              <Divider sx={{ my: 2 }} />\n              <Box sx={{ flexGrow: 1 }}>\n                {subscriptionFeatures.basic.map((feature, index) => (\n                  <Box key={index} sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <CheckCircleOutline sx={{ color: 'primary.main', mr: 1, fontSize: '1rem' }} />\n                    <Typography variant=\"body2\">{feature}</Typography>\n                  </Box>\n                ))}\n              </Box>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                fullWidth\n                onClick={handleBuySubscription}\n                sx={{ mt: 3, textTransform: 'none', py: 1 }}\n              >\n                Купить\n              </Button>\n            </Paper>\n          </Grid>\n          \n          {}\n          <Grid item xs={12} md={4}>\n            <Paper\n              sx={{\n                p: 3,\n                height: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n                transition: 'transform 0.3s, box-shadow 0.3s',\n                '&:hover': {\n                  transform: 'translateY(-5px)',\n                  boxShadow: 6,\n                },\n                boxShadow: 4,\n                borderRadius: 2,\n                border: '2px solid',\n                borderColor: 'primary.main',\n                position: 'relative',\n              }}\n            >\n              <Box\n                sx={{\n                  position: 'absolute',\n                  top: 10,\n                  right: 10,\n                  bgcolor: 'primary.main',\n                  color: 'white',\n                  px: 1,\n                  py: 0.5,\n                  borderRadius: 1,\n                  fontSize: '0.75rem',\n                  fontWeight: 'bold',\n                }}\n              >\n                Популярный\n              </Box>\n              <Typography variant=\"h5\" component=\"h2\" fontWeight=\"bold\" gutterBottom>\n                Premium\n              </Typography>\n              <Typography variant=\"h4\" component=\"div\" color=\"primary\" fontWeight=\"bold\" my={1}>\n                {subscriptionPrices.premium}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n                {subscriptionDescriptions.premium}\n              </Typography>\n              <Divider sx={{ my: 2 }} />\n              <Box sx={{ flexGrow: 1 }}>\n                {subscriptionFeatures.premium.map((feature, index) => (\n                  <Box key={index} sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <CheckCircleOutline sx={{ color: 'primary.main', mr: 1, fontSize: '1rem' }} />\n                    <Typography variant=\"body2\">{feature}</Typography>\n                  </Box>\n                ))}\n              </Box>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                fullWidth\n                onClick={handleBuySubscription}\n                sx={{ mt: 3, textTransform: 'none', py: 1 }}\n              >\n                Купить\n              </Button>\n            </Paper>\n          </Grid>\n          \n          {}\n          <Grid item xs={12} md={4}>\n            <Paper\n              sx={{\n                p: 3,\n                height: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n                transition: 'transform 0.3s, box-shadow 0.3s',\n                '&:hover': {\n                  transform: 'translateY(-5px)',\n                  boxShadow: 6,\n                },\n                boxShadow: 3,\n                borderRadius: 2,\n                background: 'linear-gradient(135deg, #7b68ee 0%, #3b5998 100%)',\n                color: 'white',\n              }}\n            >\n              <Typography variant=\"h5\" component=\"h2\" fontWeight=\"bold\" gutterBottom>\n                Ultimate\n              </Typography>\n              <Typography variant=\"h4\" component=\"div\" fontWeight=\"bold\" my={1} sx={{ color: 'white' }}>\n                {subscriptionPrices.ultimate}\n              </Typography>\n              <Typography variant=\"body2\" sx={{ mb: 2, color: 'rgba(255,255,255,0.8)' }}>\n                {subscriptionDescriptions.ultimate}\n              </Typography>\n              <Divider sx={{ my: 2, bgcolor: 'rgba(255,255,255,0.2)' }} />\n              <Box sx={{ flexGrow: 1 }}>\n                {subscriptionFeatures.ultimate.map((feature, index) => (\n                  <Box key={index} sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <CheckCircleOutline sx={{ color: 'white', mr: 1, fontSize: '1rem' }} />\n                    <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.9)' }}>{feature}</Typography>\n                  </Box>\n                ))}\n              </Box>\n              <Button\n                variant=\"contained\"\n                fullWidth\n                onClick={handleBuySubscription}\n                sx={{\n                  mt: 3,\n                  textTransform: 'none',\n                  py: 1,\n                  bgcolor: 'white',\n                  color: 'primary.dark',\n                  '&:hover': {\n                    bgcolor: 'rgba(255,255,255,0.9)',\n                  }\n                }}\n              >\n                Купить\n              </Button>\n            </Paper>\n          </Grid>\n        </Grid>\n      </Box>\n\n      {}\n      <Paper\n        elevation={0}\n        sx={{\n          mt: 2,\n          p: 3,\n          borderRadius: 2,\n          backgroundColor: 'rgba(255, 255, 255, 0.05)',\n          backdropFilter: 'blur(10px)',\n          border: '1px solid rgba(255, 255, 255, 0.1)'\n        }}\n      >\n        <Typography variant=\"h6\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n          <KeyIcon />\n          Активация ключа подписки\n        </Typography>\n        <Typography variant=\"body2\" color=\"textSecondary\" paragraph>\n          Если у вас есть ключ активации подписки, введите его ниже для получения доступа к выбранному плану\n        </Typography>\n        \n        <Box sx={{ display: 'flex', flexDirection: { xs: 'column', sm: 'row' }, gap: 2, mt: 2 }}>\n          <KeyActivationField\n            fullWidth\n            variant=\"outlined\"\n            placeholder=\"XXXX-XXXX-XXXX-XXXX-XXXX\"\n            value={subscriptionKey}\n            onChange={handleKeyChange}\n            disabled={isActivating}\n            InputProps={{\n              startAdornment: <KeyIcon sx={{ mr: 1, opacity: 0.7 }} />,\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            onClick={handleActivateKey}\n            disabled={subscriptionKey.length < 3 || isActivating}\n            sx={{ \n              borderRadius: 2,\n              minWidth: { xs: '100%', sm: 150 }\n            }}\n          >\n            {isActivating ? <CircularProgress size={24} /> : 'Активировать'}\n          </Button>\n        </Box>\n        \n        <Alert severity=\"info\" sx={{ mt: 2 }}>\n          Для покупки подписки перейдите по ссылке <a href=\"https://boosty.to/qsoul\" target=\"_blank\" rel=\"noopener noreferrer\" style={{color: '#90caf9'}}>boosty.to/qsoul</a>\n        </Alert>\n      </Paper>\n\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert onClose={handleCloseSnackbar} severity={snackbar.severity} elevation={6} variant=\"filled\">\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default SubPlanes;"],"names":["styled","Card","theme","type","height","display","flexDirection","position","overflow","borderRadius","spacing","transition","backgroundColor","backdropFilter","boxShadow","border","transform","content","top","right","width","background","zIndex","CardHeader","alpha","borderBottom","fontWeight","fontSize","color","Typography","marginBottom","alignItems","justifyContent","marginLeft","opacity","CheckIcon","KeyActivationField","TextField","borderColor","palette","primary","main","Chip","SubPlanes","useTheme","useNavigate","useMediaQuery","breakpoints","down","subscriptionKey","setSubscriptionKey","useState","isActivating","setIsActivating","userSubscription","setUserSubscription","subscriptionTypes","setSubscriptionTypes","snackbar","setSnackbar","open","message","severity","loading","setLoading","success","setSuccess","error","setError","useEffect","async","typesResponse","axios","get","data","subscription_types","statusResponse","active","subscription_type","expires_at","expiration_date","features","fetchData","handleBuySubscription","handleCloseSnackbar","getSubscriptionColor","subscriptionFeatures","basic","premium","ultimate","jsx","Box","minHeight","children","CircularProgress","jsxs","Container","maxWidth","sx","py","mb","variant","component","gutterBottom","Paper","elevation","p","flexWrap","gap","DiamondIcon","dateString","Date","toLocaleDateString","day","month","year","label","size","ml","Divider","my","Grid","container","map","feature","index","item","xs","sm","md","mt","align","subscriptionPrices","subscriptionDescriptions","flexGrow","CheckCircleOutline","mr","Button","fullWidth","onClick","textTransform","bgcolor","px","KeyIcon","paragraph","placeholder","value","onChange","e","formattedValue","input","formatted","replace","result","i","length","toUpperCase","slice","formatKeyInput","target","disabled","InputProps","startAdornment","cleanKey","response","post","key","Error","setTimeout","err","errorMessage","includes","status","request","minWidth","Alert","href","rel","style","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal"],"mappings":"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"}