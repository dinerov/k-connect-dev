{"version":3,"file":"UpdateService.CDVnacP6.js","sources":["../../src/components/Updates/UpdateInfo.js","../../src/services/UpdateService.js"],"sourcesContent":["import React from 'react';\nimport { \n  Box, \n  Typography, \n  Paper, \n  Divider,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Avatar,\n  Chip,\n  Button\n} from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport NewReleasesIcon from '@mui/icons-material/NewReleases';\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\nimport BugReportIcon from '@mui/icons-material/BugReport';\nimport UpdateIcon from '@mui/icons-material/Update';\nimport ArrowForwardIcon from '@mui/icons-material/ArrowForward';\n\n/**\n * Компонент для отображения информации об обновлениях системы\n * @param {Object} props - Свойства компонента\n * @param {string} props.version - Версия обновления (например, \"2.5\")\n * @param {string} props.date - Дата обновления (например, \"01.06.2023\")\n * @param {Array} props.updates - Массив с пунктами обновления\n * @param {Array} props.fixes - Массив с исправлениями\n * @param {string} props.title - Заголовок обновления (опционально)\n * @param {boolean} props.showAllUpdatesButton - Показывать ли кнопку \"Все обновления\" (по умолчанию true)\n * @param {boolean} props.hideHeader - Скрыть ли заголовок с версией (по умолчанию false)\n */\nconst UpdateInfo = ({ \n  version = \"2.5\", \n  date = \"01.06.2023\", \n  updates = [], \n  fixes = [],\n  title = \"Обновление системы\",\n  showAllUpdatesButton = true,\n  hideHeader = false\n}) => {\n  const navigate = useNavigate();\n  \n  const handleViewAllUpdates = () => {\n    navigate('/updates');\n  };\n  \n  return (\n    <Paper sx={{ \n      p: 0, \n      borderRadius: '12px',\n      background: theme => theme.palette.mode === 'dark' \n        ? 'linear-gradient(145deg, #222222, #1c1c1c)'\n        : theme.palette.background.paper,\n      boxShadow: '0 4px 20px rgba(0, 0, 0, 0.15)',\n      border: theme => `1px solid ${theme.palette.mode === 'dark' ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.05)'}`,\n      overflow: 'hidden',\n      transition: 'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out',\n      '&:hover': {\n        boxShadow: '0 8px 25px rgba(0, 0, 0, 0.2)',\n      }\n    }}>\n      {/* Заголовок секции */}\n      {!hideHeader && (\n        <Box sx={{ \n          background: theme => theme.palette.mode === 'dark' \n            ? 'linear-gradient(90deg, rgba(208, 188, 255, 0.08), rgba(208, 188, 255, 0.02))'\n            : 'linear-gradient(90deg, rgba(140, 82, 255, 0.05), rgba(140, 82, 255, 0.01))', \n          p: 2,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between'\n        }}>\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n            <NewReleasesIcon sx={{ mr: 1, color: 'primary.main' }} />\n            <Typography \n              variant=\"h6\" \n              sx={{ \n                fontWeight: 600,\n                fontSize: '1.1rem',\n                color: theme => theme.palette.text.primary,\n                letterSpacing: '0.2px'\n              }}\n            >\n              {title}\n            </Typography>\n          </Box>\n          <Chip\n            label={`v${version}`}\n            size=\"small\"\n            sx={{ \n              backgroundColor: 'rgba(208, 188, 255, 0.1)',\n              color: 'primary.main',\n              fontWeight: 'medium',\n              border: '1px solid rgba(208, 188, 255, 0.2)'\n            }}\n          />\n        </Box>\n      )}\n      \n      {/* Содержимое обновления */}\n      <Box sx={{ p: 2 }}>\n        <Box sx={{ \n          display: 'flex', \n          alignItems: 'center', \n          justifyContent: 'space-between',\n          mb: 2\n        }}>\n          <Typography variant=\"subtitle1\" fontWeight=\"medium\">\n            Что нового в К-Коннект\n          </Typography>\n          <Chip\n            label={date}\n            size=\"small\"\n            icon={<UpdateIcon sx={{ fontSize: '16px !important' }} />}\n            sx={{ \n              fontSize: '0.75rem',\n              backgroundColor: 'rgba(255, 255, 255, 0.05)',\n              border: '1px solid rgba(255, 255, 255, 0.1)'\n            }}\n          />\n        </Box>\n        \n        {/* Список обновлений */}\n        {updates.length > 0 && (\n          <List dense disablePadding sx={{ mb: 2 }}>\n            {updates.map((update, index) => (\n              <ListItem key={`update-${index}`} sx={{ py: 0.5, px: 0 }}>\n                <ListItemIcon sx={{ minWidth: 36 }}>\n                  <CheckCircleOutlineIcon fontSize=\"small\" color=\"primary\" />\n                </ListItemIcon>\n                <ListItemText \n                  primary={update} \n                  primaryTypographyProps={{ \n                    variant: 'body2',\n                    sx: { opacity: 0.9 }\n                  }} \n                />\n              </ListItem>\n            ))}\n          </List>\n        )}\n        \n        {/* Список исправлений */}\n        {fixes.length > 0 && (\n          <>\n            <Divider sx={{ my: 1.5, opacity: 0.1 }} />\n            <Typography variant=\"subtitle2\" fontWeight=\"medium\" sx={{ mt: 1, mb: 1 }}>\n              Исправления ошибок:\n            </Typography>\n            <List dense disablePadding>\n              {fixes.map((fix, index) => (\n                <ListItem key={`fix-${index}`} sx={{ py: 0.5, px: 0 }}>\n                  <ListItemIcon sx={{ minWidth: 36 }}>\n                    <BugReportIcon fontSize=\"small\" sx={{ color: '#ff9800' }} />\n                  </ListItemIcon>\n                  <ListItemText \n                    primary={fix} \n                    primaryTypographyProps={{ \n                      variant: 'body2',\n                      sx: { opacity: 0.8 }\n                    }} \n                  />\n                </ListItem>\n              ))}\n            </List>\n          </>\n        )}\n        \n        {/* Кнопка \"Все обновления\" */}\n        {showAllUpdatesButton && (\n          <Box sx={{ mt: 2, display: 'flex', justifyContent: 'flex-end' }}>\n            <Button \n              variant=\"text\" \n              endIcon={<ArrowForwardIcon />}\n              onClick={handleViewAllUpdates}\n              sx={{ \n                textTransform: 'none', \n                fontWeight: 'medium',\n                fontSize: '0.85rem'\n              }}\n            >\n              История обновлений\n            </Button>\n          </Box>\n        )}\n      </Box>\n    </Paper>\n  );\n};\n\nexport default UpdateInfo; ","/**\n * Сервис для управления данными об обновлениях системы\n */\n\n\nconst updates = [\n  {\n    version: \"2.8\",\n    date: \"01.06.2025\",\n    title: \"Обновление 2.8\",\n    updates: [\n      \"Встретили Лето\",\n      \"Оптимизация\",\n      \"Закрепление постов\",\n      \"Шторка уведомлений\",\n      \"Новый вид меню\",\n      \"Поисковик\",\n      \"Любовные связи\",\n      \"Декорации\"\n    ],\n  },\n  {\n    version: \"2.7\",\n    date: \"13.05.2025\",\n    title: \"Обновление 2.7\",\n    updates: [\n      \"Добавлен мессенджер\",\n      \"Добавлены плейлисты\",\n      \"Модальные окна для плейлистов\",\n      \"Очередь плейлистов покругу\",\n      \"Новый вид профиля\",\n      \"Репосты\"\n      \n    ],\n    fixes: [\n      \"Прогрузка плейлистов\",\n      \"Работа с плейлистами в мобильной версии\",\n      \"Обновление системы Аукциона юзернеймов\",\n    ]\n  },{\n    version: \"2.6\",\n    date: \"08.05.2025\",\n    title: \"Обновление 2.6\",\n    updates: [\n      \"Начало улучшений Бэкэнда\",\n      \"Сессии длятся 30 дней\",\n      \"Добавлены друзья\",\n      \"Статусы для каналов\",\n      \"Новый Плеер Музыки\",\n      \"Карточки музыкантов\"\n\n    ],\n    fixes: [\n      \"Ошибки при нагрузке на сервер\",\n      \"Выкидывание из аккаунтов\",\n      \"Исправлен аукцион\",\n      \"Исправлены ошибки в плеере\"\n    ]\n  },\n  {\n    version: \"2.5\",\n    date: \"05.05.2025\",\n    title: \"Обновление 2.5\",\n    updates: [\n      \"Синхронизация между вкладками с использованием BroadcastChannel API\",\n      \"Улучшенная производительность и отзывчивость интерфейса\",\n      \"Добавлен аукцион юзернеймов\",\n      \"Улучшен просмотр изображений\",\n      \"История владения юзернеймами\",\n      \"История транзакций по играм\",\n      \"Блекджек\"\n    ],\n    fixes: [\n      \"Исправлена ошибка с множественными запросами к серверу\",\n      \"Устранены проблемы с отображением в мобильных браузерах\",\n      \"Исправлена синхронизация данных при использовании нескольких устройств\"\n    ]\n  },\n  {\n    version: \"2.4\",\n    date: \"01.04.2025\",\n    title: \"Обновление 2.0 - 2.4\",\n    updates: [\n      \"Полный перенос на React\",\n      \"Улучшенная производительность и отзывчивость интерфейса\",\n      \"Переписан полностью бэкенд на работу с React\",\n      \"Добавлены новые мини-игры\",\n      \"Баланс, переводы, оплаты\",\n      \"Магазин Бейджиков\",\n      \"Планы подписок\",\n\n    ],\n    fixes: [\n      \"Исправлены ошибки в бекенде\",\n      \"Добавлена защита от спама запросов\",\n      \"Добавлена документация по API (устаревшая на момент 08.05.2025)\", \n      \"Множество исправлений о которых уже не возможно вспомнить\"\n    ]\n  }\n];\n\n\nconst UpdateService = {\n  /**\n   * Получение последнего обновления\n   * @returns {Object} Данные о последнем обновлении\n   */\n  getLatestUpdate: () => {\n    return updates[0];\n  },\n\n  /**\n   * Получение всех обновлений\n   * @returns {Array} Массив с данными обо всех обновлениях\n   */\n  getAllUpdates: () => {\n    return updates;\n  },\n\n  /**\n   * Получение обновления по версии\n   * @param {string} version - Версия обновления\n   * @returns {Object|null} Данные об обновлении или null, если не найдено\n   */\n  getUpdateByVersion: (version) => {\n    return updates.find(update => update.version === version) || null;\n  },\n\n  /**\n   * Получение обновлений за определенный период\n   * @param {number} count - Количество последних обновлений\n   * @returns {Array} Массив с данными о последних обновлениях\n   */\n  getRecentUpdates: (count = 3) => {\n    return updates.slice(0, count);\n  }\n};\n\nexport default UpdateService; "],"names":["UpdateInfo","version","date","updates","fixes","title","showAllUpdatesButton","hideHeader","navigate","useNavigate","jsxs","Paper","sx","p","borderRadius","background","theme","palette","mode","paper","boxShadow","border","overflow","transition","children","Box","display","alignItems","justifyContent","jsx","NewReleasesIcon","mr","color","Typography","variant","fontWeight","fontSize","text","primary","letterSpacing","Chip","label","size","backgroundColor","mb","icon","UpdateIcon","length","List","dense","disablePadding","map","update","index","ListItem","py","px","ListItemIcon","minWidth","CheckCircleOutlineIcon","ListItemText","primaryTypographyProps","opacity","Fragment","Divider","my","mt","fix","BugReportIcon","Button","endIcon","ArrowForwardIcon","onClick","handleViewAllUpdates","textTransform","UpdateService","getLatestUpdate","getAllUpdates","getUpdateByVersion","find","getRecentUpdates","count","slice"],"mappings":"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"}