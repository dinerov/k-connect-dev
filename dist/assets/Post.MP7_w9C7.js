import{r as requireInteropRequireDefault,a as requireJsxRuntime,as as requirePropTypes,j as jsxRuntimeExports,s as styled,i as Box,T as Typography,P as Paper,S as Skeleton,b as useTheme,k as Avatar,a3 as Tooltip,l as Button,af as Snackbar,D as Dialog,E as DialogTitle,H as DialogContent,m as TextField,J as DialogActions,o as CircularProgress,A as Alert,F as FormControlLabel,n as Checkbox,O as List,Q as ListItem,R as ListItemIcon,U as ListItemText,C as Card,q as Chip,a6 as Menu}from"./vendor-mui.08p3AH88.js";import{r as reactExports,a as React,u as useNavigate,L as Link}from"./vendor-router.BRqU_Zs2.js";import{a as axios,A as AnimatePresence,m as motion}from"./vendor.CL98q8z6.js";import{r as requireCreateSvgIcon,T as ThemeSettingsContext,A as AuthContext,k as MusicContext,m as usePostDetail,F as FavoriteIcon,I as Icon,R as RepeatIcon,g as ChatBubbleIcon,b as CheckCircleIcon}from"./index.CdVNWeFt.js";import{g as getDefaultExportFromCjs,r as requireReact}from"./vendor-react.DF-_cTkv.js";import{b as formatTimeAgo}from"./dateUtils.JaLtthGQ.js";import{S as SimpleImageViewer,C as ChatBubbleOutlineIcon}from"./SimpleImageViewer.DCWkQqHX.js";import{L as LinkIcon}from"./Link.BmVIpf9S.js";import{D as DeleteIcon}from"./Delete.C47j6PO2.js";import{S as ShareIcon}from"./Share.BKyVThZF.js";import{o as optimizeImage}from"./imageUtils.BkCfy0de.js";import{M as MusicNoteIcon}from"./MusicNote.D4Jp3FIY.js";import{P as PlayArrowIcon}from"./PlayArrow.GqmCGL4o.js";import{P as PauseIcon}from"./Pause.r8mC42rq.js";import{V as VisibilityIcon}from"./Visibility.Bq_lujd_.js";import{R as ReportProblemIcon,C as ContextMenu}from"./TransferMenu.2g5UFehs.js";import{E as EditIcon}from"./Edit.6-hI7nty.js";import{P as PhotoIcon}from"./Photo.tXKr-C4h.js";import{V as VerificationBadge}from"./index.CJUnh1z7.js";const useContextMenu=()=>{const[e,t]=reactExports.useState({show:!1,x:0,y:0,data:null});return{contextMenuState:e,handleContextMenu:reactExports.useCallback((r,i=null)=>{r.preventDefault(),t({show:!0,x:r.clientX,y:r.clientY,data:i})},[]),closeContextMenu:reactExports.useCallback(()=>{t(r=>({...r,show:!1}))},[])}};var FavoriteBorder={},hasRequiredFavoriteBorder;function requireFavoriteBorder(){if(hasRequiredFavoriteBorder)return FavoriteBorder;hasRequiredFavoriteBorder=1;var e=requireInteropRequireDefault();Object.defineProperty(FavoriteBorder,"__esModule",{value:!0}),FavoriteBorder.default=void 0;var t=e(requireCreateSvgIcon()),r=requireJsxRuntime();return FavoriteBorder.default=(0,t.default)((0,r.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),FavoriteBorder}var FavoriteBorderExports=requireFavoriteBorder();const FavoriteBorderIcon=getDefaultExportFromCjs(FavoriteBorderExports);var unistUtilStringifyPosition$1,hasRequiredUnistUtilStringifyPosition$1,vfileMessage,hasRequiredVfileMessage;function requireUnistUtilStringifyPosition$1(){if(hasRequiredUnistUtilStringifyPosition$1)return unistUtilStringifyPosition$1;hasRequiredUnistUtilStringifyPosition$1=1;var e={}.hasOwnProperty;function t(n){return n&&typeof n=="object"||(n={}),i(n.line)+":"+i(n.column)}function r(n){return n&&typeof n=="object"||(n={}),t(n.start)+"-"+t(n.end)}function i(n){return n&&typeof n=="number"?n:1}return unistUtilStringifyPosition$1=function(n){return n&&typeof n=="object"?e.call(n,"position")||e.call(n,"type")?r(n.position):e.call(n,"start")||e.call(n,"end")?r(n):e.call(n,"line")||e.call(n,"column")?t(n):"":""}}function requireVfileMessage(){if(hasRequiredVfileMessage)return vfileMessage;hasRequiredVfileMessage=1;var e=requireUnistUtilStringifyPosition$1();function t(){}vfileMessage=i,t.prototype=Error.prototype,i.prototype=new t;var r=i.prototype;function i(n,s,a){var o,l,c;typeof s=="string"&&(a=s,s=null),o=function(u){var h,d=[null,null];return typeof u=="string"&&((h=u.indexOf(":"))===-1?d[1]=u:(d[0]=u.slice(0,h),d[1]=u.slice(h+1))),d}(a),l=e(s)||"1:1",c={start:{line:null,column:null},end:{line:null,column:null}},s&&s.position&&(s=s.position),s&&(s.start?(c=s,s=s.start):c.start=s),n.stack&&(this.stack=n.stack,n=n.message),this.message=n,this.name=l,this.reason=n,this.line=s?s.line:null,this.column=s?s.column:null,this.location=c,this.source=o[0],this.ruleId=o[1]}return r.file="",r.name="",r.reason="",r.message="",r.stack="",r.fatal=null,r.column=null,r.line=null,vfileMessage}var minpath_browser={},hasRequiredMinpath_browser;function requireMinpath_browser(){if(hasRequiredMinpath_browser)return minpath_browser;function e(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}return hasRequiredMinpath_browser=1,minpath_browser.basename=function(t,r){var i,n,s,a,o=0,l=-1;if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');if(e(t),i=t.length,r===void 0||!r.length||r.length>t.length){for(;i--;)if(t.charCodeAt(i)===47){if(s){o=i+1;break}}else l<0&&(s=!0,l=i+1);return l<0?"":t.slice(o,l)}if(r===t)return"";for(n=-1,a=r.length-1;i--;)if(t.charCodeAt(i)===47){if(s){o=i+1;break}}else n<0&&(s=!0,n=i+1),a>-1&&(t.charCodeAt(i)===r.charCodeAt(a--)?a<0&&(l=i):(a=-1,l=n));return o===l?l=n:l<0&&(l=t.length),t.slice(o,l)},minpath_browser.dirname=function(t){var r,i,n;if(e(t),!t.length)return".";for(r=-1,n=t.length;--n;)if(t.charCodeAt(n)===47){if(i){r=n;break}}else i||(i=!0);return r<0?t.charCodeAt(0)===47?"/":".":r===1&&t.charCodeAt(0)===47?"//":t.slice(0,r)},minpath_browser.extname=function(t){var r,i,n,s=-1,a=0,o=-1,l=0;for(e(t),n=t.length;n--;)if((i=t.charCodeAt(n))!==47)o<0&&(r=!0,o=n+1),i===46?s<0?s=n:l!==1&&(l=1):s>-1&&(l=-1);else if(r){a=n+1;break}return s<0||o<0||l===0||l===1&&s===o-1&&s===a+1?"":t.slice(s,o)},minpath_browser.join=function(){for(var t,r,i,n,s=-1;++s<arguments.length;)e(arguments[s]),arguments[s]&&(t=t===void 0?arguments[s]:t+"/"+arguments[s]);return t===void 0?".":(e(r=t),i=r.charCodeAt(0)===47,n=function(a,o){for(var l,c,u="",h=0,d=-1,p=0,m=-1;++m<=a.length;){if(m<a.length)l=a.charCodeAt(m);else{if(l===47)break;l=47}if(l===47){if(!(d===m-1||p===1))if(d!==m-1&&p===2){if(u.length<2||h!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){if((c=u.lastIndexOf("/"))!==u.length-1){c<0?(u="",h=0):h=(u=u.slice(0,c)).length-1-u.lastIndexOf("/"),d=m,p=0;continue}}else if(u.length){u="",h=0,d=m,p=0;continue}}o&&(u=u.length?u+"/..":"..",h=2)}else u.length?u+="/"+a.slice(d+1,m):u=a.slice(d+1,m),h=m-d-1;d=m,p=0}else l===46&&p>-1?p++:p=-1}return u}(r,!i),n.length||i||(n="."),n.length&&r.charCodeAt(r.length-1)===47&&(n+="/"),i?"/"+n:n)},minpath_browser.sep="/",minpath_browser}var minproc_browser={},hasRequiredMinproc_browser,isBuffer,hasRequiredIsBuffer,core,hasRequiredCore,lib$1,hasRequiredLib$1,vfile,hasRequiredVfile,bail_1,hasRequiredBail,extend$1,hasRequiredExtend,isPlainObj,hasRequiredIsPlainObj,wrap_1$1,hasRequiredWrap$1,trough_1,hasRequiredTrough,unified_1,hasRequiredUnified,mdastUtilToString,hasRequiredMdastUtilToString,assign_1,hasRequiredAssign,hasOwnProperty,hasRequiredHasOwnProperty,normalizeIdentifier_1,hasRequiredNormalizeIdentifier,fromCharCode_1,hasRequiredFromCharCode,safeFromInt_1,hasRequiredSafeFromInt;function requireMinproc_browser(){return hasRequiredMinproc_browser||(hasRequiredMinproc_browser=1,minproc_browser.cwd=function(){return"/"}),minproc_browser}function requireIsBuffer(){return hasRequiredIsBuffer?isBuffer:(hasRequiredIsBuffer=1,isBuffer=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)})}function requireCore(){if(hasRequiredCore)return core;hasRequiredCore=1;var e=requireMinpath_browser(),t=requireMinproc_browser(),r=requireIsBuffer();core=s;var i={}.hasOwnProperty,n=["history","path","basename","stem","extname","dirname"];function s(c){var u,h;if(c){if(typeof c=="string"||r(c))c={contents:c};else if("message"in c&&"messages"in c)return c}else c={};if(!(this instanceof s))return new s(c);for(this.data={},this.messages=[],this.history=[],this.cwd=t.cwd(),h=-1;++h<n.length;)u=n[h],i.call(c,u)&&(this[u]=c[u]);for(u in c)n.indexOf(u)<0&&(this[u]=c[u])}function a(c,u){if(c&&c.indexOf(e.sep)>-1)throw new Error("`"+u+"` cannot be a path: did not expect `"+e.sep+"`")}function o(c,u){if(!c)throw new Error("`"+u+"` cannot be empty")}function l(c,u){if(!c)throw new Error("Setting `"+u+"` requires `path` to be set too")}return s.prototype.toString=function(c){return(this.contents||"").toString(c)},Object.defineProperty(s.prototype,"path",{get:function(){return this.history[this.history.length-1]},set:function(c){o(c,"path"),this.path!==c&&this.history.push(c)}}),Object.defineProperty(s.prototype,"dirname",{get:function(){return typeof this.path=="string"?e.dirname(this.path):void 0},set:function(c){l(this.path,"dirname"),this.path=e.join(c||"",this.basename)}}),Object.defineProperty(s.prototype,"basename",{get:function(){return typeof this.path=="string"?e.basename(this.path):void 0},set:function(c){o(c,"basename"),a(c,"basename"),this.path=e.join(this.dirname||"",c)}}),Object.defineProperty(s.prototype,"extname",{get:function(){return typeof this.path=="string"?e.extname(this.path):void 0},set:function(c){if(a(c,"extname"),l(this.path,"extname"),c){if(c.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(c.indexOf(".",1)>-1)throw new Error("`extname` cannot contain multiple dots")}this.path=e.join(this.dirname,this.stem+(c||""))}}),Object.defineProperty(s.prototype,"stem",{get:function(){return typeof this.path=="string"?e.basename(this.path,this.extname):void 0},set:function(c){o(c,"stem"),a(c,"stem"),this.path=e.join(this.dirname||"",c+(this.extname||""))}}),core}function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1;var e=requireVfileMessage(),t=requireCore();return lib$1=t,t.prototype.message=function(r,i,n){var s=new e(r,i,n);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s},t.prototype.info=function(){var r=this.message.apply(this,arguments);return r.fatal=null,r},t.prototype.fail=function(){var r=this.message.apply(this,arguments);throw r.fatal=!0,r},lib$1}function requireVfile(){return hasRequiredVfile?vfile:(hasRequiredVfile=1,vfile=requireLib$1())}function requireBail(){return hasRequiredBail?bail_1:(hasRequiredBail=1,bail_1=function(e){if(e)throw e})}function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=function(l){return typeof Array.isArray=="function"?Array.isArray(l):t.call(l)==="[object Array]"},s=function(l){if(!l||t.call(l)!=="[object Object]")return!1;var c,u=e.call(l,"constructor"),h=l.constructor&&l.constructor.prototype&&e.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!u&&!h)return!1;for(c in l);return c===void 0||e.call(l,c)},a=function(l,c){r&&c.name==="__proto__"?r(l,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):l[c.name]=c.newValue},o=function(l,c){if(c==="__proto__"){if(!e.call(l,c))return;if(i)return i(l,c).value}return l[c]};return extend$1=function l(){var c,u,h,d,p,m,g=arguments[0],f=1,y=arguments.length,v=!1;for(typeof g=="boolean"&&(v=g,g=arguments[1]||{},f=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});f<y;++f)if((c=arguments[f])!=null)for(u in c)h=o(g,u),g!==(d=o(c,u))&&(v&&d&&(s(d)||(p=n(d)))?(p?(p=!1,m=h&&n(h)?h:[]):m=h&&s(h)?h:{},a(g,{name:u,newValue:l(v,m,d)})):d!==void 0&&a(g,{name:u,newValue:d}));return g},extend$1}function requireIsPlainObj(){return hasRequiredIsPlainObj?isPlainObj:(hasRequiredIsPlainObj=1,isPlainObj=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype})}function requireWrap$1(){if(hasRequiredWrap$1)return wrap_1$1;hasRequiredWrap$1=1;var e=[].slice;return wrap_1$1=function(t,r){var i;return function(){var a,o=e.call(arguments,0),l=t.length>o.length;l&&o.push(n);try{a=t.apply(null,o)}catch(c){if(l&&i)throw c;return n(c)}l||(a&&typeof a.then=="function"?a.then(s,n):a instanceof Error?n(a):s(a))};function n(){i||(i=!0,r.apply(null,arguments))}function s(a){n(null,a)}},wrap_1$1}function requireTrough(){if(hasRequiredTrough)return trough_1;hasRequiredTrough=1;var e=requireWrap$1();trough_1=r,r.wrap=e;var t=[].slice;function r(){var i=[],n={run:function(){var s=-1,a=t.call(arguments,0,-1),o=arguments[arguments.length-1];if(typeof o!="function")throw new Error("Expected function as last argument, not "+o);(function l(c){var u=i[++s],h=t.call(arguments,0).slice(1),d=a.length,p=-1;if(c)o(c);else{for(;++p<d;)h[p]!==null&&h[p]!==void 0||(h[p]=a[p]);a=h,u?e(u,l).apply(null,a):o.apply(null,[null].concat(a))}}).apply(null,[null].concat(a))},use:function(s){if(typeof s!="function")throw new Error("Expected `fn` to be a function, not "+s);return i.push(s),n}};return n}return trough_1}function requireUnified(){if(hasRequiredUnified)return unified_1;hasRequiredUnified=1;var e=requireBail(),t=requireIsBuffer(),r=requireExtend(),i=requireIsPlainObj(),n=requireTrough(),s=requireVfile();unified_1=function g(){var f,y=[],v=n(),b={},k=-1;return E.data=function(w,P){return typeof w=="string"?arguments.length===2?(d("data",f),b[w]=P,E):o.call(b,w)&&b[w]||null:w?(d("data",f),b=w,E):b},E.freeze=x,E.attachers=y,E.use=function(w){var P;if(d("use",f),w!=null)if(typeof w=="function")D.apply(null,arguments);else{if(typeof w!="object")throw new Error("Expected usable value, not `"+w+"`");"length"in w?I(w):T(w)}return P&&(b.settings=r(b.settings||{},P)),E;function T(L){I(L.plugins),L.settings&&(P=r(P||{},L.settings))}function F(L){if(typeof L=="function")D(L);else{if(typeof L!="object")throw new Error("Expected usable value, not `"+L+"`");"length"in L?D.apply(null,L):T(L)}}function I(L){var O=-1;if(L!=null){if(typeof L!="object"||!("length"in L))throw new Error("Expected a list of plugins, not `"+L+"`");for(;++O<L.length;)F(L[O])}}function D(L,O){var W=function(A){for(var j=-1;++j<y.length;)if(y[j][0]===A)return y[j]}(L);W?(i(W[1])&&i(O)&&(O=r(!0,W[1],O)),W[1]=O):y.push(a.call(arguments))}},E.parse=function(w){var P,T=s(w);return x(),u("parse",P=E.Parser),c(P,"parse")?new P(String(T),T).parse():P(String(T),T)},E.stringify=function(w,P){var T,F=s(P);return x(),h("stringify",T=E.Compiler),p(w),c(T,"compile")?new T(w,F).compile():T(w,F)},E.run=S,E.runSync=function(w,P){var T,F;return S(w,P,function(I,D){F=!0,T=D,e(I)}),m("runSync","run",F),T},E.process=C,E.processSync=function(w){var P,T;return x(),u("processSync",E.Parser),h("processSync",E.Compiler),C(P=s(w),function(F){T=!0,e(F)}),m("processSync","process",T),P},E;function E(){for(var w=g(),P=-1;++P<y.length;)w.use.apply(null,y[P]);return w.data(r(!0,{},b)),w}function x(){var w,P;if(f)return E;for(;++k<y.length;)(w=y[k])[1]!==!1&&(w[1]===!0&&(w[1]=void 0),typeof(P=w[0].apply(E,w.slice(1)))=="function"&&v.use(P));return f=!0,k=1/0,E}function S(w,P,T){if(p(w),x(),T||typeof P!="function"||(T=P,P=null),!T)return new Promise(F);function F(I,D){v.run(w,s(P),function(L,O,W){O=O||w,L?D(L):I?I(O):T(null,O,W)})}F(null,T)}function C(w,P){if(x(),u("process",E.Parser),h("process",E.Compiler),!P)return new Promise(T);function T(F,I){var D=s(w);l.run(E,{file:D},function(L){L?I(L):F?F(D):P(null,D)})}T(null,P)}}().freeze();var a=[].slice,o={}.hasOwnProperty,l=n().use(function(g,f){f.tree=g.parse(f.file)}).use(function(g,f,y){g.run(f.tree,f.file,function(v,b,k){v?y(v):(f.tree=b,f.file=k,y())})}).use(function(g,f){var y=g.stringify(f.tree,f.file);y==null||(typeof y=="string"||t(y)?("value"in f.file&&(f.file.value=y),f.file.contents=y):f.file.result=y)});function c(g,f){return typeof g=="function"&&g.prototype&&(function(y){var v;for(v in y)return!0;return!1}(g.prototype)||f in g.prototype)}function u(g,f){if(typeof f!="function")throw new Error("Cannot `"+g+"` without `Parser`")}function h(g,f){if(typeof f!="function")throw new Error("Cannot `"+g+"` without `Compiler`")}function d(g,f){if(f)throw new Error("Cannot invoke `"+g+"` on a frozen processor.\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.")}function p(g){if(!g||typeof g.type!="string")throw new Error("Expected node, got `"+g+"`")}function m(g,f,y){if(!y)throw new Error("`"+g+"` finished async. Use `"+f+"` instead")}return unified_1}function requireMdastUtilToString(){if(hasRequiredMdastUtilToString)return mdastUtilToString;function e(r){return r&&(r.value||r.alt||r.title||"children"in r&&t(r.children)||"length"in r&&t(r))||""}function t(r){for(var i=[],n=-1;++n<r.length;)i[n]=e(r[n]);return i.join("")}return hasRequiredMdastUtilToString=1,mdastUtilToString=e}function requireAssign(){if(hasRequiredAssign)return assign_1;hasRequiredAssign=1;var e=Object.assign;return assign_1=e}function requireHasOwnProperty(){return hasRequiredHasOwnProperty?hasOwnProperty:(hasRequiredHasOwnProperty=1,hasOwnProperty={}.hasOwnProperty)}function requireNormalizeIdentifier(){return hasRequiredNormalizeIdentifier?normalizeIdentifier_1:(hasRequiredNormalizeIdentifier=1,normalizeIdentifier_1=function(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()})}function requireFromCharCode(){if(hasRequiredFromCharCode)return fromCharCode_1;hasRequiredFromCharCode=1;var e=String.fromCharCode;return fromCharCode_1=e}function requireSafeFromInt(){if(hasRequiredSafeFromInt)return safeFromInt_1;hasRequiredSafeFromInt=1;var e=requireFromCharCode();return safeFromInt_1=function(t,r){var i=parseInt(t,r);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||!(65535&~i)||(65535&i)==65534||i>1114111?"\uFFFD":e(i)}}var content={},markdownLineEnding_1,hasRequiredMarkdownLineEnding,markdownSpace_1,hasRequiredMarkdownSpace,factorySpace,hasRequiredFactorySpace,hasRequiredContent$1;function requireMarkdownLineEnding(){return hasRequiredMarkdownLineEnding?markdownLineEnding_1:(hasRequiredMarkdownLineEnding=1,markdownLineEnding_1=function(e){return e<-2})}function requireMarkdownSpace(){return hasRequiredMarkdownSpace?markdownSpace_1:(hasRequiredMarkdownSpace=1,markdownSpace_1=function(e){return e===-2||e===-1||e===32})}function requireFactorySpace(){if(hasRequiredFactorySpace)return factorySpace;hasRequiredFactorySpace=1;var e=requireMarkdownSpace();return factorySpace=function(t,r,i,n){var s=n?n-1:1/0,a=0;return function(l){return e(l)?(t.enter(i),o(l)):r(l)};function o(l){return e(l)&&a++<s?(t.consume(l),o):(t.exit(i),r(l))}}}function requireContent$1(){if(hasRequiredContent$1)return content;hasRequiredContent$1=1,Object.defineProperty(content,"__esModule",{value:!0});var e=requireMarkdownLineEnding(),t=requireFactorySpace();return content.tokenize=function(r){var i,n=r.attempt(this.parser.constructs.contentInitial,function(o){if(o!==null)return r.enter("lineEnding"),r.consume(o),r.exit("lineEnding"),t(r,n,"linePrefix");r.consume(o)},function(o){return r.enter("paragraph"),s(o)});return n;function s(o){var l=r.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=l),i=l,a(o)}function a(o){return o===null?(r.exit("chunkText"),r.exit("paragraph"),void r.consume(o)):e(o)?(r.consume(o),r.exit("chunkText"),s):(r.consume(o),a)}},content}var document$1={},partialBlankLine_1,hasRequiredPartialBlankLine,hasRequiredDocument;function requirePartialBlankLine(){if(hasRequiredPartialBlankLine)return partialBlankLine_1;hasRequiredPartialBlankLine=1;var e=requireMarkdownLineEnding(),t=requireFactorySpace();return partialBlankLine_1={tokenize:function(r,i,n){return t(r,function(s){return s===null||e(s)?i(s):n(s)},"linePrefix")},partial:!0}}function requireDocument(){if(hasRequiredDocument)return document$1;hasRequiredDocument=1,Object.defineProperty(document$1,"__esModule",{value:!0});var e=requireMarkdownLineEnding(),t=requireFactorySpace(),r=requirePartialBlankLine(),i={tokenize:function(s,a,o){return t(s,s.attempt(this.parser.constructs.document,a,o),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},n={tokenize:function(s,a,o){return t(s,s.lazy(this.parser.constructs.flow,a,o),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}};return document$1.tokenize=function(s){var a,o,l,c=this,u=[],h=0,d={tokenize:function(x,S){var C=0;return a={},w;function w(L){return C<u.length?(c.containerState=u[C][1],x.attempt(u[C][0].continuation,P,T)(L)):o.currentConstruct&&o.currentConstruct.concrete?(a.flowContinue=!0,D(L)):(c.interrupt=o.currentConstruct&&o.currentConstruct.interruptible,c.containerState={},x.attempt(i,I,D)(L))}function P(L){return C++,c.containerState._closeFlow?I(L):w(L)}function T(L){return o.currentConstruct&&o.currentConstruct.lazy?(c.containerState={},x.attempt(i,I,x.attempt(n,I,x.check(r,I,F)))(L)):I(L)}function F(L){return C=u.length,a.lazy=!0,a.flowContinue=!0,D(L)}function I(L){return a.flowEnd=!0,D(L)}function D(L){return a.continued=C,c.interrupt=c.containerState=void 0,S(L)}},partial:!0};return p;function p(x){return h<u.length?(c.containerState=u[h][1],s.attempt(u[h][0].continuation,m,g)(x)):g(x)}function m(x){return h++,p(x)}function g(x){return a&&a.flowContinue?y(x):(c.interrupt=o&&o.currentConstruct&&o.currentConstruct.interruptible,c.containerState={},s.attempt(i,f,y)(x))}function f(x){return u.push([c.currentConstruct,c.containerState]),c.containerState=void 0,g(x)}function y(x){return x===null?(E(0,!0),void s.consume(x)):(o=o||c.parser.flow(c.now()),s.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:o}),v(x))}function v(x){return x===null?(k(s.exit("chunkFlow")),y(x)):e(x)?(s.consume(x),k(s.exit("chunkFlow")),s.check(d,b)):(s.consume(x),v)}function b(x){return E(a.continued,a&&a.flowEnd),h=0,p(x)}function k(x){l&&(l.next=x),l=x,o.lazy=a&&a.lazy,o.defineSkip(x.start),o.write(c.sliceStream(x))}function E(x,S){var C=u.length;for(o&&S&&(o.write([null]),l=o=void 0);C-- >x;)c.containerState=u[C][1],u[C][0].exit.call(c,s);u.length=x}},document$1}var flow={},sizeChunks_1,hasRequiredSizeChunks,prefixSize_1,hasRequiredPrefixSize,splice_1,hasRequiredSplice,chunkedSplice_1,hasRequiredChunkedSplice,shallow_1,hasRequiredShallow,subtokenize_1,hasRequiredSubtokenize,content_1,hasRequiredContent,hasRequiredFlow;function requireSizeChunks(){return hasRequiredSizeChunks?sizeChunks_1:(hasRequiredSizeChunks=1,sizeChunks_1=function(e){for(var t=-1,r=0;++t<e.length;)r+=typeof e[t]=="string"?e[t].length:1;return r})}function requirePrefixSize(){if(hasRequiredPrefixSize)return prefixSize_1;hasRequiredPrefixSize=1;var e=requireSizeChunks();return prefixSize_1=function(t,r){var i=t[t.length-1];return i&&i[1].type===r?e(i[2].sliceStream(i[1])):0}}function requireSplice(){return hasRequiredSplice?splice_1:(hasRequiredSplice=1,splice_1=[].splice)}function requireChunkedSplice(){if(hasRequiredChunkedSplice)return chunkedSplice_1;hasRequiredChunkedSplice=1;var e=requireSplice();return chunkedSplice_1=function(t,r,i,n){var s,a=t.length,o=0;if(r=r<0?-r>a?0:a+r:r>a?a:r,i=i>0?i:0,n.length<1e4)(s=Array.from(n)).unshift(r,i),e.apply(t,s);else for(i&&e.apply(t,[r,i]);o<n.length;)(s=n.slice(o,o+1e4)).unshift(r,0),e.apply(t,s),o+=1e4,r+=1e4}}function requireShallow(){if(hasRequiredShallow)return shallow_1;hasRequiredShallow=1;var e=requireAssign();return shallow_1=function(t){return e({},t)}}function requireSubtokenize(){if(hasRequiredSubtokenize)return subtokenize_1;hasRequiredSubtokenize=1;var e=requireAssign(),t=requireChunkedSplice(),r=requireShallow();function i(n,s){for(var a,o,l,c,u,h,d=n[s][1],p=n[s][2],m=s-1,g=[],f=d._tokenizer||p.parser[d.contentType](d.start),y=f.events,v=[],b={};d;){for(;n[++m][1]!==d;);g.push(m),d._tokenizer||(a=p.sliceStream(d),d.next||a.push(null),o&&f.defineSkip(d.start),d.isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=!0),f.write(a),d.isInFirstContentOfListItem&&(f._gfmTasklistFirstContentOfListItem=void 0)),o=d,d=d.next}for(d=o,l=y.length;l--;)y[l][0]==="enter"?c=!0:c&&y[l][1].type===y[l-1][1].type&&y[l][1].start.line!==y[l][1].end.line&&(k(y.slice(l+1,u)),d._tokenizer=d.next=void 0,d=d.previous,u=l+1);for(f.events=d._tokenizer=d.next=void 0,k(y.slice(0,u)),l=-1,h=0;++l<v.length;)b[h+v[l][0]]=h+v[l][1],h+=v[l][1]-v[l][0]-1;return b;function k(E){var x=g.pop();v.unshift([x,x+E.length-1]),t(n,x,2,E)}}return subtokenize_1=function(n){for(var s,a,o,l,c,u,h,d={},p=-1;++p<n.length;){for(;p in d;)p=d[p];if(s=n[p],p&&s[1].type==="chunkFlow"&&n[p-1][1].type==="listItemPrefix"&&((o=0)<(u=s[1]._tokenizer.events).length&&u[o][1].type==="lineEndingBlank"&&(o+=2),o<u.length&&u[o][1].type==="content"))for(;++o<u.length&&u[o][1].type!=="content";)u[o][1].type==="chunkText"&&(u[o][1].isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(e(d,i(n,p)),p=d[p],h=!0);else if(s[1]._container||s[1]._movePreviousLineEndings){for(o=p,a=void 0;o--&&((l=n[o])[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(a&&(n[a][1].type="lineEndingBlank"),l[1].type="lineEnding",a=o);a&&(s[1].end=r(n[a][1].start),(c=n.slice(a,p)).unshift(s),t(n,a,p-a+1,c))}}return!h}}function requireContent(){if(hasRequiredContent)return content_1;hasRequiredContent=1;var e=requireMarkdownLineEnding(),t=requirePrefixSize(),r=requireSubtokenize(),i=requireFactorySpace(),n={tokenize:function(a,o){var l;return function(d){return a.enter("content"),l=a.enter("chunkContent",{contentType:"content"}),c(d)};function c(d){return d===null?u(d):e(d)?a.check(s,h,u)(d):(a.consume(d),c)}function u(d){return a.exit("chunkContent"),a.exit("content"),o(d)}function h(d){return a.consume(d),a.exit("chunkContent"),l=l.next=a.enter("chunkContent",{contentType:"content",previous:l}),c}},resolve:function(a){return r(a),a},interruptible:!0,lazy:!0},s={tokenize:function(a,o,l){var c=this;return function(h){return a.enter("lineEnding"),a.consume(h),a.exit("lineEnding"),i(a,u,"linePrefix")};function u(h){return h===null||e(h)?l(h):c.parser.constructs.disable.null.indexOf("codeIndented")>-1||t(c.events,"linePrefix")<4?a.interrupt(c.parser.constructs.flow,l,o)(h):o(h)}},partial:!0};return content_1=n}function requireFlow(){if(hasRequiredFlow)return flow;hasRequiredFlow=1,Object.defineProperty(flow,"__esModule",{value:!0});var e=requireContent(),t=requireFactorySpace(),r=requirePartialBlankLine();return flow.tokenize=function(i){var n=this,s=i.attempt(r,function(o){if(o!==null)return i.enter("lineEndingBlank"),i.consume(o),i.exit("lineEndingBlank"),n.currentConstruct=void 0,s;i.consume(o)},i.attempt(this.parser.constructs.flowInitial,a,t(i,i.attempt(this.parser.constructs.flow,a,i.attempt(e,a)),"linePrefix")));return s;function a(o){if(o!==null)return i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),n.currentConstruct=void 0,s;i.consume(o)}},flow}var text={},hasRequiredText$1,miniflat_1,hasRequiredMiniflat,combineExtensions_1,hasRequiredCombineExtensions,chunkedPush_1,hasRequiredChunkedPush,resolveAll_1,hasRequiredResolveAll,serializeChunks_1,hasRequiredSerializeChunks,sliceChunks_1,hasRequiredSliceChunks,createTokenizer_1,hasRequiredCreateTokenizer;function requireText$1(){if(hasRequiredText$1)return text;hasRequiredText$1=1,Object.defineProperty(text,"__esModule",{value:!0});var e=requireAssign(),t=requireShallow(),r=s("text"),i=s("string"),n={resolveAll:a()};function s(l){return{tokenize:function(c){var u=this,h=this.parser.constructs[l],d=c.attempt(h,p,m);return p;function p(y){return f(y)?d(y):m(y)}function m(y){if(y!==null)return c.enter("data"),c.consume(y),g;c.consume(y)}function g(y){return f(y)?(c.exit("data"),d(y)):(c.consume(y),g)}function f(y){var v=h[y],b=-1;if(y===null)return!0;if(v){for(;++b<v.length;)if(!v[b].previous||v[b].previous.call(u,u.previous))return!0}}},resolveAll:a(l==="text"?o:void 0)}}function a(l){return function(c,u){for(var h,d=-1;++d<=c.length;)h===void 0?c[d]&&c[d][1].type==="data"&&(h=d,d++):c[d]&&c[d][1].type==="data"||(d!==h+2&&(c[h][1].end=c[d-1][1].end,c.splice(h+2,d-h-2),d=h+2),h=void 0);return l?l(c,u):c}}function o(l,c){for(var u,h,d,p,m,g,f,y,v=-1;++v<=l.length;)if((v===l.length||l[v][1].type==="lineEnding")&&l[v-1][1].type==="data"){for(h=l[v-1][1],p=(u=c.sliceStream(h)).length,m=-1,g=0,f=void 0;p--;)if(typeof(d=u[p])=="string"){for(m=d.length;d.charCodeAt(m-1)===32;)g++,m--;if(m)break;m=-1}else if(d===-2)f=!0,g++;else if(d!==-1){p++;break}g&&(y={type:v===l.length||f||g<2?"lineSuffix":"hardBreakTrailing",start:{line:h.end.line,column:h.end.column-g,offset:h.end.offset-g,_index:h.start._index+p,_bufferIndex:p?m:h.start._bufferIndex+m},end:t(h.end)},h.end=t(y.start),h.start.offset===h.end.offset?e(h,y):(l.splice(v,0,["enter",y,c],["exit",y,c]),v+=2)),v++}return l}return text.resolver=n,text.string=i,text.text=r,text}function requireMiniflat(){return hasRequiredMiniflat?miniflat_1:(hasRequiredMiniflat=1,miniflat_1=function(e){return e==null?[]:"length"in e?e:[e]})}function requireCombineExtensions(){if(hasRequiredCombineExtensions)return combineExtensions_1;hasRequiredCombineExtensions=1;var e=requireHasOwnProperty(),t=requireChunkedSplice(),r=requireMiniflat();function i(s,a){var o,l,c,u;for(o in a)for(u in l=e.call(s,o)?s[o]:s[o]={},c=a[o])l[u]=n(r(c[u]),e.call(l,u)?l[u]:[])}function n(s,a){for(var o=-1,l=[];++o<s.length;)(s[o].add==="after"?a:l).push(s[o]);return t(a,0,0,l),a}return combineExtensions_1=function(s){for(var a={},o=-1;++o<s.length;)i(a,s[o]);return a}}function requireChunkedPush(){if(hasRequiredChunkedPush)return chunkedPush_1;hasRequiredChunkedPush=1;var e=requireChunkedSplice();return chunkedPush_1=function(t,r){return t.length?(e(t,t.length,0,r),t):r}}function requireResolveAll(){return hasRequiredResolveAll||(hasRequiredResolveAll=1,resolveAll_1=function(e,t,r){for(var i,n=[],s=-1;++s<e.length;)(i=e[s].resolveAll)&&n.indexOf(i)<0&&(t=i(t,r),n.push(i));return t}),resolveAll_1}function requireSerializeChunks(){if(hasRequiredSerializeChunks)return serializeChunks_1;hasRequiredSerializeChunks=1;var e=requireFromCharCode();return serializeChunks_1=function(t){for(var r,i,n,s=-1,a=[];++s<t.length;){if(typeof(r=t[s])=="string")i=r;else if(r===-5)i="\r";else if(r===-4)i=`
`;else if(r===-3)i=`\r
`;else if(r===-2)i="	";else if(r===-1){if(n)continue;i=" "}else i=e(r);n=r===-2,a.push(i)}return a.join("")}}function requireSliceChunks(){return hasRequiredSliceChunks?sliceChunks_1:(hasRequiredSliceChunks=1,sliceChunks_1=function(e,t){var r,i=t.start._index,n=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;return i===s?r=[e[i].slice(n,a)]:(r=e.slice(i,s),n>-1&&(r[0]=r[0].slice(n)),a>0&&r.push(e[s].slice(0,a))),r})}function requireCreateTokenizer(){if(hasRequiredCreateTokenizer)return createTokenizer_1;hasRequiredCreateTokenizer=1;var e=requireAssign(),t=requireMarkdownLineEnding(),r=requireChunkedPush(),i=requireChunkedSplice(),n=requireMiniflat(),s=requireResolveAll(),a=requireSerializeChunks(),o=requireShallow(),l=requireSliceChunks();return createTokenizer_1=function(c,u,h){var d=h?o(h):{line:1,column:1,offset:0},p={},m=[],g=[],f=[],y={consume:function(T){t(T)?(d.line++,d.column=1,d.offset+=T===-3?2:1,P()):T!==-1&&(d.column++,d.offset++),d._bufferIndex<0?d._index++:(d._bufferIndex++,d._bufferIndex===g[d._index].length&&(d._bufferIndex=-1,d._index++)),v.previous=T},enter:function(T,F){var I=F||{};return I.type=T,I.start=E(),v.events.push(["enter",I,v]),f.push(I),I},exit:function(T){var F=f.pop();return F.end=E(),v.events.push(["exit",F,v]),F},attempt:C(function(T,F){w(T,F.from)}),check:C(S),interrupt:C(S,{interrupt:!0}),lazy:C(S,{lazy:!0})},v={previous:null,events:[],parser:c,sliceStream:k,sliceSerialize:function(T){return a(k(T))},now:E,defineSkip:function(T){p[T.line]=T.column,P()},write:function(T){return g=r(g,T),function(){for(var F,I;d._index<g.length;)if(typeof(I=g[d._index])=="string")for(F=d._index,d._bufferIndex<0&&(d._bufferIndex=0);d._index===F&&d._bufferIndex<I.length;)x(I.charCodeAt(d._bufferIndex));else x(I)}(),g[g.length-1]!==null?[]:(w(u,0),v.events=s(m,v.events,v),v.events)}},b=u.tokenize.call(v,y);return u.resolveAll&&m.push(u),d._index=0,d._bufferIndex=-1,v;function k(T){return l(g,T)}function E(){return o(d)}function x(T){b=b(T)}function S(T,F){F.restore()}function C(T,F){return function(I,D,L){var O,W,A,j;return I.tokenize||"length"in I?B(n(I)):function(z){return z in I||null in I?B(I.null?n(I[z]).concat(n(I.null)):I[z])(z):L(z)};function B(z){return O=z,G(z[W=0])}function G(z){return function(U){var R,H,Y,K,ee;return R=E(),H=v.previous,Y=v.currentConstruct,K=v.events.length,ee=Array.from(f),j={restore:function(){d=R,v.previous=H,v.currentConstruct=Y,v.events.length=K,f=ee,P()},from:K},A=z,z.partial||(v.currentConstruct=z),z.name&&v.parser.constructs.disable.null.indexOf(z.name)>-1?V():z.tokenize.call(F?e({},v,F):v,y,q,V)(U)}}function q(z){return T(A,j),D}function V(z){return j.restore(),++W<O.length?G(O[W]):L}}}function w(T,F){T.resolveAll&&m.indexOf(T)<0&&m.push(T),T.resolve&&i(v.events,F,v.events.length-F,T.resolve(v.events.slice(F),v)),T.resolveTo&&(v.events=T.resolveTo(v.events,v))}function P(){d.line in p&&d.column<2&&(d.column=p[d.line],d.offset+=p[d.line]-1)}},createTokenizer_1}var constructs={},markdownLineEndingOrSpace_1,hasRequiredMarkdownLineEndingOrSpace,unicodePunctuationRegex,hasRequiredUnicodePunctuationRegex,regexCheck_1,hasRequiredRegexCheck,unicodePunctuation_1,hasRequiredUnicodePunctuation,unicodeWhitespace_1,hasRequiredUnicodeWhitespace,classifyCharacter_1,hasRequiredClassifyCharacter,movePoint_1,hasRequiredMovePoint,attention_1,hasRequiredAttention,asciiAlpha_1,hasRequiredAsciiAlpha,asciiAlphanumeric_1,hasRequiredAsciiAlphanumeric,asciiAtext_1,hasRequiredAsciiAtext,asciiControl_1,hasRequiredAsciiControl,autolink_1,hasRequiredAutolink,blockQuote_1,hasRequiredBlockQuote,asciiPunctuation_1,hasRequiredAsciiPunctuation,characterEscape_1,hasRequiredCharacterEscape,decodeEntity_browser,hasRequiredDecodeEntity_browser,asciiDigit_1,hasRequiredAsciiDigit,asciiHexDigit_1,hasRequiredAsciiHexDigit,characterReference_1,hasRequiredCharacterReference,codeFenced_1,hasRequiredCodeFenced,codeIndented_1,hasRequiredCodeIndented,codeText_1,hasRequiredCodeText,factoryDestination,hasRequiredFactoryDestination,factoryLabel,hasRequiredFactoryLabel,factoryWhitespace,hasRequiredFactoryWhitespace,factoryTitle,hasRequiredFactoryTitle,definition_1,hasRequiredDefinition,hardBreakEscape_1,hasRequiredHardBreakEscape,headingAtx_1,hasRequiredHeadingAtx,htmlBlockNames,hasRequiredHtmlBlockNames,htmlRawNames,hasRequiredHtmlRawNames,htmlFlow_1,hasRequiredHtmlFlow,htmlText_1,hasRequiredHtmlText,labelEnd_1,hasRequiredLabelEnd,labelStartImage_1,hasRequiredLabelStartImage,labelStartLink_1,hasRequiredLabelStartLink,lineEnding_1,hasRequiredLineEnding,thematicBreak_1$1,hasRequiredThematicBreak$1,list_1$1,hasRequiredList$1,setextUnderline_1,hasRequiredSetextUnderline,hasRequiredConstructs,parse_1,hasRequiredParse,preprocess_1,hasRequiredPreprocess,postprocess_1,hasRequiredPostprocess,unistUtilStringifyPosition,hasRequiredUnistUtilStringifyPosition,dist,hasRequiredDist,mdastUtilFromMarkdown,hasRequiredMdastUtilFromMarkdown,remarkParse,hasRequiredRemarkParse,unistBuilder,hasRequiredUnistBuilder,convert_1,hasRequiredConvert,color_browser,hasRequiredColor_browser,unistUtilVisitParents,hasRequiredUnistUtilVisitParents,unistUtilVisit,hasRequiredUnistUtilVisit,unistUtilPosition,hasRequiredUnistUtilPosition,unistUtilGenerated,hasRequiredUnistUtilGenerated,mdastUtilDefinitions,hasRequiredMdastUtilDefinitions,all_1,hasRequiredAll,one_1,hasRequiredOne,thematicBreak_1,hasRequiredThematicBreak,wrap_1,hasRequiredWrap,list_1,hasRequiredList,footer,hasRequiredFooter,blockquote_1,hasRequiredBlockquote,_break,hasRequired_break,code_1,hasRequiredCode,_delete,hasRequired_delete,emphasis_1,hasRequiredEmphasis,footnoteReference_1,hasRequiredFootnoteReference,footnote_1,hasRequiredFootnote,heading_1,hasRequiredHeading,html_1$1,hasRequiredHtml$2,encode_1,hasRequiredEncode,revert_1,hasRequiredRevert,imageReference_1,hasRequiredImageReference,image_1,hasRequiredImage,inlineCode_1,hasRequiredInlineCode,linkReference_1,hasRequiredLinkReference,link_1,hasRequiredLink,listItem_1,hasRequiredListItem,paragraph_1,hasRequiredParagraph,root_1,hasRequiredRoot,strong_1,hasRequiredStrong,table_1,hasRequiredTable,text_1,hasRequiredText,handlers,hasRequiredHandlers,lib,hasRequiredLib,mdastUtilToHast,hasRequiredMdastUtilToHast,remarkRehype,hasRequiredRemarkRehype,immutable,hasRequiredImmutable,schema,hasRequiredSchema,merge_1,hasRequiredMerge,normalize_1,hasRequiredNormalize,info,hasRequiredInfo;function requireMarkdownLineEndingOrSpace(){return hasRequiredMarkdownLineEndingOrSpace?markdownLineEndingOrSpace_1:(hasRequiredMarkdownLineEndingOrSpace=1,markdownLineEndingOrSpace_1=function(e){return e<0||e===32})}function requireUnicodePunctuationRegex(){return hasRequiredUnicodePunctuationRegex?unicodePunctuationRegex:(hasRequiredUnicodePunctuationRegex=1,unicodePunctuationRegex=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/)}function requireRegexCheck(){if(hasRequiredRegexCheck)return regexCheck_1;hasRequiredRegexCheck=1;var e=requireFromCharCode();return regexCheck_1=function(t){return function(r){return t.test(e(r))}}}function requireUnicodePunctuation(){if(hasRequiredUnicodePunctuation)return unicodePunctuation_1;hasRequiredUnicodePunctuation=1;var e=requireUnicodePunctuationRegex(),t=requireRegexCheck()(e);return unicodePunctuation_1=t}function requireUnicodeWhitespace(){if(hasRequiredUnicodeWhitespace)return unicodeWhitespace_1;hasRequiredUnicodeWhitespace=1;var e=requireRegexCheck()(/\s/);return unicodeWhitespace_1=e}function requireClassifyCharacter(){if(hasRequiredClassifyCharacter)return classifyCharacter_1;hasRequiredClassifyCharacter=1;var e=requireMarkdownLineEndingOrSpace(),t=requireUnicodePunctuation(),r=requireUnicodeWhitespace();return classifyCharacter_1=function(i){return i===null||e(i)||r(i)?1:t(i)?2:void 0}}function requireMovePoint(){return hasRequiredMovePoint?movePoint_1:(hasRequiredMovePoint=1,movePoint_1=function(e,t){return e.column+=t,e.offset+=t,e._bufferIndex+=t,e})}function requireAttention(){if(hasRequiredAttention)return attention_1;hasRequiredAttention=1;var e=requireChunkedPush(),t=requireChunkedSplice(),r=requireClassifyCharacter(),i=requireMovePoint(),n=requireResolveAll(),s=requireShallow(),a={name:"attention",tokenize:function(o,l){var c,u=r(this.previous);return function(d){return o.enter("attentionSequence"),c=d,h(d)};function h(d){var p,m,g,f;return d===c?(o.consume(d),h):(p=o.exit("attentionSequence"),g=!(m=r(d))||m===2&&u,f=!u||u===2&&m,p._open=c===42?g:g&&(u||!f),p._close=c===42?f:f&&(m||!g),l(d))}},resolveAll:function(o,l){for(var c,u,h,d,p,m,g,f,y=-1;++y<o.length;)if(o[y][0]==="enter"&&o[y][1].type==="attentionSequence"&&o[y][1]._close){for(c=y;c--;)if(o[c][0]==="exit"&&o[c][1].type==="attentionSequence"&&o[c][1]._open&&l.sliceSerialize(o[c][1]).charCodeAt(0)===l.sliceSerialize(o[y][1]).charCodeAt(0)){if((o[c][1]._close||o[y][1]._open)&&(o[y][1].end.offset-o[y][1].start.offset)%3&&!((o[c][1].end.offset-o[c][1].start.offset+o[y][1].end.offset-o[y][1].start.offset)%3))continue;d={type:(m=o[c][1].end.offset-o[c][1].start.offset>1&&o[y][1].end.offset-o[y][1].start.offset>1?2:1)>1?"strongSequence":"emphasisSequence",start:i(s(o[c][1].end),-m),end:s(o[c][1].end)},p={type:m>1?"strongSequence":"emphasisSequence",start:s(o[y][1].start),end:i(s(o[y][1].start),m)},h={type:m>1?"strongText":"emphasisText",start:s(o[c][1].end),end:s(o[y][1].start)},u={type:m>1?"strong":"emphasis",start:s(d.start),end:s(p.end)},o[c][1].end=s(d.start),o[y][1].start=s(p.end),g=[],o[c][1].end.offset-o[c][1].start.offset&&(g=e(g,[["enter",o[c][1],l],["exit",o[c][1],l]])),g=e(g,[["enter",u,l],["enter",d,l],["exit",d,l],["enter",h,l]]),g=e(g,n(l.parser.constructs.insideSpan.null,o.slice(c+1,y),l)),g=e(g,[["exit",h,l],["enter",p,l],["exit",p,l],["exit",u,l]]),o[y][1].end.offset-o[y][1].start.offset?(f=2,g=e(g,[["enter",o[y][1],l],["exit",o[y][1],l]])):f=0,t(o,c-1,y-c+3,g),y=c+g.length-f-2;break}}for(y=-1;++y<o.length;)o[y][1].type==="attentionSequence"&&(o[y][1].type="data");return o}};return attention_1=a}function requireAsciiAlpha(){if(hasRequiredAsciiAlpha)return asciiAlpha_1;hasRequiredAsciiAlpha=1;var e=requireRegexCheck()(/[A-Za-z]/);return asciiAlpha_1=e}function requireAsciiAlphanumeric(){if(hasRequiredAsciiAlphanumeric)return asciiAlphanumeric_1;hasRequiredAsciiAlphanumeric=1;var e=requireRegexCheck()(/[\dA-Za-z]/);return asciiAlphanumeric_1=e}function requireAsciiAtext(){if(hasRequiredAsciiAtext)return asciiAtext_1;hasRequiredAsciiAtext=1;var e=requireRegexCheck()(/[#-'*+\--9=?A-Z^-~]/);return asciiAtext_1=e}function requireAsciiControl(){return hasRequiredAsciiControl?asciiControl_1:(hasRequiredAsciiControl=1,asciiControl_1=function(e){return e<32||e===127})}function requireAutolink(){if(hasRequiredAutolink)return autolink_1;hasRequiredAutolink=1;var e=requireAsciiAlpha(),t=requireAsciiAlphanumeric(),r=requireAsciiAtext(),i=requireAsciiControl();return autolink_1={name:"autolink",tokenize:function(n,s,a){var o=1;return function(y){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),l};function l(y){return e(y)?(n.consume(y),c):r(y)?d(y):a(y)}function c(y){return y===43||y===45||y===46||t(y)?u(y):d(y)}function u(y){return y===58?(n.consume(y),h):(y===43||y===45||y===46||t(y))&&o++<32?(n.consume(y),u):d(y)}function h(y){return y===62?(n.exit("autolinkProtocol"),f(y)):y===32||y===60||i(y)?a(y):(n.consume(y),h)}function d(y){return y===64?(n.consume(y),o=0,p):r(y)?(n.consume(y),d):a(y)}function p(y){return t(y)?m(y):a(y)}function m(y){return y===46?(n.consume(y),o=0,p):y===62?(n.exit("autolinkProtocol").type="autolinkEmail",f(y)):g(y)}function g(y){return(y===45||t(y))&&o++<63?(n.consume(y),y===45?g:m):a(y)}function f(y){return n.enter("autolinkMarker"),n.consume(y),n.exit("autolinkMarker"),n.exit("autolink"),s}}}}function requireBlockQuote(){if(hasRequiredBlockQuote)return blockQuote_1;hasRequiredBlockQuote=1;var e=requireMarkdownSpace(),t=requireFactorySpace(),r={name:"blockQuote",tokenize:function(i,n,s){var a=this;return function(l){return l===62?(a.containerState.open||(i.enter("blockQuote",{_container:!0}),a.containerState.open=!0),i.enter("blockQuotePrefix"),i.enter("blockQuoteMarker"),i.consume(l),i.exit("blockQuoteMarker"),o):s(l)};function o(l){return e(l)?(i.enter("blockQuotePrefixWhitespace"),i.consume(l),i.exit("blockQuotePrefixWhitespace"),i.exit("blockQuotePrefix"),n):(i.exit("blockQuotePrefix"),n(l))}},continuation:{tokenize:function(i,n,s){return t(i,i.attempt(r,n,s),"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}},exit:function(i){i.exit("blockQuote")}};return blockQuote_1=r}function requireAsciiPunctuation(){if(hasRequiredAsciiPunctuation)return asciiPunctuation_1;hasRequiredAsciiPunctuation=1;var e=requireRegexCheck()(/[!-/:-@[-`{-~]/);return asciiPunctuation_1=e}function requireCharacterEscape(){if(hasRequiredCharacterEscape)return characterEscape_1;hasRequiredCharacterEscape=1;var e=requireAsciiPunctuation();return characterEscape_1={name:"characterEscape",tokenize:function(t,r,i){return function(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),n};function n(s){return e(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),r):i(s)}}}}function requireDecodeEntity_browser(){return hasRequiredDecodeEntity_browser?decodeEntity_browser:(hasRequiredDecodeEntity_browser=1,decodeEntity_browser=function(t){var r,i="&"+t+";";return(e=e||document.createElement("i")).innerHTML=i,((r=e.textContent).charCodeAt(r.length-1)!==59||t==="semi")&&r!==i&&r});var e}function requireAsciiDigit(){if(hasRequiredAsciiDigit)return asciiDigit_1;hasRequiredAsciiDigit=1;var e=requireRegexCheck()(/\d/);return asciiDigit_1=e}function requireAsciiHexDigit(){if(hasRequiredAsciiHexDigit)return asciiHexDigit_1;hasRequiredAsciiHexDigit=1;var e=requireRegexCheck()(/[\dA-Fa-f]/);return asciiHexDigit_1=e}function requireCharacterReference(){if(hasRequiredCharacterReference)return characterReference_1;hasRequiredCharacterReference=1;var e=requireDecodeEntity_browser(),t=requireAsciiAlphanumeric(),r=requireAsciiDigit(),i=requireAsciiHexDigit();function n(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var s=n(e);return characterReference_1={name:"characterReference",tokenize:function(a,o,l){var c,u,h=this,d=0;return function(f){return a.enter("characterReference"),a.enter("characterReferenceMarker"),a.consume(f),a.exit("characterReferenceMarker"),p};function p(f){return f===35?(a.enter("characterReferenceMarkerNumeric"),a.consume(f),a.exit("characterReferenceMarkerNumeric"),m):(a.enter("characterReferenceValue"),c=31,u=t,g(f))}function m(f){return f===88||f===120?(a.enter("characterReferenceMarkerHexadecimal"),a.consume(f),a.exit("characterReferenceMarkerHexadecimal"),a.enter("characterReferenceValue"),c=6,u=i,g):(a.enter("characterReferenceValue"),c=7,u=r,g(f))}function g(f){var y;return f===59&&d?(y=a.exit("characterReferenceValue"),u!==t||s.default(h.sliceSerialize(y))?(a.enter("characterReferenceMarker"),a.consume(f),a.exit("characterReferenceMarker"),a.exit("characterReference"),o):l(f)):u(f)&&d++<c?(a.consume(f),g):l(f)}}}}function requireCodeFenced(){if(hasRequiredCodeFenced)return codeFenced_1;hasRequiredCodeFenced=1;var e=requireMarkdownLineEnding(),t=requireMarkdownLineEndingOrSpace(),r=requirePrefixSize(),i=requireFactorySpace(),n={name:"codeFenced",tokenize:function(s,a,o){var l,c=this,u={tokenize:function(x,S,C){var w=0;return i(x,function(F){return x.enter("codeFencedFence"),x.enter("codeFencedFenceSequence"),P(F)},"linePrefix",this.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4);function P(F){return F===l?(x.consume(F),w++,P):w<d?C(F):(x.exit("codeFencedFenceSequence"),i(x,T,"whitespace")(F))}function T(F){return F===null||e(F)?(x.exit("codeFencedFence"),S(F)):C(F)}},partial:!0},h=r(this.events,"linePrefix"),d=0;return function(x){return s.enter("codeFenced"),s.enter("codeFencedFence"),s.enter("codeFencedFenceSequence"),l=x,p(x)};function p(x){return x===l?(s.consume(x),d++,p):(s.exit("codeFencedFenceSequence"),d<3?o(x):i(s,m,"whitespace")(x))}function m(x){return x===null||e(x)?v(x):(s.enter("codeFencedFenceInfo"),s.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||t(x)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),i(s,f,"whitespace")(x)):x===96&&x===l?o(x):(s.consume(x),g)}function f(x){return x===null||e(x)?v(x):(s.enter("codeFencedFenceMeta"),s.enter("chunkString",{contentType:"string"}),y(x))}function y(x){return x===null||e(x)?(s.exit("chunkString"),s.exit("codeFencedFenceMeta"),v(x)):x===96&&x===l?o(x):(s.consume(x),y)}function v(x){return s.exit("codeFencedFence"),c.interrupt?a(x):b(x)}function b(x){return x===null?E(x):e(x)?(s.enter("lineEnding"),s.consume(x),s.exit("lineEnding"),s.attempt(u,E,h?i(s,b,"linePrefix",h+1):b)):(s.enter("codeFlowValue"),k(x))}function k(x){return x===null||e(x)?(s.exit("codeFlowValue"),b(x)):(s.consume(x),k)}function E(x){return s.exit("codeFenced"),a(x)}},concrete:!0};return codeFenced_1=n}function requireCodeIndented(){if(hasRequiredCodeIndented)return codeIndented_1;hasRequiredCodeIndented=1;var e=requireMarkdownLineEnding(),t=requireChunkedSplice(),r=requirePrefixSize(),i=requireFactorySpace(),n={name:"codeIndented",tokenize:function(a,o,l){return a.attempt(s,c,l);function c(h){return h===null?o(h):e(h)?a.attempt(s,c,o)(h):(a.enter("codeFlowValue"),u(h))}function u(h){return h===null||e(h)?(a.exit("codeFlowValue"),c(h)):(a.consume(h),u)}},resolve:function(a,o){var l={type:"codeIndented",start:a[0][1].start,end:a[a.length-1][1].end};return t(a,0,0,[["enter",l,o]]),t(a,a.length,0,[["exit",l,o]]),a}},s={tokenize:function(a,o,l){var c=this;return i(a,function u(h){return e(h)?(a.enter("lineEnding"),a.consume(h),a.exit("lineEnding"),i(a,u,"linePrefix",5)):r(c.events,"linePrefix")<4?l(h):o(h)},"linePrefix",5)},partial:!0};return codeIndented_1=n}function requireCodeText(){if(hasRequiredCodeText)return codeText_1;hasRequiredCodeText=1;var e=requireMarkdownLineEnding();return codeText_1={name:"codeText",tokenize:function(t,r,i){var n,s,a=0;return function(h){return t.enter("codeText"),t.enter("codeTextSequence"),o(h)};function o(h){return h===96?(t.consume(h),a++,o):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?i(h):h===96?(s=t.enter("codeTextSequence"),n=0,u(h)):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):e(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||e(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function u(h){return h===96?(t.consume(h),n++,u):n===a?(t.exit("codeTextSequence"),t.exit("codeText"),r(h)):(s.type="codeTextData",c(h))}},resolve:function(t){var r,i,n=t.length-4,s=3;if(!(t[s][1].type!=="lineEnding"&&t[s][1].type!=="space"||t[n][1].type!=="lineEnding"&&t[n][1].type!=="space")){for(r=s;++r<n;)if(t[r][1].type==="codeTextData"){t[n][1].type=t[s][1].type="codeTextPadding",s+=2,n-=2;break}}for(r=s-1,n++;++r<=n;)i===void 0?r!==n&&t[r][1].type!=="lineEnding"&&(i=r):r!==n&&t[r][1].type!=="lineEnding"||(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return t},previous:function(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}}}function requireFactoryDestination(){if(hasRequiredFactoryDestination)return factoryDestination;hasRequiredFactoryDestination=1;var e=requireAsciiControl(),t=requireMarkdownLineEndingOrSpace(),r=requireMarkdownLineEnding();return factoryDestination=function(i,n,s,a,o,l,c,u,h){var d=h||1/0,p=0;return function(b){return b===60?(i.enter(a),i.enter(o),i.enter(l),i.consume(b),i.exit(l),m):e(b)||b===41?s(b):(i.enter(a),i.enter(c),i.enter(u),i.enter("chunkString",{contentType:"string"}),y(b))};function m(b){return b===62?(i.enter(l),i.consume(b),i.exit(l),i.exit(o),i.exit(a),n):(i.enter(u),i.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===62?(i.exit("chunkString"),i.exit(u),m(b)):b===null||b===60||r(b)?s(b):(i.consume(b),b===92?f:g)}function f(b){return b===60||b===62||b===92?(i.consume(b),g):g(b)}function y(b){return b===40?++p>d?s(b):(i.consume(b),y):b===41?p--?(i.consume(b),y):(i.exit("chunkString"),i.exit(u),i.exit(c),i.exit(a),n(b)):b===null||t(b)?p?s(b):(i.exit("chunkString"),i.exit(u),i.exit(c),i.exit(a),n(b)):e(b)?s(b):(i.consume(b),b===92?v:y)}function v(b){return b===40||b===41||b===92?(i.consume(b),y):y(b)}}}function requireFactoryLabel(){if(hasRequiredFactoryLabel)return factoryLabel;hasRequiredFactoryLabel=1;var e=requireMarkdownLineEnding(),t=requireMarkdownSpace();return factoryLabel=function(r,i,n,s,a,o){var l,c=this,u=0;return function(m){return r.enter(s),r.enter(a),r.consume(m),r.exit(a),r.enter(o),h};function h(m){return m===null||m===91||m===93&&!l||m===94&&!u&&"_hiddenFootnoteSupport"in c.parser.constructs||u>999?n(m):m===93?(r.exit(o),r.enter(a),r.consume(m),r.exit(a),r.exit(s),i):e(m)?(r.enter("lineEnding"),r.consume(m),r.exit("lineEnding"),h):(r.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===null||m===91||m===93||e(m)||u++>999?(r.exit("chunkString"),h(m)):(r.consume(m),l=l||!t(m),m===92?p:d)}function p(m){return m===91||m===92||m===93?(r.consume(m),u++,d):d(m)}}}function requireFactoryWhitespace(){if(hasRequiredFactoryWhitespace)return factoryWhitespace;hasRequiredFactoryWhitespace=1;var e=requireMarkdownLineEnding(),t=requireMarkdownSpace(),r=requireFactorySpace();return factoryWhitespace=function(i,n){var s;return function a(o){return e(o)?(i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),s=!0,a):t(o)?r(i,a,s?"linePrefix":"lineSuffix")(o):n(o)}}}function requireFactoryTitle(){if(hasRequiredFactoryTitle)return factoryTitle;hasRequiredFactoryTitle=1;var e=requireMarkdownLineEnding(),t=requireFactorySpace();return factoryTitle=function(r,i,n,s,a,o){var l;return function(p){return r.enter(s),r.enter(a),r.consume(p),r.exit(a),l=p===40?41:p,c};function c(p){return p===l?(r.enter(a),r.consume(p),r.exit(a),r.exit(s),i):(r.enter(o),u(p))}function u(p){return p===l?(r.exit(o),c(l)):p===null?n(p):e(p)?(r.enter("lineEnding"),r.consume(p),r.exit("lineEnding"),t(r,u,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===l||p===null||e(p)?(r.exit("chunkString"),u(p)):(r.consume(p),p===92?d:h)}function d(p){return p===l||p===92?(r.consume(p),h):h(p)}}}function requireDefinition(){if(hasRequiredDefinition)return definition_1;hasRequiredDefinition=1;var e=requireMarkdownLineEnding(),t=requireMarkdownLineEndingOrSpace(),r=requireNormalizeIdentifier(),i=requireFactoryDestination(),n=requireFactoryLabel(),s=requireFactorySpace(),a=requireFactoryWhitespace(),o=requireFactoryTitle(),l={name:"definition",tokenize:function(u,h,d){var p,m=this;return function(y){return u.enter("definition"),n.call(m,u,g,d,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)};function g(y){return p=r(m.sliceSerialize(m.events[m.events.length-1][1]).slice(1,-1)),y===58?(u.enter("definitionMarker"),u.consume(y),u.exit("definitionMarker"),a(u,i(u,u.attempt(c,s(u,f,"whitespace"),s(u,f,"whitespace")),d,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):d(y)}function f(y){return y===null||e(y)?(u.exit("definition"),m.parser.defined.indexOf(p)<0&&m.parser.defined.push(p),h(y)):d(y)}}},c={tokenize:function(u,h,d){return function(g){return t(g)?a(u,p)(g):d(g)};function p(g){return g===34||g===39||g===40?o(u,s(u,m,"whitespace"),d,"definitionTitle","definitionTitleMarker","definitionTitleString")(g):d(g)}function m(g){return g===null||e(g)?h(g):d(g)}},partial:!0};return definition_1=l}function requireHardBreakEscape(){if(hasRequiredHardBreakEscape)return hardBreakEscape_1;hasRequiredHardBreakEscape=1;var e=requireMarkdownLineEnding();return hardBreakEscape_1={name:"hardBreakEscape",tokenize:function(t,r,i){return function(s){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(s),n};function n(s){return e(s)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),r(s)):i(s)}}}}function requireHeadingAtx(){if(hasRequiredHeadingAtx)return headingAtx_1;hasRequiredHeadingAtx=1;var e=requireMarkdownLineEnding(),t=requireMarkdownLineEndingOrSpace(),r=requireMarkdownSpace(),i=requireChunkedSplice(),n=requireFactorySpace(),s={name:"headingAtx",tokenize:function(a,o,l){var c=this,u=0;return function(g){return a.enter("atxHeading"),a.enter("atxHeadingSequence"),h(g)};function h(g){return g===35&&u++<6?(a.consume(g),h):g===null||t(g)?(a.exit("atxHeadingSequence"),c.interrupt?o(g):d(g)):l(g)}function d(g){return g===35?(a.enter("atxHeadingSequence"),p(g)):g===null||e(g)?(a.exit("atxHeading"),o(g)):r(g)?n(a,d,"whitespace")(g):(a.enter("atxHeadingText"),m(g))}function p(g){return g===35?(a.consume(g),p):(a.exit("atxHeadingSequence"),d(g))}function m(g){return g===null||g===35||t(g)?(a.exit("atxHeadingText"),d(g)):(a.consume(g),m)}},resolve:function(a,o){var l,c,u=a.length-2,h=3;return a[h][1].type==="whitespace"&&(h+=2),u-2>h&&a[u][1].type==="whitespace"&&(u-=2),a[u][1].type==="atxHeadingSequence"&&(h===u-1||u-4>h&&a[u-2][1].type==="whitespace")&&(u-=h+1===u?2:4),u>h&&(l={type:"atxHeadingText",start:a[h][1].start,end:a[u][1].end},c={type:"chunkText",start:a[h][1].start,end:a[u][1].end,contentType:"text"},i(a,h,u-h+1,[["enter",l,o],["enter",c,o],["exit",c,o],["exit",l,o]])),a}};return headingAtx_1=s}function requireHtmlBlockNames(){return hasRequiredHtmlBlockNames?htmlBlockNames:(hasRequiredHtmlBlockNames=1,htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"])}function requireHtmlRawNames(){return hasRequiredHtmlRawNames?htmlRawNames:(hasRequiredHtmlRawNames=1,htmlRawNames=["pre","script","style","textarea"])}function requireHtmlFlow(){if(hasRequiredHtmlFlow)return htmlFlow_1;hasRequiredHtmlFlow=1;var e=requireAsciiAlpha(),t=requireAsciiAlphanumeric(),r=requireMarkdownLineEnding(),i=requireMarkdownLineEndingOrSpace(),n=requireMarkdownSpace(),s=requireFromCharCode(),a=requireHtmlBlockNames(),o=requireHtmlRawNames(),l=requirePartialBlankLine(),c={name:"htmlFlow",tokenize:function(h,d,p){var m,g,f,y,v,b=this;return function(M){return h.enter("htmlFlow"),h.enter("htmlFlowData"),h.consume(M),k};function k(M){return M===33?(h.consume(M),E):M===47?(h.consume(M),C):M===63?(h.consume(M),m=3,b.interrupt?d:Y):e(M)?(h.consume(M),f=s(M),g=!0,w):p(M)}function E(M){return M===45?(h.consume(M),m=2,x):M===91?(h.consume(M),m=5,f="CDATA[",y=0,S):e(M)?(h.consume(M),m=4,b.interrupt?d:Y):p(M)}function x(M){return M===45?(h.consume(M),b.interrupt?d:Y):p(M)}function S(M){return M===f.charCodeAt(y++)?(h.consume(M),y===f.length?b.interrupt?d:G:S):p(M)}function C(M){return e(M)?(h.consume(M),f=s(M),w):p(M)}function w(M){return M===null||M===47||M===62||i(M)?M!==47&&g&&o.indexOf(f.toLowerCase())>-1?(m=1,b.interrupt?d(M):G(M)):a.indexOf(f.toLowerCase())>-1?(m=6,M===47?(h.consume(M),P):b.interrupt?d(M):G(M)):(m=7,b.interrupt?p(M):g?F(M):T(M)):M===45||t(M)?(h.consume(M),f+=s(M),w):p(M)}function P(M){return M===62?(h.consume(M),b.interrupt?d:G):p(M)}function T(M){return n(M)?(h.consume(M),T):j(M)}function F(M){return M===47?(h.consume(M),j):M===58||M===95||e(M)?(h.consume(M),I):n(M)?(h.consume(M),F):j(M)}function I(M){return M===45||M===46||M===58||M===95||t(M)?(h.consume(M),I):D(M)}function D(M){return M===61?(h.consume(M),L):n(M)?(h.consume(M),D):F(M)}function L(M){return M===null||M===60||M===61||M===62||M===96?p(M):M===34||M===39?(h.consume(M),v=M,O):n(M)?(h.consume(M),L):(v=void 0,W(M))}function O(M){return M===v?(h.consume(M),A):M===null||r(M)?p(M):(h.consume(M),O)}function W(M){return M===null||M===34||M===39||M===60||M===61||M===62||M===96||i(M)?D(M):(h.consume(M),W)}function A(M){return M===47||M===62||n(M)?F(M):p(M)}function j(M){return M===62?(h.consume(M),B):p(M)}function B(M){return n(M)?(h.consume(M),B):M===null||r(M)?G(M):p(M)}function G(M){return M===45&&m===2?(h.consume(M),z):M===60&&m===1?(h.consume(M),U):M===62&&m===4?(h.consume(M),K):M===63&&m===3?(h.consume(M),Y):M===93&&m===5?(h.consume(M),H):!r(M)||m!==6&&m!==7?M===null||r(M)?q(M):(h.consume(M),G):h.check(u,K,q)(M)}function q(M){return h.exit("htmlFlowData"),V(M)}function V(M){return M===null?ee(M):r(M)?(h.enter("lineEnding"),h.consume(M),h.exit("lineEnding"),V):(h.enter("htmlFlowData"),G(M))}function z(M){return M===45?(h.consume(M),Y):G(M)}function U(M){return M===47?(h.consume(M),f="",R):G(M)}function R(M){return M===62&&o.indexOf(f.toLowerCase())>-1?(h.consume(M),K):e(M)&&f.length<8?(h.consume(M),f+=s(M),R):G(M)}function H(M){return M===93?(h.consume(M),Y):G(M)}function Y(M){return M===62?(h.consume(M),K):G(M)}function K(M){return M===null||r(M)?(h.exit("htmlFlowData"),ee(M)):(h.consume(M),K)}function ee(M){return h.exit("htmlFlow"),d(M)}},resolveTo:function(h){for(var d=h.length;d--&&(h[d][0]!=="enter"||h[d][1].type!=="htmlFlow"););return d>1&&h[d-2][1].type==="linePrefix"&&(h[d][1].start=h[d-2][1].start,h[d+1][1].start=h[d-2][1].start,h.splice(d-2,2)),h},concrete:!0},u={tokenize:function(h,d,p){return function(m){return h.exit("htmlFlowData"),h.enter("lineEndingBlank"),h.consume(m),h.exit("lineEndingBlank"),h.attempt(l,d,p)}},partial:!0};return htmlFlow_1=c}function requireHtmlText(){if(hasRequiredHtmlText)return htmlText_1;hasRequiredHtmlText=1;var e=requireAsciiAlpha(),t=requireAsciiAlphanumeric(),r=requireMarkdownLineEnding(),i=requireMarkdownLineEndingOrSpace(),n=requireMarkdownSpace(),s=requireFactorySpace();return htmlText_1={name:"htmlText",tokenize:function(a,o,l){var c,u,h,d,p=this;return function(R){return a.enter("htmlText"),a.enter("htmlTextData"),a.consume(R),m};function m(R){return R===33?(a.consume(R),g):R===47?(a.consume(R),F):R===63?(a.consume(R),P):e(R)?(a.consume(R),L):l(R)}function g(R){return R===45?(a.consume(R),f):R===91?(a.consume(R),u="CDATA[",h=0,E):e(R)?(a.consume(R),w):l(R)}function f(R){return R===45?(a.consume(R),y):l(R)}function y(R){return R===null||R===62?l(R):R===45?(a.consume(R),v):b(R)}function v(R){return R===null||R===62?l(R):b(R)}function b(R){return R===null?l(R):R===45?(a.consume(R),k):r(R)?(d=b,V(R)):(a.consume(R),b)}function k(R){return R===45?(a.consume(R),U):b(R)}function E(R){return R===u.charCodeAt(h++)?(a.consume(R),h===u.length?x:E):l(R)}function x(R){return R===null?l(R):R===93?(a.consume(R),S):r(R)?(d=x,V(R)):(a.consume(R),x)}function S(R){return R===93?(a.consume(R),C):x(R)}function C(R){return R===62?U(R):R===93?(a.consume(R),C):x(R)}function w(R){return R===null||R===62?U(R):r(R)?(d=w,V(R)):(a.consume(R),w)}function P(R){return R===null?l(R):R===63?(a.consume(R),T):r(R)?(d=P,V(R)):(a.consume(R),P)}function T(R){return R===62?U(R):P(R)}function F(R){return e(R)?(a.consume(R),I):l(R)}function I(R){return R===45||t(R)?(a.consume(R),I):D(R)}function D(R){return r(R)?(d=D,V(R)):n(R)?(a.consume(R),D):U(R)}function L(R){return R===45||t(R)?(a.consume(R),L):R===47||R===62||i(R)?O(R):l(R)}function O(R){return R===47?(a.consume(R),U):R===58||R===95||e(R)?(a.consume(R),W):r(R)?(d=O,V(R)):n(R)?(a.consume(R),O):U(R)}function W(R){return R===45||R===46||R===58||R===95||t(R)?(a.consume(R),W):A(R)}function A(R){return R===61?(a.consume(R),j):r(R)?(d=A,V(R)):n(R)?(a.consume(R),A):O(R)}function j(R){return R===null||R===60||R===61||R===62||R===96?l(R):R===34||R===39?(a.consume(R),c=R,B):r(R)?(d=j,V(R)):n(R)?(a.consume(R),j):(a.consume(R),c=void 0,q)}function B(R){return R===c?(a.consume(R),G):R===null?l(R):r(R)?(d=B,V(R)):(a.consume(R),B)}function G(R){return R===62||R===47||i(R)?O(R):l(R)}function q(R){return R===null||R===34||R===39||R===60||R===61||R===96?l(R):R===62||i(R)?O(R):(a.consume(R),q)}function V(R){return a.exit("htmlTextData"),a.enter("lineEnding"),a.consume(R),a.exit("lineEnding"),s(a,z,"linePrefix",p.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)}function z(R){return a.enter("htmlTextData"),d(R)}function U(R){return R===62?(a.consume(R),a.exit("htmlTextData"),a.exit("htmlText"),o):l(R)}}}}function requireLabelEnd(){if(hasRequiredLabelEnd)return labelEnd_1;hasRequiredLabelEnd=1;var e=requireMarkdownLineEndingOrSpace(),t=requireChunkedPush(),r=requireChunkedSplice(),i=requireNormalizeIdentifier(),n=requireResolveAll(),s=requireShallow(),a=requireFactoryDestination(),o=requireFactoryLabel(),l=requireFactoryTitle(),c=requireFactoryWhitespace(),u={name:"labelEnd",tokenize:function(m,g,f){for(var y,v,b=this,k=b.events.length;k--;)if((b.events[k][1].type==="labelImage"||b.events[k][1].type==="labelLink")&&!b.events[k][1]._balanced){y=b.events[k][1];break}return function(S){return y?y._inactive?x(S):(v=b.parser.defined.indexOf(i(b.sliceSerialize({start:y.end,end:b.now()})))>-1,m.enter("labelEnd"),m.enter("labelMarker"),m.consume(S),m.exit("labelMarker"),m.exit("labelEnd"),E):f(S)};function E(S){return S===40?m.attempt(h,g,v?g:x)(S):S===91?m.attempt(d,g,v?m.attempt(p,g,x):x)(S):v?g(S):x(S)}function x(S){return y._balanced=!0,f(S)}},resolveTo:function(m,g){for(var f,y,v,b,k,E,x,S=m.length,C=0;S--;)if(b=m[S][1],k){if(b.type==="link"||b.type==="labelLink"&&b._inactive)break;m[S][0]==="enter"&&b.type==="labelLink"&&(b._inactive=!0)}else if(E){if(m[S][0]==="enter"&&(b.type==="labelImage"||b.type==="labelLink")&&!b._balanced&&(k=S,b.type!=="labelLink")){C=2;break}}else b.type==="labelEnd"&&(E=S);return f={type:m[k][1].type==="labelLink"?"link":"image",start:s(m[k][1].start),end:s(m[m.length-1][1].end)},y={type:"label",start:s(m[k][1].start),end:s(m[E][1].end)},v={type:"labelText",start:s(m[k+C+2][1].end),end:s(m[E-2][1].start)},x=t(x=[["enter",f,g],["enter",y,g]],m.slice(k+1,k+C+3)),x=t(x,[["enter",v,g]]),x=t(x,n(g.parser.constructs.insideSpan.null,m.slice(k+C+4,E-3),g)),x=t(x,[["exit",v,g],m[E-2],m[E-1],["exit",y,g]]),x=t(x,m.slice(E+1)),x=t(x,[["exit",f,g]]),r(m,k,m.length,x),m},resolveAll:function(m){for(var g,f=-1;++f<m.length;)(g=m[f][1])._used||g.type!=="labelImage"&&g.type!=="labelLink"&&g.type!=="labelEnd"||(m.splice(f+1,g.type==="labelImage"?4:2),g.type="data",f++);return m}},h={tokenize:function(m,g,f){return function(E){return m.enter("resource"),m.enter("resourceMarker"),m.consume(E),m.exit("resourceMarker"),c(m,y)};function y(E){return E===41?k(E):a(m,v,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(E)}function v(E){return e(E)?c(m,b)(E):k(E)}function b(E){return E===34||E===39||E===40?l(m,c(m,k),f,"resourceTitle","resourceTitleMarker","resourceTitleString")(E):k(E)}function k(E){return E===41?(m.enter("resourceMarker"),m.consume(E),m.exit("resourceMarker"),m.exit("resource"),g):f(E)}}},d={tokenize:function(m,g,f){var y=this;return function(b){return o.call(y,m,v,f,"reference","referenceMarker","referenceString")(b)};function v(b){return y.parser.defined.indexOf(i(y.sliceSerialize(y.events[y.events.length-1][1]).slice(1,-1)))<0?f(b):g(b)}}},p={tokenize:function(m,g,f){return function(v){return m.enter("reference"),m.enter("referenceMarker"),m.consume(v),m.exit("referenceMarker"),y};function y(v){return v===93?(m.enter("referenceMarker"),m.consume(v),m.exit("referenceMarker"),m.exit("reference"),g):f(v)}}};return labelEnd_1=u}function requireLabelStartImage(){if(hasRequiredLabelStartImage)return labelStartImage_1;hasRequiredLabelStartImage=1;var e={name:"labelStartImage",tokenize:function(t,r,i){var n=this;return function(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s};function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):i(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?i(o):r(o)}},resolveAll:requireLabelEnd().resolveAll};return labelStartImage_1=e}function requireLabelStartLink(){if(hasRequiredLabelStartLink)return labelStartLink_1;hasRequiredLabelStartLink=1;var e={name:"labelStartLink",tokenize:function(t,r,i){var n=this;return function(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s};function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?i(a):r(a)}},resolveAll:requireLabelEnd().resolveAll};return labelStartLink_1=e}function requireLineEnding(){if(hasRequiredLineEnding)return lineEnding_1;hasRequiredLineEnding=1;var e=requireFactorySpace();return lineEnding_1={name:"lineEnding",tokenize:function(t,r){return function(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e(t,r,"linePrefix")}}}}function requireThematicBreak$1(){if(hasRequiredThematicBreak$1)return thematicBreak_1$1;hasRequiredThematicBreak$1=1;var e=requireMarkdownLineEnding(),t=requireMarkdownSpace(),r=requireFactorySpace();return thematicBreak_1$1={name:"thematicBreak",tokenize:function(i,n,s){var a,o=0;return function(u){return i.enter("thematicBreak"),a=u,l(u)};function l(u){return u===a?(i.enter("thematicBreakSequence"),c(u)):t(u)?r(i,l,"whitespace")(u):o<3||u!==null&&!e(u)?s(u):(i.exit("thematicBreak"),n(u))}function c(u){return u===a?(i.consume(u),o++,c):(i.exit("thematicBreakSequence"),l(u))}}}}function requireList$1(){if(hasRequiredList$1)return list_1$1;hasRequiredList$1=1;var e=requireAsciiDigit(),t=requireMarkdownSpace(),r=requirePrefixSize(),i=requireSizeChunks(),n=requireFactorySpace(),s=requirePartialBlankLine(),a=requireThematicBreak$1(),o={name:"list",tokenize:function(u,h,d){var p=this,m=r(p.events,"linePrefix"),g=0;return function(E){var x=p.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!p.containerState.marker||E===p.containerState.marker:e(E)){if(p.containerState.type||(p.containerState.type=x,u.enter(x,{_container:!0})),x==="listUnordered")return u.enter("listItemPrefix"),E===42||E===45?u.check(a,d,y)(E):y(E);if(!p.interrupt||E===49)return u.enter("listItemPrefix"),u.enter("listItemValue"),f(E)}return d(E)};function f(E){return e(E)&&++g<10?(u.consume(E),f):(!p.interrupt||g<2)&&(p.containerState.marker?E===p.containerState.marker:E===41||E===46)?(u.exit("listItemValue"),y(E)):d(E)}function y(E){return u.enter("listItemMarker"),u.consume(E),u.exit("listItemMarker"),p.containerState.marker=p.containerState.marker||E,u.check(s,p.interrupt?d:v,u.attempt(l,k,b))}function v(E){return p.containerState.initialBlankLine=!0,m++,k(E)}function b(E){return t(E)?(u.enter("listItemPrefixWhitespace"),u.consume(E),u.exit("listItemPrefixWhitespace"),k):d(E)}function k(E){return p.containerState.size=m+i(p.sliceStream(u.exit("listItemPrefix"))),h(E)}},continuation:{tokenize:function(u,h,d){var p=this;return p.containerState._closeFlow=void 0,u.check(s,function(g){return p.containerState.furtherBlankLines=p.containerState.furtherBlankLines||p.containerState.initialBlankLine,n(u,h,"listItemIndent",p.containerState.size+1)(g)},function(g){return p.containerState.furtherBlankLines||!t(g)?(p.containerState.furtherBlankLines=p.containerState.initialBlankLine=void 0,m(g)):(p.containerState.furtherBlankLines=p.containerState.initialBlankLine=void 0,u.attempt(c,h,m)(g))});function m(g){return p.containerState._closeFlow=!0,p.interrupt=void 0,n(u,u.attempt(o,h,d),"linePrefix",p.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:4)(g)}}},exit:function(u){u.exit(this.containerState.type)}},l={tokenize:function(u,h,d){var p=this;return n(u,function(m){return t(m)||!r(p.events,"listItemPrefixWhitespace")?d(m):h(m)},"listItemPrefixWhitespace",p.parser.constructs.disable.null.indexOf("codeIndented")>-1?void 0:5)},partial:!0},c={tokenize:function(u,h,d){var p=this;return n(u,function(m){return r(p.events,"listItemIndent")===p.containerState.size?h(m):d(m)},"listItemIndent",p.containerState.size+1)},partial:!0};return list_1$1=o}function requireSetextUnderline(){if(hasRequiredSetextUnderline)return setextUnderline_1;hasRequiredSetextUnderline=1;var e=requireMarkdownLineEnding(),t=requireShallow(),r=requireFactorySpace(),i={name:"setextUnderline",tokenize:function(n,s,a){for(var o,l,c=this,u=c.events.length;u--;)if(c.events[u][1].type!=="lineEnding"&&c.events[u][1].type!=="linePrefix"&&c.events[u][1].type!=="content"){l=c.events[u][1].type==="paragraph";break}return function(p){return c.lazy||!c.interrupt&&!l?a(p):(n.enter("setextHeadingLine"),n.enter("setextHeadingLineSequence"),o=p,h(p))};function h(p){return p===o?(n.consume(p),h):(n.exit("setextHeadingLineSequence"),r(n,d,"lineSuffix")(p))}function d(p){return p===null||e(p)?(n.exit("setextHeadingLine"),s(p)):a(p)}},resolveTo:function(n,s){for(var a,o,l,c,u=n.length;u--;)if(n[u][0]==="enter"){if(n[u][1].type==="content"){a=u;break}n[u][1].type==="paragraph"&&(o=u)}else n[u][1].type==="content"&&n.splice(u,1),l||n[u][1].type!=="definition"||(l=u);return c={type:"setextHeading",start:t(n[o][1].start),end:t(n[n.length-1][1].end)},n[o][1].type="setextHeadingText",l?(n.splice(o,0,["enter",c,s]),n.splice(l+1,0,["exit",n[a][1],s]),n[a][1].end=t(n[l][1].end)):n[a][1]=c,n.push(["exit",c,s]),n}};return setextUnderline_1=i}function requireConstructs(){if(hasRequiredConstructs)return constructs;hasRequiredConstructs=1,Object.defineProperty(constructs,"__esModule",{value:!0});var e=requireText$1(),t=requireAttention(),r=requireAutolink(),i=requireBlockQuote(),n=requireCharacterEscape(),s=requireCharacterReference(),a=requireCodeFenced(),o=requireCodeIndented(),l=requireCodeText(),c=requireDefinition(),u=requireHardBreakEscape(),h=requireHeadingAtx(),d=requireHtmlFlow(),p=requireHtmlText(),m=requireLabelEnd(),g=requireLabelStartImage(),f=requireLabelStartLink(),y=requireLineEnding(),v=requireList$1(),b=requireSetextUnderline(),k=requireThematicBreak$1(),E={42:v,43:v,45:v,48:v,49:v,50:v,51:v,52:v,53:v,54:v,55:v,56:v,57:v,62:i},x={91:c},S={"-2":o,"-1":o,32:o},C={35:h,42:k,45:[b,k],60:d,61:b,95:k,96:a,126:a},w={38:s,92:n},P={"-5":y,"-4":y,"-3":y,33:g,38:s,42:t,60:[r,p],91:f,92:[u,n],93:m,95:t,96:l},T={null:[t,e.resolver]};return constructs.contentInitial=x,constructs.disable={null:[]},constructs.document=E,constructs.flow=C,constructs.flowInitial=S,constructs.insideSpan=T,constructs.string=w,constructs.text=P,constructs}function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1;var e=requireContent$1(),t=requireDocument(),r=requireFlow(),i=requireText$1(),n=requireCombineExtensions(),s=requireCreateTokenizer(),a=requireMiniflat(),o=requireConstructs();return parse_1=function(l){var c={defined:[],constructs:n([o].concat(a((l||{}).extensions))),content:u(e),document:u(t),flow:u(r),string:u(i.string),text:u(i.text)};return c;function u(h){return function(d){return s(c,h,d)}}}}function requirePreprocess(){if(hasRequiredPreprocess)return preprocess_1;hasRequiredPreprocess=1;var e=/[\0\t\n\r]/g;return preprocess_1=function(){var t,r=!0,i=1,n="";return function(s,a,o){var l,c,u,h,d,p=[];for(s=n+s.toString(a),u=0,n="",r&&(s.charCodeAt(0)===65279&&u++,r=void 0);u<s.length;){if(e.lastIndex=u,h=(l=e.exec(s))?l.index:s.length,d=s.charCodeAt(h),!l){n=s.slice(u);break}if(d===10&&u===h&&t)p.push(-3),t=void 0;else if(t&&(p.push(-5),t=void 0),u<h&&(p.push(s.slice(u,h)),i+=h-u),d===0)p.push(65533),i++;else if(d===9)for(c=4*Math.ceil(i/4),p.push(-2);i++<c;)p.push(-1);else d===10?(p.push(-4),i=1):(t=!0,i=1);u=h+1}return o&&(t&&p.push(-5),n&&p.push(n),p.push(null)),p}}}function requirePostprocess(){if(hasRequiredPostprocess)return postprocess_1;hasRequiredPostprocess=1;var e=requireSubtokenize();return postprocess_1=function(t){for(;!e(t););return t}}function requireUnistUtilStringifyPosition(){if(hasRequiredUnistUtilStringifyPosition)return unistUtilStringifyPosition;hasRequiredUnistUtilStringifyPosition=1;var e={}.hasOwnProperty;function t(n){return n&&typeof n=="object"||(n={}),i(n.line)+":"+i(n.column)}function r(n){return n&&typeof n=="object"||(n={}),t(n.start)+"-"+t(n.end)}function i(n){return n&&typeof n=="number"?n:1}return unistUtilStringifyPosition=function(n){return n&&typeof n=="object"?e.call(n,"position")||e.call(n,"type")?r(n.position):e.call(n,"start")||e.call(n,"end")?r(n):e.call(n,"line")||e.call(n,"column")?t(n):"":""}}function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,dist=function(h,d,p){return typeof d!="string"&&(p=d,d=void 0),function(m){var g=m||{},f=function(q,V){for(var z=-1;++z<V.length;)u(q,V[z]);return q}({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:x(B),autolinkProtocol:F,autolinkEmail:F,atxHeading:x(W),blockQuote:x(function(){return{type:"blockquote",children:[]}}),characterEscape:F,characterReference:F,codeFenced:x(O),codeFencedFenceInfo:S,codeFencedFenceMeta:S,codeIndented:x(O,S),codeText:x(function(){return{type:"inlineCode",value:""}},S),codeTextData:F,data:F,codeFlowValue:F,definition:x(function(){return{type:"definition",identifier:"",label:null,title:null,url:""}}),definitionDestinationString:S,definitionLabelString:S,definitionTitleString:S,emphasis:x(function(){return{type:"emphasis",children:[]}}),hardBreakEscape:x(A),hardBreakTrailing:x(A),htmlFlow:x(j,S),htmlFlowData:F,htmlText:x(j,S),htmlTextData:F,image:x(function(){return{type:"image",title:null,url:"",alt:null}}),label:S,link:x(B),listItem:x(function(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}),listItemValue:function(q){k("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=parseInt(this.sliceSerialize(q),10),b("expectingFirstListItemValue"))},listOrdered:x(G,function(){b("expectingFirstListItemValue",!0)}),listUnordered:x(G),paragraph:x(function(){return{type:"paragraph",children:[]}}),reference:function(){b("referenceType","collapsed")},referenceString:S,resourceDestinationString:S,resourceTitleString:S,setextHeading:x(W),strong:x(function(){return{type:"strong",children:[]}}),thematicBreak:x(function(){return{type:"thematicBreak"}})},exit:{atxHeading:w(),atxHeadingSequence:function(q){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(q).length)},autolink:w(),autolinkEmail:function(q){I.call(this,q),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(q)},autolinkProtocol:function(q){I.call(this,q),this.stack[this.stack.length-1].url=this.sliceSerialize(q)},blockQuote:w(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:L,characterReferenceMarkerNumeric:L,characterReferenceValue:function(q){var V,z,U=this.sliceSerialize(q),R=k("characterReferenceType");R?(V=n(U,R==="characterReferenceMarkerNumeric"?10:16),b("characterReferenceType")):V=l(U),(z=this.stack.pop()).value+=V,z.position.end=E(q.end)},codeFenced:w(function(){var q=this.resume();this.stack[this.stack.length-1].value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),b("flowCodeInside")}),codeFencedFence:function(){k("flowCodeInside")||(this.buffer(),b("flowCodeInside",!0))},codeFencedFenceInfo:function(){var q=this.resume();this.stack[this.stack.length-1].lang=q},codeFencedFenceMeta:function(){var q=this.resume();this.stack[this.stack.length-1].meta=q},codeFlowValue:I,codeIndented:w(function(){var q=this.resume();this.stack[this.stack.length-1].value=q}),codeText:w(function(){var q=this.resume();this.stack[this.stack.length-1].value=q}),codeTextData:I,data:I,definition:w(),definitionDestinationString:function(){var q=this.resume();this.stack[this.stack.length-1].url=q},definitionLabelString:function(q){var V=this.resume();this.stack[this.stack.length-1].label=V,this.stack[this.stack.length-1].identifier=i(this.sliceSerialize(q)).toLowerCase()},definitionTitleString:function(){var q=this.resume();this.stack[this.stack.length-1].title=q},emphasis:w(),hardBreakEscape:w(D),hardBreakTrailing:w(D),htmlFlow:w(function(){var q=this.resume();this.stack[this.stack.length-1].value=q}),htmlFlowData:I,htmlText:w(function(){var q=this.resume();this.stack[this.stack.length-1].value=q}),htmlTextData:I,image:w(function(){var q=this.stack[this.stack.length-1];k("inReference")?(q.type+="Reference",q.referenceType=k("referenceType")||"shortcut",delete q.url,delete q.title):(delete q.identifier,delete q.label,delete q.referenceType),b("referenceType")}),label:function(){var q=this.stack[this.stack.length-1],V=this.resume();this.stack[this.stack.length-1].label=V,b("inReference",!0),this.stack[this.stack.length-1].type==="link"?this.stack[this.stack.length-1].children=q.children:this.stack[this.stack.length-1].alt=V},labelText:function(q){this.stack[this.stack.length-2].identifier=i(this.sliceSerialize(q)).toLowerCase()},lineEnding:function(q){var V=this.stack[this.stack.length-1];if(k("atHardBreak"))return V.children[V.children.length-1].position.end=E(q.end),void b("atHardBreak");!k("setextHeadingSlurpLineEnding")&&f.canContainEols.indexOf(V.type)>-1&&(F.call(this,q),I.call(this,q))},link:w(function(){var q=this.stack[this.stack.length-1];k("inReference")?(q.type+="Reference",q.referenceType=k("referenceType")||"shortcut",delete q.url,delete q.title):(delete q.identifier,delete q.label,delete q.referenceType),b("referenceType")}),listItem:w(),listOrdered:w(),listUnordered:w(),paragraph:w(),referenceString:function(q){var V=this.resume();this.stack[this.stack.length-1].label=V,this.stack[this.stack.length-1].identifier=i(this.sliceSerialize(q)).toLowerCase(),b("referenceType","full")},resourceDestinationString:function(){var q=this.resume();this.stack[this.stack.length-1].url=q},resourceTitleString:function(){var q=this.resume();this.stack[this.stack.length-1].title=q},resource:function(){b("inReference")},setextHeading:w(function(){b("setextHeadingSlurpLineEnding")}),setextHeadingLineSequence:function(q){this.stack[this.stack.length-1].depth=this.sliceSerialize(q).charCodeAt(0)===61?1:2},setextHeadingText:function(){b("setextHeadingSlurpLineEnding",!0)},strong:w(),thematicBreak:w()}},g.mdastExtensions||[]),y={};return function(q){for(var V,z={type:"root",children:[]},U=[],R=[],H=-1,Y={stack:[z],tokenStack:U,config:f,enter:C,exit:P,buffer:S,resume:T,setData:b,getData:k};++H<q.length;)q[H][1].type!=="listOrdered"&&q[H][1].type!=="listUnordered"||(q[H][0]==="enter"?R.push(H):H=v(q,R.pop(H),H));for(H=-1;++H<q.length;)V=f[q[H][0]],r.call(V,q[H][1].type)&&V[q[H][1].type].call(t({sliceSerialize:q[H][2].sliceSerialize},Y),q[H][1]);if(U.length)throw new Error("Cannot close document, a token (`"+U[U.length-1].type+"`, "+c({start:U[U.length-1].start,end:U[U.length-1].end})+") is still open");for(z.position={start:E(q.length?q[0][1].start:{line:1,column:1,offset:0}),end:E(q.length?q[q.length-2][1].end:{line:1,column:1,offset:0})},H=-1;++H<f.transforms.length;)z=f.transforms[H](z)||z;return z};function v(q,V,z){for(var U,R,H,Y,K,ee,M,Q=V-1,te=-1,$=!1;++Q<=z;)if((K=q[Q])[1].type==="listUnordered"||K[1].type==="listOrdered"||K[1].type==="blockQuote"?(K[0]==="enter"?te++:te--,M=void 0):K[1].type==="lineEndingBlank"?K[0]==="enter"&&(!U||M||te||ee||(ee=Q),M=void 0):K[1].type==="linePrefix"||K[1].type==="listItemValue"||K[1].type==="listItemMarker"||K[1].type==="listItemPrefix"||K[1].type==="listItemPrefixWhitespace"||(M=void 0),!te&&K[0]==="enter"&&K[1].type==="listItemPrefix"||te===-1&&K[0]==="exit"&&(K[1].type==="listUnordered"||K[1].type==="listOrdered")){if(U){for(R=Q,H=void 0;R--;)if((Y=q[R])[1].type==="lineEnding"||Y[1].type==="lineEndingBlank"){if(Y[0]==="exit")continue;H&&(q[H][1].type="lineEndingBlank",$=!0),Y[1].type="lineEnding",H=R}else if(Y[1].type!=="linePrefix"&&Y[1].type!=="blockQuotePrefix"&&Y[1].type!=="blockQuotePrefixWhitespace"&&Y[1].type!=="blockQuoteMarker"&&Y[1].type!=="listItemIndent")break;ee&&(!H||ee<H)&&(U._spread=!0),U.end=E(H?q[H][1].start:K[1].end),q.splice(H||Q,0,["exit",U,K[2]]),Q++,z++}K[1].type==="listItemPrefix"&&(U={type:"listItem",_spread:!1,start:E(K[1].start)},q.splice(Q,0,["enter",U,K[2]]),Q++,z++,ee=void 0,M=!0)}return q[V][1]._spread=$,z}function b(q,V){y[q]=V}function k(q){return y[q]}function E(q){return{line:q.line,column:q.column,offset:q.offset}}function x(q,V){return function(z){C.call(this,q(z),z),V&&V.call(this,z)}}function S(){this.stack.push({type:"fragment",children:[]})}function C(q,V){return this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push(V),q.position={start:E(V.start)},q}function w(q){return function(V){q&&q.call(this,V),P.call(this,V)}}function P(q){var V=this.stack.pop(),z=this.tokenStack.pop();if(!z)throw new Error("Cannot close `"+q.type+"` ("+c({start:q.start,end:q.end})+"): it\u2019s not open");if(z.type!==q.type)throw new Error("Cannot close `"+q.type+"` ("+c({start:q.start,end:q.end})+"): a different token (`"+z.type+"`, "+c({start:z.start,end:z.end})+") is open");return V.position.end=E(q.end),V}function T(){return e(this.stack.pop())}function F(q){var V=this.stack[this.stack.length-1].children,z=V[V.length-1];z&&z.type==="text"||((z={type:"text",value:""}).position={start:E(q.start)},this.stack[this.stack.length-1].children.push(z)),this.stack.push(z)}function I(q){var V=this.stack.pop();V.value+=this.sliceSerialize(q),V.position.end=E(q.end)}function D(){b("atHardBreak",!0)}function L(q){b("characterReferenceType",q.type)}function O(){return{type:"code",lang:null,meta:null,value:""}}function W(){return{type:"heading",depth:void 0,children:[]}}function A(){return{type:"break"}}function j(){return{type:"html",value:""}}function B(){return{type:"link",title:null,url:"",children:[]}}function G(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}}(p)(o(s(p).document().write(a()(h,d,!0))))};var e=requireMdastUtilToString(),t=requireAssign(),r=requireHasOwnProperty(),i=requireNormalizeIdentifier(),n=requireSafeFromInt(),s=requireParse(),a=requirePreprocess(),o=requirePostprocess(),l=requireDecodeEntity_browser(),c=requireUnistUtilStringifyPosition();function u(h,d){var p,m;for(p in d)m=r.call(h,p)?h[p]:h[p]={},p==="canContainEols"||p==="transforms"?h[p]=[].concat(m,d[p]):Object.assign(m,d[p])}return dist}function requireMdastUtilFromMarkdown(){return hasRequiredMdastUtilFromMarkdown?mdastUtilFromMarkdown:(hasRequiredMdastUtilFromMarkdown=1,mdastUtilFromMarkdown=requireDist())}function requireRemarkParse(){if(hasRequiredRemarkParse)return remarkParse;hasRequiredRemarkParse=1,remarkParse=function(t){var r=this;this.Parser=function(i){return e(i,Object.assign({},r.data("settings"),t,{extensions:r.data("micromarkExtensions")||[],mdastExtensions:r.data("fromMarkdownExtensions")||[]}))}};var e=requireMdastUtilFromMarkdown();return remarkParse}function requireUnistBuilder(){return hasRequiredUnistBuilder?unistBuilder:(hasRequiredUnistBuilder=1,unistBuilder=function(e,t,r){var i;return r!=null||typeof t=="object"&&!Array.isArray(t)||(r=t,t={}),i=Object.assign({type:String(e)},t),Array.isArray(r)?i.children=r:r!=null&&(i.value=String(r)),i})}function requireConvert(){if(hasRequiredConvert)return convert_1;function e(){return!0}return hasRequiredConvert=1,convert_1=function t(r){if(r==null)return e;if(typeof r=="string")return function(i){return function(n){return!!(n&&n.type===i)}}(r);if(typeof r=="object")return"length"in r?function(i){for(var n=[],s=-1;++s<i.length;)n[s]=t(i[s]);return function(){for(var a=-1;++a<n.length;)if(n[a].apply(this,arguments))return!0;return!1}}(r):function(i){return function(n){var s;for(s in i)if(n[s]!==i[s])return!1;return!0}}(r);if(typeof r=="function")return r;throw new Error("Expected function, string, or object as test")}}function requireColor_browser(){return hasRequiredColor_browser?color_browser:(hasRequiredColor_browser=1,color_browser=function(e){return e})}function requireUnistUtilVisitParents(){if(hasRequiredUnistUtilVisitParents)return unistUtilVisitParents;hasRequiredUnistUtilVisitParents=1,unistUtilVisitParents=s;var e=requireConvert(),t=requireColor_browser(),r=!0,i="skip",n=!1;function s(a,o,l,c){var u,h;typeof o=="function"&&typeof l!="function"&&(c=l,l=o,o=null),h=e(o),u=c?-1:1,function d(p,m,g){var f,y=typeof p=="object"&&p!==null?p:{};return typeof y.type=="string"&&(f=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0,v.displayName="node ("+t(y.type+(f?"<"+f+">":""))+")"),v;function v(){var b,k,E=g.concat(p),x=[];if((!o||h(p,m,g[g.length-1]||null))&&(x=function(S){return S!==null&&typeof S=="object"&&"length"in S?S:typeof S=="number"?[r,S]:[S]}(l(p,g)),x[0]===n))return x;if(p.children&&x[0]!==i)for(k=(c?p.children.length:-1)+u;k>-1&&k<p.children.length;){if((b=d(p.children[k],k,E)())[0]===n)return b;k=typeof b[1]=="number"?b[1]:k+u}return x}}(a,null,[])()}return s.CONTINUE=r,s.SKIP=i,s.EXIT=n,unistUtilVisitParents}function requireUnistUtilVisit(){if(hasRequiredUnistUtilVisit)return unistUtilVisit;hasRequiredUnistUtilVisit=1,unistUtilVisit=n;var e=requireUnistUtilVisitParents(),t=e.CONTINUE,r=e.SKIP,i=e.EXIT;function n(s,a,o,l){typeof a=="function"&&typeof o!="function"&&(l=o,o=a,a=null),e(s,a,function(c,u){var h=u[u.length-1],d=h?h.children.indexOf(c):null;return o(c,d,h)},l)}return n.CONTINUE=t,n.SKIP=r,n.EXIT=i,unistUtilVisit}function requireUnistUtilPosition(){if(hasRequiredUnistUtilPosition)return unistUtilPosition;hasRequiredUnistUtilPosition=1;var e=i("start"),t=i("end");function r(n){return{start:e(n),end:t(n)}}function i(n){return s.displayName=n,s;function s(a){var o=a&&a.position&&a.position[n]||{};return{line:o.line||null,column:o.column||null,offset:isNaN(o.offset)?null:o.offset}}}return unistUtilPosition=r,r.start=e,r.end=t,unistUtilPosition}function requireUnistUtilGenerated(){return hasRequiredUnistUtilGenerated?unistUtilGenerated:(hasRequiredUnistUtilGenerated=1,unistUtilGenerated=function(e){return!(e&&e.position&&e.position.start&&e.position.start.line&&e.position.start.column&&e.position.end&&e.position.end.line&&e.position.end.column)})}function requireMdastUtilDefinitions(){if(hasRequiredMdastUtilDefinitions)return mdastUtilDefinitions;hasRequiredMdastUtilDefinitions=1;var e=requireUnistUtilVisit();mdastUtilDefinitions=function(i,n){return s=function(a){var o={};if(!a||!a.type)throw new Error("mdast-util-definitions expected node");return e(a,"definition",function(l){var c=r(l.identifier);t.call(o,c)||(o[c]=l)}),o}(i),function(a){var o=a&&r(a);return o&&t.call(s,o)?s[o]:null};var s};var t={}.hasOwnProperty;function r(i){return i.toUpperCase()}return mdastUtilDefinitions}function requireAll(){if(hasRequiredAll)return all_1;hasRequiredAll=1,all_1=function(t,r){for(var i,n,s=r.children||[],a=s.length,o=[],l=-1;++l<a;)(i=e(t,s[l],r))&&(l&&s[l-1].type==="break"&&(i.value&&(i.value=i.value.replace(/^\s+/,"")),(n=i.children&&i.children[0])&&n.value&&(n.value=n.value.replace(/^\s+/,""))),o=o.concat(i));return o};var e=requireOne();return all_1}function requireOne(){if(hasRequiredOne)return one_1;hasRequiredOne=1,one_1=function(s,a,o){var l,c=a&&a.type;if(!c)throw new Error("Expected node, got `"+a+"`");return(typeof(l=r.call(s.handlers,c)?s.handlers[c]:s.passThrough&&s.passThrough.indexOf(c)>-1?n:s.unknownHandler)=="function"?l:i)(s,a,o)};var e=requireUnistBuilder(),t=requireAll(),r={}.hasOwnProperty;function i(s,a){return function(o){var l=o.data||{};return!(r.call(l,"hName")||r.call(l,"hProperties")||r.call(l,"hChildren"))&&"value"in o}(a)?s.augment(a,e("text",a.value)):s(a,"div",t(s,a))}function n(s,a){var o;return a.children?((o=Object.assign({},a)).children=t(s,a),o):a}return one_1}function requireThematicBreak(){return hasRequiredThematicBreak?thematicBreak_1:(hasRequiredThematicBreak=1,thematicBreak_1=function(e,t){return e(t,"hr")})}function requireWrap(){if(hasRequiredWrap)return wrap_1;hasRequiredWrap=1,wrap_1=function(t,r){var i=[],n=-1,s=t.length;for(r&&i.push(e("text",`
`));++n<s;)n&&i.push(e("text",`
`)),i.push(t[n]);return r&&t.length>0&&i.push(e("text",`
`)),i};var e=requireUnistBuilder();return wrap_1}function requireList(){if(hasRequiredList)return list_1;hasRequiredList=1,list_1=function(r,i){var n,s,a={},o=i.ordered?"ol":"ul",l=-1;for(typeof i.start=="number"&&i.start!==1&&(a.start=i.start),s=(n=t(r,i)).length;++l<s;)if(n[l].properties.className&&n[l].properties.className.indexOf("task-list-item")!==-1){a.className=["contains-task-list"];break}return r(i,o,a,e(n,!0))};var e=requireWrap(),t=requireAll();return list_1}function requireFooter(){if(hasRequiredFooter)return footer;hasRequiredFooter=1,footer=function(i){for(var n,s,a,o,l=i.footnoteById,c=i.footnoteOrder,u=c.length,h=-1,d=[];++h<u;)(n=l[c[h].toUpperCase()])&&(o=(a=n.children.concat())[a.length-1],s={type:"link",url:"#fnref-"+n.identifier,data:{hProperties:{className:["footnote-backref"]}},children:[{type:"text",value:"\u21A9"}]},o&&o.type==="paragraph"||(o={type:"paragraph",children:[]},a.push(o)),o.children.push(s),d.push({type:"listItem",data:{hProperties:{id:"fn-"+n.identifier}},children:a,position:n.position}));return d.length===0?null:i(null,"div",{className:["footnotes"]},r([e(i),t(i,{type:"list",ordered:!0,children:d})],!0))};var e=requireThematicBreak(),t=requireList(),r=requireWrap();return footer}function requireBlockquote(){if(hasRequiredBlockquote)return blockquote_1;hasRequiredBlockquote=1,blockquote_1=function(r,i){return r(i,"blockquote",e(t(r,i),!0))};var e=requireWrap(),t=requireAll();return blockquote_1}function require_break(){if(hasRequired_break)return _break;hasRequired_break=1,_break=function(t,r){return[t(r,"br"),e("text",`
`)]};var e=requireUnistBuilder();return _break}function requireCode(){if(hasRequiredCode)return code_1;hasRequiredCode=1,code_1=function(t,r){var i,n=r.value?r.value+`
`:"",s=r.lang&&r.lang.match(/^[^ \t]+(?=[ \t]|$)/),a={};return s&&(a.className=["language-"+s]),i=t(r,"code",a,[e("text",n)]),r.meta&&(i.data={meta:r.meta}),t(r.position,"pre",[i])};var e=requireUnistBuilder();return code_1}function require_delete(){if(hasRequired_delete)return _delete;hasRequired_delete=1,_delete=function(t,r){return t(r,"del",e(t,r))};var e=requireAll();return _delete}function requireEmphasis(){if(hasRequiredEmphasis)return emphasis_1;hasRequiredEmphasis=1,emphasis_1=function(t,r){return t(r,"em",e(t,r))};var e=requireAll();return emphasis_1}function requireFootnoteReference(){if(hasRequiredFootnoteReference)return footnoteReference_1;hasRequiredFootnoteReference=1,footnoteReference_1=function(t,r){var i=t.footnoteOrder,n=String(r.identifier);return i.indexOf(n)===-1&&i.push(n),t(r.position,"sup",{id:"fnref-"+n},[t(r,"a",{href:"#fn-"+n,className:["footnote-ref"]},[e("text",r.label||n)])])};var e=requireUnistBuilder();return footnoteReference_1}function requireFootnote(){if(hasRequiredFootnote)return footnote_1;hasRequiredFootnote=1,footnote_1=function(t,r){for(var i=t.footnoteById,n=t.footnoteOrder,s=1;s in i;)s++;return s=String(s),n.push(s),i[s]={type:"footnoteDefinition",identifier:s,children:[{type:"paragraph",children:r.children}],position:r.position},e(t,{type:"footnoteReference",identifier:s,position:r.position})};var e=requireFootnoteReference();return footnote_1}function requireHeading(){if(hasRequiredHeading)return heading_1;hasRequiredHeading=1,heading_1=function(t,r){return t(r,"h"+r.depth,e(t,r))};var e=requireAll();return heading_1}function requireHtml$2(){if(hasRequiredHtml$2)return html_1$1;hasRequiredHtml$2=1,html_1$1=function(t,r){return t.dangerous?t.augment(r,e("raw",r.value)):null};var e=requireUnistBuilder();return html_1$1}function requireEncode(){if(hasRequiredEncode)return encode_1;hasRequiredEncode=1;var e={};function t(r,i,n){var s,a,o,l,c,u="";for(typeof i!="string"&&(n=i,i=t.defaultChars),n===void 0&&(n=!0),c=function(h){var d,p,m=e[h];if(m)return m;for(m=e[h]=[],d=0;d<128;d++)p=String.fromCharCode(d),/^[0-9a-z]$/i.test(p)?m.push(p):m.push("%"+("0"+d.toString(16).toUpperCase()).slice(-2));for(d=0;d<h.length;d++)m[h.charCodeAt(d)]=h[d];return m}(i),s=0,a=r.length;s<a;s++)if(o=r.charCodeAt(s),n&&o===37&&s+2<a&&/^[0-9a-f]{2}$/i.test(r.slice(s+1,s+3)))u+=r.slice(s,s+3),s+=2;else if(o<128)u+=c[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&s+1<a&&(l=r.charCodeAt(s+1))>=56320&&l<=57343){u+=encodeURIComponent(r[s]+r[s+1]),s++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(r[s]);return u}return t.defaultChars=";/?:@&=+$,-_.!~*'()#",t.componentChars="-_.!~*'()",encode_1=t}function requireRevert(){if(hasRequiredRevert)return revert_1;hasRequiredRevert=1,revert_1=function(r,i){var n,s,a,o=i.referenceType,l="]";return o==="collapsed"?l+="[]":o==="full"&&(l+="["+(i.label||i.identifier)+"]"),i.type==="imageReference"?e("text","!["+i.alt+l):((s=(n=t(r,i))[0])&&s.type==="text"?s.value="["+s.value:n.unshift(e("text","[")),(a=n[n.length-1])&&a.type==="text"?a.value+=l:n.push(e("text",l)),n)};var e=requireUnistBuilder(),t=requireAll();return revert_1}function requireImageReference(){if(hasRequiredImageReference)return imageReference_1;hasRequiredImageReference=1,imageReference_1=function(r,i){var n,s=r.definition(i.identifier);return s?(n={src:e(s.url||""),alt:i.alt},s.title!==null&&s.title!==void 0&&(n.title=s.title),r(i,"img",n)):t(r,i)};var e=requireEncode(),t=requireRevert();return imageReference_1}function requireImage(){if(hasRequiredImage)return image_1;hasRequiredImage=1;var e=requireEncode();return image_1=function(t,r){var i={src:e(r.url),alt:r.alt};return r.title!==null&&r.title!==void 0&&(i.title=r.title),t(r,"img",i)}}function requireInlineCode(){if(hasRequiredInlineCode)return inlineCode_1;hasRequiredInlineCode=1,inlineCode_1=function(t,r){var i=r.value.replace(/\r?\n|\r/g," ");return t(r,"code",[e("text",i)])};var e=requireUnistBuilder();return inlineCode_1}function requireLinkReference(){if(hasRequiredLinkReference)return linkReference_1;hasRequiredLinkReference=1,linkReference_1=function(i,n){var s,a=i.definition(n.identifier);return a?(s={href:e(a.url||"")},a.title!==null&&a.title!==void 0&&(s.title=a.title),i(n,"a",s,r(i,n))):t(i,n)};var e=requireEncode(),t=requireRevert(),r=requireAll();return linkReference_1}function requireLink(){if(hasRequiredLink)return link_1;hasRequiredLink=1;var e=requireEncode(),t=requireAll();return link_1=function(r,i){var n={href:e(i.url)};return i.title!==null&&i.title!==void 0&&(n.title=i.title),r(i,"a",n,t(r,i))}}function requireListItem(){if(hasRequiredListItem)return listItem_1;hasRequiredListItem=1,listItem_1=function(i,n,s){var a,o,l,c=t(i,n),u=c[0],h=s?function(m){for(var g=m.spread,f=m.children,y=f.length,v=-1;!g&&++v<y;)g=r(f[v]);return g}(s):r(n),d={},p=[];for(typeof n.checked=="boolean"&&(u&&u.tagName==="p"||(u=i(null,"p",[]),c.unshift(u)),u.children.length>0&&u.children.unshift(e("text"," ")),u.children.unshift(i(null,"input",{type:"checkbox",checked:n.checked,disabled:!0})),d.className=["task-list-item"]),a=c.length,o=-1;++o<a;)l=c[o],(h||o!==0||l.tagName!=="p")&&p.push(e("text",`
`)),l.tagName!=="p"||h?p.push(l):p=p.concat(l.children);return a&&(h||l.tagName!=="p")&&p.push(e("text",`
`)),i(n,"li",d,p)};var e=requireUnistBuilder(),t=requireAll();function r(i){return i.spread??i.children.length>1}return listItem_1}function requireParagraph(){if(hasRequiredParagraph)return paragraph_1;hasRequiredParagraph=1,paragraph_1=function(t,r){return t(r,"p",e(t,r))};var e=requireAll();return paragraph_1}function requireRoot(){if(hasRequiredRoot)return root_1;hasRequiredRoot=1,root_1=function(i,n){return i.augment(n,e("root",t(r(i,n))))};var e=requireUnistBuilder(),t=requireWrap(),r=requireAll();return root_1}function requireStrong(){if(hasRequiredStrong)return strong_1;hasRequiredStrong=1,strong_1=function(t,r){return t(r,"strong",e(t,r))};var e=requireAll();return strong_1}function requireTable(){if(hasRequiredTable)return table_1;hasRequiredTable=1,table_1=function(i,n){for(var s,a,o,l,c,u=n.children,h=u.length,d=n.align||[],p=d.length,m=[];h--;){for(a=u[h].children,l=h===0?"th":"td",s=p||a.length,o=[];s--;)c=a[s],o[s]=i(c,l,{align:d[s]},c?r(i,c):[]);m[h]=i(u[h],"tr",t(o,!0))}return i(n,"table",t([i(m[0].position,"thead",t([m[0]],!0))].concat(m[1]?i({start:e.start(m[1]),end:e.end(m[m.length-1])},"tbody",t(m.slice(1),!0)):[]),!0))};var e=requireUnistUtilPosition(),t=requireWrap(),r=requireAll();return table_1}function requireText(){if(hasRequiredText)return text_1;hasRequiredText=1,text_1=function(t,r){return t.augment(r,e("text",String(r.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))};var e=requireUnistBuilder();return text_1}function requireHandlers(){if(hasRequiredHandlers)return handlers;function e(){return null}return hasRequiredHandlers=1,handlers={blockquote:requireBlockquote(),break:require_break(),code:requireCode(),delete:require_delete(),emphasis:requireEmphasis(),footnoteReference:requireFootnoteReference(),footnote:requireFootnote(),heading:requireHeading(),html:requireHtml$2(),imageReference:requireImageReference(),image:requireImage(),inlineCode:requireInlineCode(),linkReference:requireLinkReference(),link:requireLink(),listItem:requireListItem(),list:requireList(),paragraph:requireParagraph(),root:requireRoot(),strong:requireStrong(),table:requireTable(),text:requireText(),thematicBreak:requireThematicBreak(),toml:e,yaml:e,definition:e,footnoteDefinition:e}}function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1,lib=function(u,h){var d=function(g,f){var y=f||{};y.allowDangerousHTML===void 0||c||(c=!0);var v=y.allowDangerousHtml||y.allowDangerousHTML,b={};return E.dangerous=v,E.definition=n(g),E.footnoteById=b,E.footnoteOrder=[],E.augment=k,E.handlers=Object.assign({},o,y.handlers),E.unknownHandler=y.unknownHandler,E.passThrough=y.passThrough,t(g,"footnoteDefinition",function(x){var S=String(x.identifier).toUpperCase();l.call(b,S)||(b[S]=x)}),E;function k(x,S){var C,w;return x&&x.data&&((C=x.data).hName&&(S.type!=="element"&&(S={type:"element",tagName:"",properties:{},children:[]}),S.tagName=C.hName),S.type==="element"&&C.hProperties&&(S.properties=Object.assign({},S.properties,C.hProperties)),S.children&&C.hChildren&&(S.children=C.hChildren)),w=x&&x.position?x:{position:x},i(w)||(S.position={start:r.start(w),end:r.end(w)}),S}function E(x,S,C,w){return w==null&&typeof C=="object"&&"length"in C&&(w=C,C={}),k(x,{type:"element",tagName:S,properties:C||{},children:w||[]})}}(u,h),p=s(d,u),m=a(d);return m&&(p.children=p.children.concat(e("text",`
`),m)),p};var e=requireUnistBuilder(),t=requireUnistUtilVisit(),r=requireUnistUtilPosition(),i=requireUnistUtilGenerated(),n=requireMdastUtilDefinitions(),s=requireOne(),a=requireFooter(),o=requireHandlers(),l={}.hasOwnProperty,c=!1;return lib}function requireMdastUtilToHast(){return hasRequiredMdastUtilToHast?mdastUtilToHast:(hasRequiredMdastUtilToHast=1,mdastUtilToHast=requireLib())}function requireRemarkRehype(){if(hasRequiredRemarkRehype)return remarkRehype;hasRequiredRemarkRehype=1;var e=requireMdastUtilToHast();return remarkRehype=function(t,r){return t&&!t.process&&(r=t,t=null),t?function(i,n){return function(s,a,o){i.run(e(s,n),a,function(l){o(l)})}}(t,r):function(i){return function(n){return e(n,i)}}(r)}}function requireImmutable(){if(hasRequiredImmutable)return immutable;hasRequiredImmutable=1,immutable=function(){for(var t={},r=0;r<arguments.length;r++){var i=arguments[r];for(var n in i)e.call(i,n)&&(t[n]=i[n])}return t};var e=Object.prototype.hasOwnProperty;return immutable}function requireSchema(){if(hasRequiredSchema)return schema;hasRequiredSchema=1,schema=t;var e=t.prototype;function t(r,i,n){this.property=r,this.normal=i,n&&(this.space=n)}return e.space=null,e.normal={},e.property={},schema}function requireMerge(){if(hasRequiredMerge)return merge_1;hasRequiredMerge=1;var e=requireImmutable(),t=requireSchema();return merge_1=function(r){for(var i,n,s=r.length,a=[],o=[],l=-1;++l<s;)i=r[l],a.push(i.property),o.push(i.normal),n=i.space;return new t(e.apply(null,a),e.apply(null,o),n)},merge_1}function requireNormalize(){return hasRequiredNormalize?normalize_1:(hasRequiredNormalize=1,normalize_1=function(e){return e.toLowerCase()})}function requireInfo(){if(hasRequiredInfo)return info;hasRequiredInfo=1,info=t;var e=t.prototype;function t(r,i){this.property=r,this.attribute=i}return e.space=null,e.attribute=null,e.property=null,e.boolean=!1,e.booleanish=!1,e.overloadedBoolean=!1,e.number=!1,e.commaSeparated=!1,e.spaceSeparated=!1,e.commaOrSpaceSeparated=!1,e.mustUseProperty=!1,e.defined=!1,info}var types$1={},hasRequiredTypes,definedInfo,hasRequiredDefinedInfo,create_1,hasRequiredCreate,xlink,hasRequiredXlink,xml,hasRequiredXml,caseSensitiveTransform_1,hasRequiredCaseSensitiveTransform,caseInsensitiveTransform_1,hasRequiredCaseInsensitiveTransform,xmlns,hasRequiredXmlns,aria,hasRequiredAria,html,hasRequiredHtml$1,html_1,hasRequiredHtml,rehypeFilter_1,hasRequiredRehypeFilter,uriTransformer_1,hasRequiredUriTransformer;function requireTypes(){if(hasRequiredTypes)return types$1;hasRequiredTypes=1;var e=0;function t(){return Math.pow(2,++e)}return types$1.boolean=t(),types$1.booleanish=t(),types$1.overloadedBoolean=t(),types$1.number=t(),types$1.spaceSeparated=t(),types$1.commaSeparated=t(),types$1.commaOrSpaceSeparated=t(),types$1}function requireDefinedInfo(){if(hasRequiredDefinedInfo)return definedInfo;hasRequiredDefinedInfo=1;var e=requireInfo(),t=requireTypes();definedInfo=n,n.prototype=new e,n.prototype.defined=!0;var r=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],i=r.length;function n(a,o,l,c){var u,h=-1;for(s(this,"space",c),e.call(this,a,o);++h<i;)s(this,u=r[h],(l&t[u])===t[u])}function s(a,o,l){l&&(a[o]=l)}return definedInfo}function requireCreate(){if(hasRequiredCreate)return create_1;hasRequiredCreate=1;var e=requireNormalize(),t=requireSchema(),r=requireDefinedInfo();return create_1=function(i){var n,s,a=i.space,o=i.mustUseProperty||[],l=i.attributes||{},c=i.properties,u=i.transform,h={},d={};for(n in c)s=new r(n,u(l,n),c[n],a),o.indexOf(n)!==-1&&(s.mustUseProperty=!0),h[n]=s,d[e(n)]=n,d[e(s.attribute)]=n;return new t(h,d,a)},create_1}function requireXlink(){if(hasRequiredXlink)return xlink;hasRequiredXlink=1;var e=requireCreate();return xlink=e({space:"xlink",transform:function(t,r){return"xlink:"+r.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})}function requireXml(){if(hasRequiredXml)return xml;hasRequiredXml=1;var e=requireCreate();return xml=e({space:"xml",transform:function(t,r){return"xml:"+r.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})}function requireCaseSensitiveTransform(){return hasRequiredCaseSensitiveTransform?caseSensitiveTransform_1:(hasRequiredCaseSensitiveTransform=1,caseSensitiveTransform_1=function(e,t){return t in e?e[t]:t})}function requireCaseInsensitiveTransform(){if(hasRequiredCaseInsensitiveTransform)return caseInsensitiveTransform_1;hasRequiredCaseInsensitiveTransform=1;var e=requireCaseSensitiveTransform();return caseInsensitiveTransform_1=function(t,r){return e(t,r.toLowerCase())}}function requireXmlns(){if(hasRequiredXmlns)return xmlns;hasRequiredXmlns=1;var e=requireCreate(),t=requireCaseInsensitiveTransform();return xmlns=e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:t,properties:{xmlns:null,xmlnsXLink:null}})}function requireAria(){if(hasRequiredAria)return aria;hasRequiredAria=1;var e=requireTypes(),t=requireCreate(),r=e.booleanish,i=e.number,n=e.spaceSeparated;return aria=t({transform:function(s,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:r,ariaAutoComplete:null,ariaBusy:r,ariaChecked:r,ariaColCount:i,ariaColIndex:i,ariaColSpan:i,ariaControls:n,ariaCurrent:null,ariaDescribedBy:n,ariaDetails:null,ariaDisabled:r,ariaDropEffect:n,ariaErrorMessage:null,ariaExpanded:r,ariaFlowTo:n,ariaGrabbed:r,ariaHasPopup:null,ariaHidden:r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:n,ariaLevel:i,ariaLive:null,ariaModal:r,ariaMultiLine:r,ariaMultiSelectable:r,ariaOrientation:null,ariaOwns:n,ariaPlaceholder:null,ariaPosInSet:i,ariaPressed:r,ariaReadOnly:r,ariaRelevant:null,ariaRequired:r,ariaRoleDescription:n,ariaRowCount:i,ariaRowIndex:i,ariaRowSpan:i,ariaSelected:r,ariaSetSize:i,ariaSort:null,ariaValueMax:i,ariaValueMin:i,ariaValueNow:i,ariaValueText:null,role:null}})}function requireHtml$1(){if(hasRequiredHtml$1)return html;hasRequiredHtml$1=1;var e=requireTypes(),t=requireCreate(),r=requireCaseInsensitiveTransform(),i=e.boolean,n=e.overloadedBoolean,s=e.booleanish,a=e.number,o=e.spaceSeparated,l=e.commaSeparated;return html=t({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:r,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:l,acceptCharset:o,accessKey:o,action:null,allow:null,allowFullScreen:i,allowPaymentRequest:i,allowUserMedia:i,alt:null,as:null,async:i,autoCapitalize:null,autoComplete:o,autoFocus:i,autoPlay:i,capture:i,charSet:null,checked:i,cite:null,className:o,cols:a,colSpan:null,content:null,contentEditable:s,controls:i,controlsList:o,coords:a|l,crossOrigin:null,data:null,dateTime:null,decoding:null,default:i,defer:i,dir:null,dirName:null,disabled:i,download:n,draggable:s,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:i,formTarget:null,headers:o,height:a,hidden:i,high:a,href:null,hrefLang:null,htmlFor:o,httpEquiv:o,id:null,imageSizes:null,imageSrcSet:l,inputMode:null,integrity:null,is:null,isMap:i,itemId:null,itemProp:o,itemRef:o,itemScope:i,itemType:o,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:i,low:a,manifest:null,max:null,maxLength:a,media:null,method:null,min:null,minLength:a,multiple:i,muted:i,name:null,nonce:null,noModule:i,noValidate:i,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:i,optimum:a,pattern:null,ping:o,placeholder:null,playsInline:i,poster:null,preload:null,readOnly:i,referrerPolicy:null,rel:o,required:i,reversed:i,rows:a,rowSpan:a,sandbox:o,scope:null,scoped:i,seamless:i,selected:i,shape:null,size:a,sizes:null,slot:null,span:a,spellCheck:s,src:null,srcDoc:null,srcLang:null,srcSet:l,start:a,step:null,style:null,tabIndex:a,target:null,title:null,translate:null,type:null,typeMustMatch:i,useMap:null,value:s,width:a,wrap:null,align:null,aLink:null,archive:o,axis:null,background:null,bgColor:null,border:a,borderColor:null,bottomMargin:a,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:i,declare:i,event:null,face:null,frame:null,frameBorder:null,hSpace:a,leftMargin:a,link:null,longDesc:null,lowSrc:null,marginHeight:a,marginWidth:a,noResize:i,noHref:i,noShade:i,noWrap:i,object:null,profile:null,prompt:null,rev:null,rightMargin:a,rules:null,scheme:null,scrolling:s,standby:null,summary:null,text:null,topMargin:a,valueType:null,version:null,vAlign:null,vLink:null,vSpace:a,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:i,disableRemotePlayback:i,prefix:null,property:null,results:a,security:null,unselectable:null}})}function requireHtml(){if(hasRequiredHtml)return html_1;hasRequiredHtml=1;var e=requireMerge(),t=requireXlink(),r=requireXml(),i=requireXmlns(),n=requireAria(),s=requireHtml$1();return html_1=e([r,t,i,n,s])}function requireRehypeFilter(){if(hasRequiredRehypeFilter)return rehypeFilter_1;hasRequiredRehypeFilter=1;const e=requireUnistUtilVisit();return rehypeFilter_1=function(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return i=>{e(i,"element",r)};function r(i,n,s){const a=i,o=s;let l;if(t.allowedElements?l=!t.allowedElements.includes(a.tagName):t.disallowedElements&&(l=t.disallowedElements.includes(a.tagName)),!l&&t.allowElement&&typeof n=="number"&&(l=!t.allowElement(a,n,o)),l&&typeof n=="number")return t.unwrapDisallowed&&a.children?o.children.splice(n,1,...a.children):o.children.splice(n,1),n}}}function requireUriTransformer(){if(hasRequiredUriTransformer)return uriTransformer_1;hasRequiredUriTransformer=1;const e=["http","https","mailto","tel"];return uriTransformer_1=function(t){const r=(t||"").trim(),i=r.charAt(0);if(i==="#"||i==="/")return r;const n=r.indexOf(":");if(n===-1)return r;let s=-1;for(;++s<e.length;){const a=e[s];if(n===a.length&&r.slice(0,a.length).toLowerCase()===a)return r}return s=r.indexOf("?"),s!==-1&&n>s?r:(s=r.indexOf("#"),s!==-1&&n>s?r:"javascript:void(0)")}}var astToReact={},reactIs={exports:{}},reactIs_production_min={},hasRequiredReactIs_production_min,hasRequiredReactIs,svg,hasRequiredSvg$1,svg_1,hasRequiredSvg,find_1,hasRequiredFind;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var e=60103,t=60106,r=60107,i=60108,n=60114,s=60109,a=60110,o=60112,l=60113,c=60120,u=60115,h=60116,d=60121,p=60122,m=60117,g=60129,f=60131;if(typeof Symbol=="function"&&Symbol.for){var y=Symbol.for;e=y("react.element"),t=y("react.portal"),r=y("react.fragment"),i=y("react.strict_mode"),n=y("react.profiler"),s=y("react.provider"),a=y("react.context"),o=y("react.forward_ref"),l=y("react.suspense"),c=y("react.suspense_list"),u=y("react.memo"),h=y("react.lazy"),d=y("react.block"),p=y("react.server.block"),m=y("react.fundamental"),g=y("react.debug_trace_mode"),f=y("react.legacy_hidden")}function v(I){if(typeof I=="object"&&I!==null){var D=I.$$typeof;switch(D){case e:switch(I=I.type){case r:case n:case i:case l:case c:return I;default:switch(I=I&&I.$$typeof){case a:case o:case h:case u:case s:return I;default:return D}}case t:return D}}}var b=s,k=e,E=o,x=r,S=h,C=u,w=t,P=n,T=i,F=l;return reactIs_production_min.ContextConsumer=a,reactIs_production_min.ContextProvider=b,reactIs_production_min.Element=k,reactIs_production_min.ForwardRef=E,reactIs_production_min.Fragment=x,reactIs_production_min.Lazy=S,reactIs_production_min.Memo=C,reactIs_production_min.Portal=w,reactIs_production_min.Profiler=P,reactIs_production_min.StrictMode=T,reactIs_production_min.Suspense=F,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(I){return v(I)===a},reactIs_production_min.isContextProvider=function(I){return v(I)===s},reactIs_production_min.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},reactIs_production_min.isForwardRef=function(I){return v(I)===o},reactIs_production_min.isFragment=function(I){return v(I)===r},reactIs_production_min.isLazy=function(I){return v(I)===h},reactIs_production_min.isMemo=function(I){return v(I)===u},reactIs_production_min.isPortal=function(I){return v(I)===t},reactIs_production_min.isProfiler=function(I){return v(I)===n},reactIs_production_min.isStrictMode=function(I){return v(I)===i},reactIs_production_min.isSuspense=function(I){return v(I)===l},reactIs_production_min.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===n||I===g||I===i||I===l||I===c||I===f||typeof I=="object"&&I!==null&&(I.$$typeof===h||I.$$typeof===u||I.$$typeof===s||I.$$typeof===a||I.$$typeof===o||I.$$typeof===m||I.$$typeof===d||I[0]===p)},reactIs_production_min.typeOf=v,reactIs_production_min}function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}function requireSvg$1(){if(hasRequiredSvg$1)return svg;hasRequiredSvg$1=1;var e=requireTypes(),t=requireCreate(),r=requireCaseSensitiveTransform(),i=e.boolean,n=e.number,s=e.spaceSeparated,a=e.commaSeparated,o=e.commaOrSpaceSeparated;return svg=t({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:r,properties:{about:o,accentHeight:n,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:n,amplitude:n,arabicForm:null,ascent:n,attributeName:null,attributeType:null,azimuth:n,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:n,by:null,calcMode:null,capHeight:n,className:s,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:n,diffuseConstant:n,direction:null,display:null,dur:null,divisor:n,dominantBaseline:null,download:i,dx:null,dy:null,edgeMode:null,editable:null,elevation:n,enableBackground:null,end:null,event:null,exponent:n,externalResourcesRequired:null,fill:null,fillOpacity:n,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:a,g2:a,glyphName:a,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:n,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:n,horizOriginX:n,horizOriginY:n,id:null,ideographic:n,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:n,k:n,k1:n,k2:n,k3:n,k4:n,kernelMatrix:o,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:n,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:n,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:n,overlineThickness:n,paintOrder:null,panose1:null,path:null,pathLength:n,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:s,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:n,pointsAtY:n,pointsAtZ:n,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:o,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:o,rev:o,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:o,requiredFeatures:o,requiredFonts:o,requiredFormats:o,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:n,specularExponent:n,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:n,strikethroughThickness:n,string:null,stroke:null,strokeDashArray:o,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:n,strokeOpacity:n,strokeWidth:null,style:null,surfaceScale:n,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:o,tabIndex:n,tableValues:null,target:null,targetX:n,targetY:n,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:o,to:null,transform:null,u1:null,u2:null,underlinePosition:n,underlineThickness:n,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:n,values:null,vAlphabetic:n,vMathematical:n,vectorEffect:null,vHanging:n,vIdeographic:n,version:null,vertAdvY:n,vertOriginX:n,vertOriginY:n,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:n,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}})}function requireSvg(){if(hasRequiredSvg)return svg_1;hasRequiredSvg=1;var e=requireMerge(),t=requireXlink(),r=requireXml(),i=requireXmlns(),n=requireAria(),s=requireSvg$1();return svg_1=e([r,t,i,n,s])}function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var e=requireNormalize(),t=requireDefinedInfo(),r=requireInfo(),i="data";find_1=function(c,u){var h=e(u),d=u,p=r;return h in c.normal?c.property[c.normal[h]]:(h.length>4&&h.slice(0,4)===i&&n.test(u)&&(u.charAt(4)==="-"?d=function(m){var g=m.slice(5).replace(s,l);return i+g.charAt(0).toUpperCase()+g.slice(1)}(u):u=function(m){var g=m.slice(4);return s.test(g)?m:((g=g.replace(a,o)).charAt(0)!=="-"&&(g="-"+g),i+g)}(u),p=t),new p(d,u))};var n=/^data[-\w.:]+$/i,s=/-[a-z]/g,a=/[A-Z]/g;function o(c){return"-"+c.toLowerCase()}function l(c){return c.charAt(1).toUpperCase()}return find_1}const classId="classID",dataType="datatype",itemId="itemID",strokeDashArray="strokeDasharray",strokeDashOffset="strokeDashoffset",strokeLineCap="strokeLinecap",strokeLineJoin="strokeLinejoin",strokeMiterLimit="strokeMiterlimit",typeOf="typeof",xLinkActuate="xlinkActuate",xLinkArcRole="xlinkArcrole",xLinkHref="xlinkHref",xLinkRole="xlinkRole",xLinkShow="xlinkShow",xLinkTitle="xlinkTitle",xLinkType="xlinkType",xmlnsXLink="xmlnsXlink",require$$4={classId,dataType,itemId,strokeDashArray,strokeDashOffset,strokeLineCap,strokeLineJoin,strokeMiterLimit,typeOf,xLinkActuate,xLinkArcRole,xLinkHref,xLinkRole,xLinkShow,xLinkTitle,xLinkType,xmlnsXLink};var spaceSeparatedTokens={},hasRequiredSpaceSeparatedTokens;function requireSpaceSeparatedTokens(){if(hasRequiredSpaceSeparatedTokens)return spaceSeparatedTokens;hasRequiredSpaceSeparatedTokens=1,spaceSeparatedTokens.parse=function(i){var n=String(i||e).trim();return n===e?[]:n.split(r)},spaceSeparatedTokens.stringify=function(i){return i.join(t).trim()};var e="",t=" ",r=/[ \t\n\r\f]+/g;return spaceSeparatedTokens}var commaSeparatedTokens={},hasRequiredCommaSeparatedTokens,inlineStyleParser,hasRequiredInlineStyleParser,styleToObject,hasRequiredStyleToObject,hasRequiredAstToReact,reactMarkdown,hasRequiredReactMarkdown;function requireCommaSeparatedTokens(){if(hasRequiredCommaSeparatedTokens)return commaSeparatedTokens;hasRequiredCommaSeparatedTokens=1,commaSeparatedTokens.parse=function(i){for(var n,s=[],a=String(i||r),o=a.indexOf(e),l=0,c=!1;!c;)o===-1&&(o=a.length,c=!0),!(n=a.slice(l,o).trim())&&c||s.push(n),l=o+1,o=a.indexOf(e,l);return s},commaSeparatedTokens.stringify=function(i,n){var s=n||{},a=s.padLeft===!1?r:t,o=s.padRight?t:r;return i[i.length-1]===r&&(i=i.concat(r)),i.join(o+e+a).trim()};var e=",",t=" ",r="";return commaSeparatedTokens}function requireInlineStyleParser(){if(hasRequiredInlineStyleParser)return inlineStyleParser;hasRequiredInlineStyleParser=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,n=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,l="";function c(u){return u?u.replace(o,l):l}return inlineStyleParser=function(u,h){if(typeof u!="string")throw new TypeError("First argument must be a string");if(!u)return[];h=h||{};var d=1,p=1;function m(S){var C=S.match(t);C&&(d+=C.length);var w=S.lastIndexOf(`
`);p=~w?S.length-w:p+S.length}function g(){var S={line:d,column:p};return function(C){return C.position=new f(S),b(),C}}function f(S){this.start=S,this.end={line:d,column:p},this.source=h.source}function y(S){var C=new Error(h.source+":"+d+":"+p+": "+S);if(C.reason=S,C.filename=h.source,C.line=d,C.column=p,C.source=u,!h.silent)throw C}function v(S){var C=S.exec(u);if(C){var w=C[0];return m(w),u=u.slice(w.length),C}}function b(){v(r)}function k(S){var C;for(S=S||[];C=E();)C!==!1&&S.push(C);return S}function E(){var S=g();if(u.charAt(0)=="/"&&u.charAt(1)=="*"){for(var C=2;l!=u.charAt(C)&&(u.charAt(C)!="*"||u.charAt(C+1)!="/");)++C;if(C+=2,l===u.charAt(C-1))return y("End of comment missing");var w=u.slice(2,C-2);return p+=2,m(w),u=u.slice(C),p+=2,S({type:"comment",comment:w})}}function x(){var S=g(),C=v(i);if(C){if(E(),!v(n))return y("property missing ':'");var w=v(s),P=S({type:"declaration",property:c(C[0].replace(e,l)),value:w?c(w[0].replace(e,l)):l});return v(a),P}}return f.prototype.content=u,b(),function(){var S,C=[];for(k(C);S=x();)S!==!1&&(C.push(S),k(C));return C}()}}function requireStyleToObject(){if(hasRequiredStyleToObject)return styleToObject;hasRequiredStyleToObject=1;var e=requireInlineStyleParser();return styleToObject=function(t,r){var i,n=null;if(!t||typeof t!="string")return n;for(var s,a,o=e(t),l=typeof r=="function",c=0,u=o.length;c<u;c++)s=(i=o[c]).property,a=i.value,l?r(s,a,i):a&&(n||(n={}),n[s]=a);return n}}function requireAstToReact(){if(hasRequiredAstToReact)return astToReact;hasRequiredAstToReact=1;const e=requireReact(),t=requireReactIs(),r=requireSvg(),i=requireFind(),n=require$$4,s=requireSpaceSeparatedTokens(),a=requireCommaSeparatedTokens(),o=requireStyleToObject();astToReact.hastToReact=h,astToReact.hastChildrenToReact=u;const l={}.hasOwnProperty,c=new Set(["table","thead","tbody","tfoot","tr"]);function u(g,f){const y=[];let v,b=-1;for(;++b<f.children.length;)v=f.children[b],v.type==="element"?y.push(h(g,v,b,f)):v.type==="text"?f.type==="element"&&c.has(f.tagName)&&v.value===`
`||y.push(v.value):v.type!=="raw"||g.options.skipHtml||y.push(v.value);return y}function h(g,f,y,v){const b=g.options,k=g.schema,E=f.tagName,x={};let S,C=k;if(k.space==="html"&&E==="svg"&&(C=r,g.schema=C),f.properties)for(S in f.properties)l.call(f.properties,S)&&p(x,S,f.properties[S],g);E!=="ol"&&E!=="ul"||g.listDepth++;const w=u(g,f);E!=="ol"&&E!=="ul"||g.listDepth--,g.schema=k;const P=f.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},T=b.components&&l.call(b.components,E)?b.components[E]:E,F=typeof T=="string"||T===e.Fragment;if(!t.isValidElementType(T))throw new TypeError(`Component for name \`${E}\` not defined or is not renderable`);if(x.key=[E,P.start.line,P.start.column,y].join("-"),E==="a"&&b.linkTarget&&(x.target=typeof b.linkTarget=="function"?b.linkTarget(x.href,f.children,x.title):b.linkTarget),E==="a"&&b.transformLinkUri&&(x.href=b.transformLinkUri(x.href,f.children,x.title)),F||E!=="code"||v.type!=="element"||v.tagName==="pre"||(x.inline=!0),F||E!=="h1"&&E!=="h2"&&E!=="h3"&&E!=="h4"&&E!=="h5"&&E!=="h6"||(x.level=parseInt(E.charAt(1),10)),E==="img"&&b.transformImageUri&&(x.src=b.transformImageUri(x.src,x.alt,x.title)),!F&&E==="li"&&v.type==="element"){const D=function(L){let O=-1;for(;++O<L.children.length;){const W=L.children[O];if(W.type==="element"&&W.tagName==="input")return W}return null}(f);x.checked=D&&D.properties?!!D.properties.checked:null,x.index=d(v,f),x.ordered=v.tagName==="ol"}var I;return F||E!=="ol"&&E!=="ul"||(x.ordered=E==="ol",x.depth=g.listDepth),E!=="td"&&E!=="th"||(x.align&&(x.style||(x.style={}),x.style.textAlign=x.align,delete x.align),F||(x.isHeader=E==="th")),F||E!=="tr"||v.type!=="element"||(x.isHeader=v.tagName==="thead"),b.sourcePos&&(x["data-sourcepos"]=[(I=P).start.line,":",I.start.column,"-",I.end.line,":",I.end.column].map(D=>String(D)).join("")),!F&&b.rawSourcePos&&(x.sourcePosition=f.position),!F&&b.includeElementIndex&&(x.index=d(v,f),x.siblingCount=d(v)),F||(x.node=f),w.length>0?e.createElement(T,x,w):e.createElement(T,x)}function d(g,f){let y=-1,v=0;for(;++y<g.children.length&&g.children[y]!==f;)g.children[y].type==="element"&&v++;return v}function p(g,f,y,v){const b=i(v.schema,f);let k=y;k!=null&&k==k&&(k&&typeof k=="object"&&"length"in k&&(k=(b.commaSeparated?a:s).stringify(k)),b.property==="style"&&typeof k=="string"&&(k=function(E){const x={};try{o(E,function(S,C){const w=S.slice(0,4)==="-ms-"?`ms-${S.slice(4)}`:S;x[w.replace(/-([a-z])/g,m)]=C})}catch{}return x}(k)),b.space&&b.property?g[l.call(n,b.property)?n[b.property]:b.property]=k:b.attribute&&(g[b.attribute]=k))}function m(g,f){return f.toUpperCase()}return astToReact}function requireReactMarkdown(){if(hasRequiredReactMarkdown)return reactMarkdown;hasRequiredReactMarkdown=1;const e=requireReact(),t=requireVfile(),r=requireUnified(),i=requireRemarkParse(),n=requireRemarkRehype(),s=requirePropTypes(),a=requireHtml(),o=requireRehypeFilter(),l=requireUriTransformer(),c=requireAstToReact().hastChildrenToReact;reactMarkdown=d;const u={}.hasOwnProperty,h={renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function d(p){for(const v in h)u.call(h,v)&&u.call(p,v)&&(h[v],delete h[v]);const m=r().use(i).use(p.remarkPlugins||p.plugins||[]).use(n,{allowDangerousHtml:!0}).use(p.rehypePlugins||[]).use(o,p);let g;typeof p.children=="string"?g=t(p.children):(p.children!==void 0&&p.children,g=t());const f=m.runSync(m.parse(g),g);if(f.type!=="root")throw new TypeError("Expected a `root` node");let y=e.createElement(e.Fragment,{},c({options:p,schema:a,listDepth:0},f));return p.className&&(y=e.createElement("div",{className:p.className},y)),y}return d.defaultProps={transformLinkUri:l},d.propTypes={children:s.string,className:s.string,allowElement:s.func,allowedElements:s.arrayOf(s.string),disallowedElements:s.arrayOf(s.string),unwrapDisallowed:s.bool,remarkPlugins:s.arrayOf(s.oneOfType([s.object,s.func,s.arrayOf(s.oneOfType([s.object,s.func]))])),rehypePlugins:s.arrayOf(s.oneOfType([s.object,s.func,s.arrayOf(s.oneOfType([s.object,s.func]))])),sourcePos:s.bool,rawSourcePos:s.bool,skipHtml:s.bool,includeElementIndex:s.bool,transformLinkUri:s.oneOfType([s.func,s.bool]),linkTarget:s.oneOfType([s.func,s.string]),transformImageUri:s.func,components:s.object},d.uriTransformer=l,reactMarkdown}var reactMarkdownExports=requireReactMarkdown();const ReactMarkdown=getDefaultExportFromCjs(reactMarkdownExports);function _defineProperty$1(e,t,r){return(t=_toPropertyKey$1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPrimitive$1(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _toPropertyKey$1(e){var t=_toPrimitive$1(e,"string");return typeof t=="symbol"?t:String(t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty$2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys$1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function _objectSpread2$1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(r),!0).forEach(function(i){_defineProperty$2(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var defaults$1={addCSS:!0,thumbWidth:15,watch:!0};function matches$1(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}function trigger(e,t){if(e&&t){var r=new Event(t,{bubbles:!0});e.dispatchEvent(r)}}var getConstructor$1=function(e){return e!=null?e.constructor:null},instanceOf$1=function(e,t){return!!(e&&t&&e instanceof t)},isNullOrUndefined$1=function(e){return e==null},isObject$1=function(e){return getConstructor$1(e)===Object},isNumber$1=function(e){return getConstructor$1(e)===Number&&!Number.isNaN(e)},isString$1=function(e){return getConstructor$1(e)===String},isBoolean$1=function(e){return getConstructor$1(e)===Boolean},isFunction$1=function(e){return getConstructor$1(e)===Function},isArray$1=function(e){return Array.isArray(e)},isNodeList$1=function(e){return instanceOf$1(e,NodeList)},isElement$1=function(e){return instanceOf$1(e,Element)},isEvent$1=function(e){return instanceOf$1(e,Event)},isEmpty$1=function(e){return isNullOrUndefined$1(e)||(isString$1(e)||isArray$1(e)||isNodeList$1(e))&&!e.length||isObject$1(e)&&!Object.keys(e).length},is$1={nullOrUndefined:isNullOrUndefined$1,object:isObject$1,number:isNumber$1,string:isString$1,boolean:isBoolean$1,function:isFunction$1,array:isArray$1,nodeList:isNodeList$1,element:isElement$1,event:isEvent$1,empty:isEmpty$1};function getDecimalPlaces(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}function round(e,t){if(1>t){var r=getDecimalPlaces(t);return parseFloat(e.toFixed(r))}return Math.round(e/t)*t}var RangeTouch=function(){function e(t,r){_classCallCheck(this,e),is$1.element(t)?this.element=t:is$1.string(t)&&(this.element=document.querySelector(t)),is$1.element(this.element)&&is$1.empty(this.element.rangeTouch)&&(this.config=_objectSpread2$1({},defaults$1,{},r),this.init())}return _createClass(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(t){var r=this,i=t?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(n){r.element[i](n,function(s){return r.set(s)},!1)})}},{key:"get",value:function(t){if(!e.enabled||!is$1.event(t))return null;var r,i=t.target,n=t.changedTouches[0],s=parseFloat(i.getAttribute("min"))||0,a=parseFloat(i.getAttribute("max"))||100,o=parseFloat(i.getAttribute("step"))||1,l=i.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(r=100/l.width*(n.clientX-l.left))?r=0:100<r&&(r=100),50>r?r-=(100-2*r)*c:50<r&&(r+=2*(r-50)*c),s+round(r/100*(a-s),o)}},{key:"set",value:function(t){e.enabled&&is$1.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),trigger(t.target,t.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},i=null;if(is$1.empty(t)||is$1.string(t)?i=Array.from(document.querySelectorAll(is$1.string(t)?t:'input[type="range"]')):is$1.element(t)?i=[t]:is$1.nodeList(t)?i=Array.from(t):is$1.array(t)&&(i=t.filter(is$1.element)),is$1.empty(i))return null;var n=_objectSpread2$1({},defaults$1,{},r);if(is$1.string(t)&&n.watch){var s=new MutationObserver(function(a){Array.from(a).forEach(function(o){Array.from(o.addedNodes).forEach(function(l){is$1.element(l)&&matches$1(l,t)&&new e(l,n)})})});s.observe(document.body,{childList:!0,subtree:!0})}return i.map(function(a){return new e(a,r)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const getConstructor=e=>e!=null?e.constructor:null,instanceOf=(e,t)=>!!(e&&t&&e instanceof t),isNullOrUndefined=e=>e==null,isObject=e=>getConstructor(e)===Object,isNumber=e=>getConstructor(e)===Number&&!Number.isNaN(e),isString=e=>getConstructor(e)===String,isBoolean=e=>getConstructor(e)===Boolean,isFunction=e=>typeof e=="function",isArray=e=>Array.isArray(e),isWeakMap=e=>instanceOf(e,WeakMap),isNodeList=e=>instanceOf(e,NodeList),isTextNode=e=>getConstructor(e)===Text,isEvent=e=>instanceOf(e,Event),isKeyboardEvent=e=>instanceOf(e,KeyboardEvent),isCue=e=>instanceOf(e,window.TextTrackCue)||instanceOf(e,window.VTTCue),isTrack=e=>instanceOf(e,TextTrack)||!isNullOrUndefined(e)&&isString(e.kind),isPromise=e=>instanceOf(e,Promise)&&isFunction(e.then),isElement=e=>e!==null&&typeof e=="object"&&e.nodeType===1&&typeof e.style=="object"&&typeof e.ownerDocument=="object",isEmpty=e=>isNullOrUndefined(e)||(isString(e)||isArray(e)||isNodeList(e))&&!e.length||isObject(e)&&!Object.keys(e).length,isUrl=e=>{if(instanceOf(e,window.URL))return!0;if(!isString(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!isEmpty(new URL(t).hostname)}catch{return!1}};var is={nullOrUndefined:isNullOrUndefined,object:isObject,number:isNumber,string:isString,boolean:isBoolean,function:isFunction,array:isArray,weakMap:isWeakMap,nodeList:isNodeList,element:isElement,textNode:isTextNode,event:isEvent,keyboardEvent:isKeyboardEvent,cue:isCue,track:isTrack,promise:isPromise,url:isUrl,empty:isEmpty};const transitionEndEvent=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},r=Object.keys(t).find(i=>e.style[i]!==void 0);return!!is.string(r)&&t[r]})();function repaint(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch{}},t)}const isIE=!!window.document.documentMode,isEdge=/Edge/g.test(navigator.userAgent),isWebKit="WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone=/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,isIos=/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1;var browser={isIE,isEdge,isWebKit,isIPhone,isIPadOS,isIos};function cloneDeep(e){return JSON.parse(JSON.stringify(e))}function getDeep(e,t){return t.split(".").reduce((r,i)=>r&&r[i],e)}function extend(e={},...t){if(!t.length)return e;const r=t.shift();return is.object(r)?(Object.keys(r).forEach(i=>{is.object(r[i])?(Object.keys(e).includes(i)||Object.assign(e,{[i]:{}}),extend(e[i],r[i])):Object.assign(e,{[i]:r[i]})}),extend(e,...t)):e}function wrap(e,t){const r=e.length?e:[e];Array.from(r).reverse().forEach((i,n)=>{const s=n>0?t.cloneNode(!0):t,a=i.parentNode,o=i.nextSibling;s.appendChild(i),o?a.insertBefore(s,o):a.appendChild(s)})}function setAttributes(e,t){is.element(e)&&!is.empty(t)&&Object.entries(t).filter(([,r])=>!is.nullOrUndefined(r)).forEach(([r,i])=>e.setAttribute(r,i))}function createElement(e,t,r){const i=document.createElement(e);return is.object(t)&&setAttributes(i,t),is.string(r)&&(i.innerText=r),i}function insertAfter(e,t){is.element(e)&&is.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function insertElement(e,t,r,i){is.element(t)&&t.appendChild(createElement(e,r,i))}function removeElement(e){is.nodeList(e)||is.array(e)?Array.from(e).forEach(removeElement):is.element(e)&&is.element(e.parentNode)&&e.parentNode.removeChild(e)}function emptyElement(e){if(!is.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function replaceElement(e,t){return is.element(t)&&is.element(t.parentNode)&&is.element(e)?(t.parentNode.replaceChild(e,t),e):null}function getAttributesFromSelector(e,t){if(!is.string(e)||is.empty(e))return{};const r={},i=extend({},t);return e.split(",").forEach(n=>{const s=n.trim(),a=s.replace(".",""),o=s.replace(/[[\]]/g,"").split("="),[l]=o,c=o.length>1?o[1].replace(/["']/g,""):"";switch(s.charAt(0)){case".":is.string(i.class)?r.class=`${i.class} ${a}`:r.class=a;break;case"#":r.id=s.replace("#","");break;case"[":r[l]=c}}),extend(i,r)}function toggleHidden(e,t){if(!is.element(e))return;let r=t;is.boolean(r)||(r=!e.hidden),e.hidden=r}function toggleClass(e,t,r){if(is.nodeList(e))return Array.from(e).map(i=>toggleClass(i,t,r));if(is.element(e)){let i="toggle";return r!==void 0&&(i=r?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function hasClass(e,t){return is.element(e)&&e.classList.contains(t)}function matches(e,t){const{prototype:r}=Element;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function closest$1(e,t){const{prototype:r}=Element;return(r.closest||function(){let i=this;do{if(matches.matches(i,t))return i;i=i.parentElement||i.parentNode}while(i!==null&&i.nodeType===1);return null}).call(e,t)}function getElements(e){return this.elements.container.querySelectorAll(e)}function getElement(e){return this.elements.container.querySelector(e)}function setFocus(e=null,t=!1){is.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const defaultCodecs={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},support={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const r=support[e]||t!=="html5";return{api:r,ui:r&&support.rangeInput}},pip:!(browser.isIPhone||!is.function(createElement("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||createElement("video").disablePictureInPicture)),airplay:is.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(is.empty(e))return!1;const[t]=e.split("/");let r=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(defaultCodecs).includes(r)&&(r+=`; codecs="${defaultCodecs[e]}"`);try{return!!(r&&this.media.canPlayType(r).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range",e.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:transitionEndEvent!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},supportsPassiveListeners=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})();function toggleListener(e,t,r,i=!1,n=!0,s=!1){if(!e||!("addEventListener"in e)||is.empty(t)||!is.function(r))return;const a=t.split(" ");let o=s;supportsPassiveListeners&&(o={passive:n,capture:s}),a.forEach(l=>{this&&this.eventListeners&&i&&this.eventListeners.push({element:e,type:l,callback:r,options:o}),e[i?"addEventListener":"removeEventListener"](l,r,o)})}function on(e,t="",r,i=!0,n=!1){toggleListener.call(this,e,t,r,!0,i,n)}function off(e,t="",r,i=!0,n=!1){toggleListener.call(this,e,t,r,!1,i,n)}function once(e,t="",r,i=!0,n=!1){const s=(...a)=>{off(e,t,s,i,n),r.apply(this,a)};toggleListener.call(this,e,t,s,!0,i,n)}function triggerEvent(e,t="",r=!1,i={}){if(!is.element(e)||is.empty(t))return;const n=new CustomEvent(t,{bubbles:r,detail:{...i,plyr:this}});e.dispatchEvent(n)}function unbindListeners(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{const{element:t,type:r,callback:i,options:n}=e;t.removeEventListener(r,i,n)}),this.eventListeners=[])}function ready(){return new Promise(e=>this.ready?setTimeout(e,0):on.call(this,this.elements.container,"ready",e)).then(()=>{})}function silencePromise(e){is.promise(e)&&e.then(null,()=>{})}function dedupe(e){return is.array(e)?e.filter((t,r)=>e.indexOf(t)===r):e}function closest(e,t){return is.array(e)&&e.length?e.reduce((r,i)=>Math.abs(i-t)<Math.abs(r-t)?i:r):null}function supportsCSS(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const standardRatios=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,r])=>({...e,[t/r]:[t,r]}),{});function validateAspectRatio(e){return!!(is.array(e)||is.string(e)&&e.includes(":"))&&(is.array(e)?e:e.split(":")).map(Number).every(is.number)}function reduceAspectRatio(e){if(!is.array(e)||!e.every(is.number))return null;const[t,r]=e,i=(s,a)=>a===0?s:i(a,s%a),n=i(t,r);return[t/n,r/n]}function getAspectRatio(e){const t=i=>validateAspectRatio(i)?i.split(":").map(Number):null;let r=t(e);if(r===null&&(r=t(this.config.ratio)),r===null&&!is.empty(this.embed)&&is.array(this.embed.ratio)&&({ratio:r}=this.embed),r===null&&this.isHTML5){const{videoWidth:i,videoHeight:n}=this.media;r=[i,n]}return reduceAspectRatio(r)}function setAspectRatio(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,r=getAspectRatio.call(this,e);if(!is.array(r))return{};const[i,n]=reduceAspectRatio(r),s=100/i*n;if(supportsCSS(`aspect-ratio: ${i}/${n}`)?t.style.aspectRatio=`${i}/${n}`:t.style.paddingBottom=`${s}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const a=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),o=(a-s)/(a/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${o}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:s,ratio:r}}function roundAspectRatio(e,t,r=.05){const i=e/t,n=closest(Object.keys(standardRatios),i);return Math.abs(n-i)<=r?standardRatios[n]:[e,t]}function getViewportSize(){return[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)]}const html5={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{const t=e.getAttribute("type");return!!is.empty(t)||support.mime.call(this,t)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:html5.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,is.empty(this.config.ratio)||setAspectRatio.call(e),Object.defineProperty(e.media,"quality",{get(){const t=html5.getSources.call(e).find(r=>r.getAttribute("src")===e.source);return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&is.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const r=html5.getSources.call(e).find(l=>Number(l.getAttribute("size"))===t);if(!r)return;const{currentTime:i,paused:n,preload:s,readyState:a,playbackRate:o}=e.media;e.media.src=r.getAttribute("src"),(s!=="none"||a)&&(e.once("loadedmetadata",()=>{e.speed=o,e.currentTime=i,n||silencePromise(e.play())}),e.media.load())}triggerEvent.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(removeElement(html5.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function generateId(e){return`${e}-${Math.floor(1e4*Math.random())}`}function format(e,...t){return is.empty(e)?e:e.toString().replace(/{(\d+)}/g,(r,i)=>t[i].toString())}function getPercentage(e,t){return e===0||t===0||Number.isNaN(e)||Number.isNaN(t)?0:(e/t*100).toFixed(2)}const replaceAll=(e="",t="",r="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),r.toString()),toTitleCase=(e="")=>e.toString().replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());function toPascalCase(e=""){let t=e.toString();return t=replaceAll(t,"-"," "),t=replaceAll(t,"_"," "),t=toTitleCase(t),replaceAll(t," ","")}function toCamelCase(e=""){let t=e.toString();return t=toPascalCase(t),t.charAt(0).toLowerCase()+t.slice(1)}function stripHTML(e){const t=document.createDocumentFragment(),r=document.createElement("div");return t.appendChild(r),r.innerHTML=e,t.firstChild.innerText}function getHTML(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const resources={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},i18n={get(e="",t={}){if(is.empty(e)||is.empty(t))return"";let r=getDeep(t.i18n,e);if(is.empty(r))return Object.keys(resources).includes(e)?resources[e]:"";const i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach(([n,s])=>{r=replaceAll(r,n,s)}),r}};class Storage{constructor(t){_defineProperty$1(this,"get",r=>{if(!Storage.supported||!this.enabled)return null;const i=window.localStorage.getItem(this.key);if(is.empty(i))return null;const n=JSON.parse(i);return is.string(r)&&r.length?n[r]:n}),_defineProperty$1(this,"set",r=>{if(!Storage.supported||!this.enabled||!is.object(r))return;let i=this.get();is.empty(i)&&(i={}),extend(i,r);try{window.localStorage.setItem(this.key,JSON.stringify(i))}catch{}}),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const t="___test";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}}function fetch$1(e,t="text"){return new Promise((r,i)=>{try{const n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",()=>{if(t==="text")try{r(JSON.parse(n.responseText))}catch{r(n.responseText)}else r(n.response)}),n.addEventListener("error",()=>{throw new Error(n.status)}),n.open("GET",e,!0),n.responseType=t,n.send()}catch(n){i(n)}})}function loadSprite(e,t){if(!is.string(e))return;const r="cache",i=is.string(t);let n=!1;const s=()=>document.getElementById(t)!==null,a=(o,l)=>{o.innerHTML=l,i&&s()||document.body.insertAdjacentElement("afterbegin",o)};if(!i||!s()){const o=Storage.supported,l=document.createElement("div");if(l.setAttribute("hidden",""),i&&l.setAttribute("id",t),o){const c=window.localStorage.getItem(`${r}-${t}`);if(n=c!==null,n){const u=JSON.parse(c);a(l,u.content)}}fetch$1(e).then(c=>{if(!is.empty(c)){if(o)try{window.localStorage.setItem(`${r}-${t}`,JSON.stringify({content:c}))}catch{}a(l,c)}}).catch(()=>{})}}const getHours=e=>Math.trunc(e/60/60%60,10),getMinutes=e=>Math.trunc(e/60%60,10),getSeconds=e=>Math.trunc(e%60,10);function formatTime(e=0,t=!1,r=!1){if(!is.number(e))return formatTime(void 0,t,r);const i=o=>`0${o}`.slice(-2);let n=getHours(e);const s=getMinutes(e),a=getSeconds(e);return n=t||n>0?`${n}:`:"",`${r&&e>0?"-":""}${n}${i(s)}:${i(a)}`}const controls={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,r=e.host!==t||browser.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:r}},findElements(){try{return this.elements.controls=getElement.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:getElements.call(this,this.config.selectors.buttons.play),pause:getElement.call(this,this.config.selectors.buttons.pause),restart:getElement.call(this,this.config.selectors.buttons.restart),rewind:getElement.call(this,this.config.selectors.buttons.rewind),fastForward:getElement.call(this,this.config.selectors.buttons.fastForward),mute:getElement.call(this,this.config.selectors.buttons.mute),pip:getElement.call(this,this.config.selectors.buttons.pip),airplay:getElement.call(this,this.config.selectors.buttons.airplay),settings:getElement.call(this,this.config.selectors.buttons.settings),captions:getElement.call(this,this.config.selectors.buttons.captions),fullscreen:getElement.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=getElement.call(this,this.config.selectors.progress),this.elements.inputs={seek:getElement.call(this,this.config.selectors.inputs.seek),volume:getElement.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:getElement.call(this,this.config.selectors.display.buffer),currentTime:getElement.call(this,this.config.selectors.display.currentTime),duration:getElement.call(this,this.config.selectors.display.duration)},is.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const r="http://www.w3.org/2000/svg",i=controls.getIconUrl.call(this),n=`${i.cors?"":i.url}#${this.config.iconPrefix}`,s=document.createElementNS(r,"svg");setAttributes(s,extend(t,{"aria-hidden":"true",focusable:"false"}));const a=document.createElementNS(r,"use"),o=`${n}-${e}`;return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",o),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),s.appendChild(a),s},createLabel(e,t={}){const r=i18n.get(e,this.config);return createElement("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},r)},createBadge(e){if(is.empty(e))return null;const t=createElement("span",{class:this.config.classNames.menu.value});return t.appendChild(createElement("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const r=extend({},t);let i=toCamelCase(e);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(a=>{Object.keys(r).includes(a)&&(n[a]=r[a],delete r[a])}),n.element!=="button"||Object.keys(r).includes("type")||(r.type="button"),Object.keys(r).includes("class")?r.class.split(" ").some(a=>a===this.config.classNames.control)||extend(r,{class:`${r.class} ${this.config.classNames.control}`}):r.class=this.config.classNames.control,e){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":r.class+=` ${this.config.classNames.control}--overlaid`,i="play",n.label="play",n.icon="play";break;default:is.empty(n.label)&&(n.label=i),is.empty(n.icon)&&(n.icon=e)}const s=createElement(n.element);return n.toggle?(s.appendChild(controls.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),s.appendChild(controls.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),s.appendChild(controls.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),s.appendChild(controls.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(s.appendChild(controls.createIcon.call(this,n.icon)),s.appendChild(controls.createLabel.call(this,n.label))),extend(r,getAttributesFromSelector(this.config.selectors.buttons[i],r)),setAttributes(s,r),i==="play"?(is.array(this.elements.buttons[i])||(this.elements.buttons[i]=[]),this.elements.buttons[i].push(s)):this.elements.buttons[i]=s,s},createRange(e,t){const r=createElement("input",extend(getAttributesFromSelector(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":i18n.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=r,controls.updateRangeFill.call(this,r),RangeTouch.setup(r),r},createProgress(e,t){const r=createElement("progress",extend(getAttributesFromSelector(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if(e!=="volume"){r.appendChild(createElement("span",null,"0"));const i={played:"played",buffer:"buffered"}[e],n=i?i18n.get(i,this.config):"";r.innerText=`% ${n.toLowerCase()}`}return this.elements.display[e]=r,r},createTime(e,t){const r=getAttributesFromSelector(this.config.selectors.display[e],t),i=createElement("div",extend(r,{class:`${r.class?r.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":i18n.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts(e,t){on.call(this,e,"keydown keyup",r=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(r.key)||(r.preventDefault(),r.stopPropagation(),r.type==="keydown"))return;const i=matches(e,'[role="menuitemradio"]');if(!i&&[" ","ArrowRight"].includes(r.key))controls.showMenuPanel.call(this,t,!0);else{let n;r.key!==" "&&(r.key==="ArrowDown"||i&&r.key==="ArrowRight"?(n=e.nextElementSibling,is.element(n)||(n=e.parentNode.firstElementChild)):(n=e.previousElementSibling,is.element(n)||(n=e.parentNode.lastElementChild)),setFocus.call(this,n,!0))}},!1),on.call(this,e,"keyup",r=>{r.key==="Return"&&controls.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:t,type:r,title:i,badge:n=null,checked:s=!1}){const a=getAttributesFromSelector(this.config.selectors.inputs[r]),o=createElement("button",extend(a,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${a.class?a.class:""}`.trim(),"aria-checked":s,value:e})),l=createElement("span");l.innerHTML=i,is.element(n)&&l.appendChild(n),o.appendChild(l),Object.defineProperty(o,"checked",{enumerable:!0,get:()=>o.getAttribute("aria-checked")==="true",set(c){c&&Array.from(o.parentNode.children).filter(u=>matches(u,'[role="menuitemradio"]')).forEach(u=>u.setAttribute("aria-checked","false")),o.setAttribute("aria-checked",c?"true":"false")}}),this.listeners.bind(o,"click keyup",c=>{if(!is.keyboardEvent(c)||c.key===" "){switch(c.preventDefault(),c.stopPropagation(),o.checked=!0,r){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}controls.showMenuPanel.call(this,"home",is.keyboardEvent(c))}},r,!1),controls.bindMenuItemShortcuts.call(this,o,r),t.appendChild(o)},formatTime(e=0,t=!1){return is.number(e)?formatTime(e,getHours(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,r=!1){is.element(e)&&is.number(t)&&(e.innerText=controls.formatTime(t,r))},updateVolume(){this.supported.ui&&(is.element(this.elements.inputs.volume)&&controls.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),is.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e,t=0){is.element(e)&&(e.value=t,controls.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!is.event(e))return;let t=0;const r=(i,n)=>{const s=is.number(n)?n:0,a=is.element(i)?i:this.elements.display.buffer;if(is.element(a)){a.value=s;const o=a.getElementsByTagName("span")[0];is.element(o)&&(o.childNodes[0].nodeValue=s)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=getPercentage(this.currentTime,this.duration),e.type==="timeupdate"&&controls.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":r(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){const t=is.event(e)?e.target:e;if(is.element(t)&&t.getAttribute("type")==="range"){if(matches(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const r=controls.formatTime(this.currentTime),i=controls.formatTime(this.duration),n=i18n.get("seekLabel",this.config);t.setAttribute("aria-valuetext",n.replace("{currentTime}",r).replace("{duration}",i))}else if(matches(t,this.config.selectors.inputs.volume)){const r=100*t.value;t.setAttribute("aria-valuenow",r),t.setAttribute("aria-valuetext",`${r.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(browser.isWebKit||browser.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,r;if(!this.config.tooltips.seek||!is.element(this.elements.inputs.seek)||!is.element(this.elements.display.seekTooltip)||this.duration===0)return;const i=this.elements.display.seekTooltip,n=`${this.config.classNames.tooltip}--visible`,s=u=>toggleClass(i,n,u);if(this.touch)return void s(!1);let a=0;const o=this.elements.progress.getBoundingClientRect();if(is.event(e))a=100/o.width*(e.pageX-o.left);else{if(!hasClass(i,n))return;a=parseFloat(i.style.left,10)}a<0?a=0:a>100&&(a=100);const l=this.duration/100*a;i.innerText=controls.formatTime(l);const c=(t=this.config.markers)===null||t===void 0||(r=t.points)===null||r===void 0?void 0:r.find(({time:u})=>u===Math.round(l));c&&i.insertAdjacentHTML("afterbegin",`${c.label}<br>`),i.style.left=`${a}%`,is.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&s(e.type==="mouseenter")},timeUpdate(e){const t=!is.element(this.elements.display.duration)&&this.config.invertTime;controls.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&e.type==="timeupdate"&&this.media.seeking||controls.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return toggleHidden(this.elements.display.currentTime,!0),void toggleHidden(this.elements.progress,!0);is.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=is.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&controls.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&controls.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&controls.setMarkers.call(this),controls.updateSeekTooltip.call(this)},toggleMenuButton(e,t){toggleHidden(this.elements.settings.buttons[e],!t)},updateSetting(e,t,r){const i=this.elements.settings.panels[e];let n=null,s=t;if(e==="captions")n=this.currentTrack;else{if(n=is.empty(r)?this[e]:r,is.empty(n)&&(n=this.config[e].default),!is.empty(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${e}`);if(!this.config[e].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${e}`)}if(is.element(s)||(s=i&&i.querySelector('[role="menu"]')),!is.element(s))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=controls.getLabel.call(this,e,n);const a=s&&s.querySelector(`[value="${n}"]`);is.element(a)&&(a.checked=!0)},getLabel(e,t){switch(e){case"speed":return t===1?i18n.get("normal",this.config):`${t}&times;`;case"quality":if(is.number(t)){const r=i18n.get(`qualityLabel.${t}`,this.config);return r.length?r:`${t}p`}return toTitleCase(t);case"captions":return captions.getLabel.call(this);default:return null}},setQualityMenu(e){if(!is.element(this.elements.settings.panels.quality))return;const t="quality",r=this.elements.settings.panels.quality.querySelector('[role="menu"]');is.array(e)&&(this.options.quality=dedupe(e).filter(s=>this.config.quality.options.includes(s)));const i=!is.empty(this.options.quality)&&this.options.quality.length>1;if(controls.toggleMenuButton.call(this,t,i),emptyElement(r),controls.checkMenu.call(this),!i)return;const n=s=>{const a=i18n.get(`qualityBadge.${s}`,this.config);return a.length?controls.createBadge.call(this,a):null};this.options.quality.sort((s,a)=>{const o=this.config.quality.options;return o.indexOf(s)>o.indexOf(a)?1:-1}).forEach(s=>{controls.createMenuItem.call(this,{value:s,list:r,type:t,title:controls.getLabel.call(this,"quality",s),badge:n(s)})}),controls.updateSetting.call(this,t,r)},setCaptionsMenu(){if(!is.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),r=captions.getTracks.call(this),i=!!r.length;if(controls.toggleMenuButton.call(this,e,i),emptyElement(t),controls.checkMenu.call(this),!i)return;const n=r.map((s,a)=>({value:a,checked:this.captions.toggled&&this.currentTrack===a,title:captions.getLabel.call(this,s),badge:s.language&&controls.createBadge.call(this,s.language.toUpperCase()),list:t,type:"language"}));n.unshift({value:-1,checked:!this.captions.toggled,title:i18n.get("disabled",this.config),list:t,type:"language"}),n.forEach(controls.createMenuItem.bind(this)),controls.updateSetting.call(this,e,t)},setSpeedMenu(){if(!is.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(i=>i>=this.minimumSpeed&&i<=this.maximumSpeed);const r=!is.empty(this.options.speed)&&this.options.speed.length>1;controls.toggleMenuButton.call(this,e,r),emptyElement(t),controls.checkMenu.call(this),r&&(this.options.speed.forEach(i=>{controls.createMenuItem.call(this,{value:i,list:t,type:e,title:controls.getLabel.call(this,"speed",i)})}),controls.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!is.empty(e)&&Object.values(e).some(r=>!r.hidden);toggleHidden(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let r=e;is.element(r)||(r=Object.values(this.elements.settings.panels).find(n=>!n.hidden));const i=r.querySelector('[role^="menuitem"]');setFocus.call(this,i,t)},toggleMenu(e){const{popup:t}=this.elements.settings,r=this.elements.buttons.settings;if(!is.element(t)||!is.element(r))return;const{hidden:i}=t;let n=i;if(is.boolean(e))n=e;else if(is.keyboardEvent(e)&&e.key==="Escape")n=!1;else if(is.event(e)){const s=is.function(e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(s);if(a||!a&&e.target!==r&&n)return}r.setAttribute("aria-expanded",n),toggleHidden(t,!n),toggleClass(this.elements.container,this.config.classNames.menu.open,n),n&&is.keyboardEvent(e)?controls.focusFirstMenuItem.call(this,null,!0):n||i||setFocus.call(this,r,is.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const r=t.scrollWidth,i=t.scrollHeight;return removeElement(t),{width:r,height:i}},showMenuPanel(e="",t=!1){const r=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!is.element(r))return;const i=r.parentNode,n=Array.from(i.children).find(s=>!s.hidden);if(support.transitions&&!support.reducedMotion){i.style.width=`${n.scrollWidth}px`,i.style.height=`${n.scrollHeight}px`;const s=controls.getMenuSize.call(this,r),a=o=>{o.target===i&&["width","height"].includes(o.propertyName)&&(i.style.width="",i.style.height="",off.call(this,i,transitionEndEvent,a))};on.call(this,i,transitionEndEvent,a),i.style.width=`${s.width}px`,i.style.height=`${s.height}px`}toggleHidden(n,!0),toggleHidden(r,!1),controls.focusFirstMenuItem.call(this,r,t)},setDownloadUrl(){const e=this.elements.buttons.download;is.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:r,createProgress:i,createRange:n,createTime:s,setQualityMenu:a,setSpeedMenu:o,showMenuPanel:l}=controls;this.elements.controls=null,is.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(r.call(this,"play-large"));const c=createElement("div",getAttributesFromSelector(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return dedupe(is.array(this.config.controls)?this.config.controls:[]).forEach(h=>{if(h==="restart"&&c.appendChild(r.call(this,"restart",u)),h==="rewind"&&c.appendChild(r.call(this,"rewind",u)),h==="play"&&c.appendChild(r.call(this,"play",u)),h==="fast-forward"&&c.appendChild(r.call(this,"fast-forward",u)),h==="progress"){const d=createElement("div",{class:`${u.class} plyr__progress__container`}),p=createElement("div",getAttributesFromSelector(this.config.selectors.progress));if(p.appendChild(n.call(this,"seek",{id:`plyr-seek-${e.id}`})),p.appendChild(i.call(this,"buffer")),this.config.tooltips.seek){const m=createElement("span",{class:this.config.classNames.tooltip},"00:00");p.appendChild(m),this.elements.display.seekTooltip=m}this.elements.progress=p,d.appendChild(this.elements.progress),c.appendChild(d)}if(h==="current-time"&&c.appendChild(s.call(this,"currentTime",u)),h==="duration"&&c.appendChild(s.call(this,"duration",u)),h==="mute"||h==="volume"){let{volume:d}=this.elements;if(is.element(d)&&c.contains(d)||(d=createElement("div",extend({},u,{class:`${u.class} plyr__volume`.trim()})),this.elements.volume=d,c.appendChild(d)),h==="mute"&&d.appendChild(r.call(this,"mute")),h==="volume"&&!browser.isIos&&!browser.isIPadOS){const p={max:1,step:.05,value:this.config.volume};d.appendChild(n.call(this,"volume",extend(p,{id:`plyr-volume-${e.id}`})))}}if(h==="captions"&&c.appendChild(r.call(this,"captions",u)),h==="settings"&&!is.empty(this.config.settings)){const d=createElement("div",extend({},u,{class:`${u.class} plyr__menu`.trim(),hidden:""}));d.appendChild(r.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const p=createElement("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),m=createElement("div"),g=createElement("div",{id:`plyr-settings-${e.id}-home`}),f=createElement("div",{role:"menu"});g.appendChild(f),m.appendChild(g),this.elements.settings.panels.home=g,this.config.settings.forEach(y=>{const v=createElement("button",extend(getAttributesFromSelector(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,v,y),on.call(this,v,"click",()=>{l.call(this,y,!1)});const b=createElement("span",null,i18n.get(y,this.config)),k=createElement("span",{class:this.config.classNames.menu.value});k.innerHTML=e[y],b.appendChild(k),v.appendChild(b),f.appendChild(v);const E=createElement("div",{id:`plyr-settings-${e.id}-${y}`,hidden:""}),x=createElement("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});x.appendChild(createElement("span",{"aria-hidden":!0},i18n.get(y,this.config))),x.appendChild(createElement("span",{class:this.config.classNames.hidden},i18n.get("menuBack",this.config))),on.call(this,E,"keydown",S=>{S.key==="ArrowLeft"&&(S.preventDefault(),S.stopPropagation(),l.call(this,"home",!0))},!1),on.call(this,x,"click",()=>{l.call(this,"home",!1)}),E.appendChild(x),E.appendChild(createElement("div",{role:"menu"})),m.appendChild(E),this.elements.settings.buttons[y]=v,this.elements.settings.panels[y]=E}),p.appendChild(m),d.appendChild(p),c.appendChild(d),this.elements.settings.popup=p,this.elements.settings.menu=d}if(h==="pip"&&support.pip&&c.appendChild(r.call(this,"pip",u)),h==="airplay"&&support.airplay&&c.appendChild(r.call(this,"airplay",u)),h==="download"){const d=extend({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(d.download="");const{download:p}=this.config.urls;!is.url(p)&&this.isEmbed&&extend(d,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(r.call(this,"download",d))}h==="fullscreen"&&c.appendChild(r.call(this,"fullscreen",u))}),this.isHTML5&&a.call(this,html5.getQualityOptions.call(this)),o.call(this),c},inject(){if(this.config.loadSprite){const n=controls.getIconUrl.call(this);n.cors&&loadSprite(n.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let r,i=!0;if(is.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),is.element(this.config.controls)||is.string(this.config.controls)?e=this.config.controls:(e=controls.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:captions.getLabel.call(this)}),i=!1),i&&is.string(this.config.controls)&&(e=(n=>{let s=n;return Object.entries(t).forEach(([a,o])=>{s=replaceAll(s,`{${a}}`,o)}),s})(e)),is.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),is.element(r)||(r=this.elements.container),r[is.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),is.element(this.elements.controls)||controls.findElements.call(this),!is.empty(this.elements.buttons)){const n=s=>{const a=this.config.classNames.controlPressed;s.setAttribute("aria-pressed","false"),Object.defineProperty(s,"pressed",{configurable:!0,enumerable:!0,get:()=>hasClass(s,a),set(o=!1){toggleClass(s,a,o),s.setAttribute("aria-pressed",o?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(s=>{is.array(s)||is.nodeList(s)?Array.from(s).filter(Boolean).forEach(n):n(s)})}if(browser.isEdge&&repaint(r),this.config.tooltips.controls){const{classNames:n,selectors:s}=this.config,a=`${s.controls.wrapper} ${s.labels} .${n.hidden}`,o=getElements.call(this,a);Array.from(o).forEach(l=>{toggleClass(l,this.config.classNames.hidden,!1),toggleClass(l,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch{}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const r=(e=this.config.markers)===null||e===void 0||(t=e.points)===null||t===void 0?void 0:t.filter(({time:l})=>l>0&&l<this.duration);if(r==null||!r.length)return;const i=document.createDocumentFragment(),n=document.createDocumentFragment();let s=null;const a=`${this.config.classNames.tooltip}--visible`,o=l=>toggleClass(s,a,l);r.forEach(l=>{const c=createElement("span",{class:this.config.classNames.marker},""),u=l.time/this.duration*100+"%";s&&(c.addEventListener("mouseenter",()=>{l.label||(s.style.left=u,s.innerHTML=l.label,o(!0))}),c.addEventListener("mouseleave",()=>{o(!1)})),c.addEventListener("click",()=>{this.currentTime=l.time}),c.style.left=u,n.appendChild(c)}),i.appendChild(n),this.config.tooltips.seek||(s=createElement("span",{class:this.config.classNames.tooltip},""),i.appendChild(s)),this.elements.markers={points:n,tip:s},this.elements.progress.appendChild(i)}};function parseUrl(e,t=!0){let r=e;if(t){const i=document.createElement("a");i.href=r,r=i.href}try{return new URL(r)}catch{return null}}function buildUrlParams(e){const t=new URLSearchParams;return is.object(e)&&Object.entries(e).forEach(([r,i])=>{t.set(r,i)}),t}const captions={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!support.textTracks)return void(is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&controls.setCaptionsMenu.call(this));if(is.element(this.elements.captions)||(this.elements.captions=createElement("div",getAttributesFromSelector(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),insertAfter(this.elements.captions,this.elements.wrapper)),browser.isIE&&window.URL){const i=this.media.querySelectorAll("track");Array.from(i).forEach(n=>{const s=n.getAttribute("src"),a=parseUrl(s);a!==null&&a.hostname!==window.location.href.hostname&&["http:","https:"].includes(a.protocol)&&fetch$1(s,"blob").then(o=>{n.setAttribute("src",window.URL.createObjectURL(o))}).catch(()=>{removeElement(n)})})}const e=dedupe((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(i=>i.split("-")[0]));let t=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();t==="auto"&&([t]=e);let r=this.storage.get("captions");if(is.boolean(r)||({active:r}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:r,language:t,languages:e}),this.isHTML5){const i=this.config.captions.update?"addtrack removetrack":"removetrack";on.call(this,this.media.textTracks,i,captions.update.bind(this))}setTimeout(captions.update.bind(this),0)},update(){const e=captions.getTracks.call(this,!0),{active:t,language:r,meta:i,currentTrackNode:n}=this.captions,s=!!e.find(a=>a.language===r);this.isHTML5&&this.isVideo&&e.filter(a=>!i.get(a)).forEach(a=>{this.debug.log("Track added",a),i.set(a,{default:a.mode==="showing"}),a.mode==="showing"&&(a.mode="hidden"),on.call(this,a,"cuechange",()=>captions.updateCues.call(this))}),(s&&this.language!==r||!e.includes(n))&&(captions.setLanguage.call(this,r),captions.toggle.call(this,t&&s)),this.elements&&toggleClass(this.elements.container,this.config.classNames.captions.enabled,!is.empty(e)),is.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&controls.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:r}=this.captions,i=this.config.classNames.captions.active,n=is.nullOrUndefined(e)?!r:e;if(n!==r){if(t||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!t){const s=captions.getTracks.call(this),a=captions.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=a.language,void captions.set.call(this,s.indexOf(a))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),toggleClass(this.elements.container,i,n),this.captions.toggled=n,controls.updateSetting.call(this,"captions"),triggerEvent.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout(()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){const r=captions.getTracks.call(this);if(e!==-1)if(is.number(e))if(e in r){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const i=r[e],{language:n}=i||{};this.captions.currentTrackNode=i,controls.updateSetting.call(this,"captions"),t||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),triggerEvent.call(this,this.media,"languagechange")}captions.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&captions.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else captions.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!is.string(e))return void this.debug.warn("Invalid language argument",e);const r=e.toLowerCase();this.captions.language=r;const i=captions.getTracks.call(this),n=captions.findTrack.call(this,[r]);captions.set.call(this,i.indexOf(n),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(t=>!this.isHTML5||e||this.captions.meta.has(t)).filter(t=>["captions","subtitles"].includes(t.kind))},findTrack(e,t=!1){const r=captions.getTracks.call(this),i=a=>Number((this.captions.meta.get(a)||{}).default),n=Array.from(r).sort((a,o)=>i(o)-i(a));let s;return e.every(a=>(s=n.find(o=>o.language===a),!s)),s||(t?n[0]:void 0)},getCurrentTrack(){return captions.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!is.track(t)&&support.textTracks&&this.captions.toggled&&(t=captions.getCurrentTrack.call(this)),is.track(t)?is.empty(t.label)?is.empty(t.language)?i18n.get("enabled",this.config):e.language.toUpperCase():t.label:i18n.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!is.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!is.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const i=captions.getCurrentTrack.call(this);t=Array.from((i||{}).activeCues||[]).map(n=>n.getCueAsHTML()).map(getHTML)}const r=t.map(i=>i.trim()).join(`
`);if(r!==this.elements.captions.innerHTML){emptyElement(this.elements.captions);const i=createElement("span",getAttributesFromSelector(this.config.selectors.caption));i.innerHTML=r,this.elements.captions.appendChild(i),triggerEvent.call(this,this.media,"cuechange")}}},defaults={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},pip={active:"picture-in-picture",inactive:"inline"},providers={html5:"html5",youtube:"youtube",vimeo:"vimeo"},types={audio:"audio",video:"video"};function getProviderByUrl(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?providers.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?providers.vimeo:null}const noop=()=>{};class Console{constructor(t=!1){this.enabled=window.console&&t,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):noop}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):noop}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):noop}}class Fullscreen{constructor(t){_defineProperty$1(this,"onChange",()=>{if(!this.supported)return;const r=this.player.elements.buttons.fullscreen;is.element(r)&&(r.pressed=this.active);const i=this.target===this.player.media?this.target:this.player.elements.container;triggerEvent.call(this.player,i,this.active?"enterfullscreen":"exitfullscreen",!0)}),_defineProperty$1(this,"toggleFallback",(r=!1)=>{if(r?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=r?"hidden":"",toggleClass(this.target,this.player.config.classNames.fullscreen.fallback,r),browser.isIos){let i=document.head.querySelector('meta[name="viewport"]');const n="viewport-fit=cover";i||(i=document.createElement("meta"),i.setAttribute("name","viewport"));const s=is.string(i.content)&&i.content.includes(n);r?(this.cleanupViewport=!s,s||(i.content+=`,${n}`)):this.cleanupViewport&&(i.content=i.content.split(",").filter(a=>a.trim()!==n).join(","))}this.onChange()}),_defineProperty$1(this,"trapFocus",r=>{if(browser.isIos||browser.isIPadOS||!this.active||r.key!=="Tab")return;const i=document.activeElement,n=getElements.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=n,a=n[n.length-1];i!==a||r.shiftKey?i===s&&r.shiftKey&&(a.focus(),r.preventDefault()):(s.focus(),r.preventDefault())}),_defineProperty$1(this,"update",()=>{if(this.supported){let r;r=this.forceFallback?"Fallback (forced)":Fullscreen.nativeSupported?"Native":"Fallback",this.player.debug.log(`${r} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");toggleClass(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),_defineProperty$1(this,"enter",()=>{this.supported&&(browser.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Fullscreen.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?is.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),_defineProperty$1(this,"exit",()=>{if(this.supported)if(browser.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),silencePromise(this.player.play());else if(!Fullscreen.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!is.empty(this.prefix)){const r=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${r}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),_defineProperty$1(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=t,this.prefix=Fullscreen.prefix,this.property=Fullscreen.property,this.scrollPosition={x:0,y:0},this.forceFallback=t.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t.config.fullscreen.container&&closest$1(this.player.elements.container,t.config.fullscreen.container),on.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),on.call(this.player,this.player.elements.container,"dblclick",r=>{is.element(this.player.elements.controls)&&this.player.elements.controls.contains(r.target)||this.player.listeners.proxy(r,this.toggle,"fullscreen")}),on.call(this,this.player.elements.container,"keydown",r=>this.trapFocus(r)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Fullscreen.nativeSupported&&!this.forceFallback}static get prefix(){if(is.function(document.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(r=>!(!is.function(document[`${r}ExitFullscreen`])&&!is.function(document[`${r}CancelFullScreen`])||(t=r,0))),t}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Fullscreen.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Fullscreen.nativeSupported||!browser.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Fullscreen.nativeSupported||this.forceFallback)return hasClass(this.target,this.player.config.classNames.fullscreen.fallback);const t=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return t&&t.shadowRoot?t===this.target.getRootNode().host:t===this.target}get target(){return browser.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function loadImage(e,t=1){return new Promise((r,i)=>{const n=new Image,s=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=t?r:i)(n)};Object.assign(n,{onload:s,onerror:s,src:e})})}const ui={addStyleHook(){toggleClass(this.elements.container,this.config.selectors.container.replace(".",""),!0),toggleClass(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void ui.toggleNativeControls.call(this,!0);is.element(this.elements.controls)||(controls.inject.call(this),this.listeners.controls()),ui.toggleNativeControls.call(this),this.isHTML5&&captions.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,controls.updateVolume.call(this),controls.timeUpdate.call(this),controls.durationUpdate.call(this),ui.checkPlaying.call(this),toggleClass(this.elements.container,this.config.classNames.pip.supported,support.pip&&this.isHTML5&&this.isVideo),toggleClass(this.elements.container,this.config.classNames.airplay.supported,support.airplay&&this.isHTML5),toggleClass(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{triggerEvent.call(this,this.media,"ready")},0),ui.setTitle.call(this),this.poster&&ui.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&controls.durationUpdate.call(this),this.config.mediaMetadata&&controls.setMediaMetadata.call(this)},setTitle(){let e=i18n.get("play",this.config);if(is.string(this.config.title)&&!is.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(t=>{t.setAttribute("aria-label",e)}),this.isEmbed){const t=getElement.call(this,"iframe");if(!is.element(t))return;const r=is.empty(this.config.title)?"video":this.config.title,i=i18n.get("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",r))}},togglePoster(e){toggleClass(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),ready.call(this).then(()=>loadImage(e)).catch(r=>{throw e===this.poster&&ui.togglePoster.call(this,!1),r}).then(()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),ui.togglePoster.call(this,!0),e)))},checkPlaying(e){toggleClass(this.elements.container,this.config.classNames.playing,this.playing),toggleClass(this.elements.container,this.config.classNames.paused,this.paused),toggleClass(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(t=>{Object.assign(t,{pressed:this.playing}),t.setAttribute("aria-label",i18n.get(this.playing?"pause":"play",this.config))}),is.event(e)&&e.type==="timeupdate"||ui.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{toggleClass(this.elements.container,this.config.classNames.loading,this.loading),ui.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const r=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e||this.loading||this.paused||t.pressed||t.hover||r))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!is.empty(e)&&is.string(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),is.empty(this.media.style)&&this.media.removeAttribute("style")}};class Listeners{constructor(t){_defineProperty$1(this,"firstTouch",()=>{const{player:r}=this,{elements:i}=r;r.touch=!0,toggleClass(i.container,r.config.classNames.isTouch,!0)}),_defineProperty$1(this,"global",(r=!0)=>{const{player:i}=this;i.config.keyboard.global&&toggleListener.call(i,window,"keydown keyup",this.handleKey,r,!1),toggleListener.call(i,document.body,"click",this.toggleMenu,r),once.call(i,document.body,"touchstart",this.firstTouch)}),_defineProperty$1(this,"container",()=>{const{player:r}=this,{config:i,elements:n,timers:s}=r;!i.keyboard.global&&i.keyboard.focused&&on.call(r,n.container,"keydown keyup",this.handleKey,!1),on.call(r,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",l=>{const{controls:c}=n;c&&l.type==="enterfullscreen"&&(c.pressed=!1,c.hover=!1);let u=0;["touchstart","touchmove","mousemove"].includes(l.type)&&(ui.toggleControls.call(r,!0),u=r.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout(()=>ui.toggleControls.call(r,!1),u)});const a=()=>{if(!r.isVimeo||r.config.vimeo.premium)return;const l=n.wrapper,{active:c}=r.fullscreen,[u,h]=getAspectRatio.call(r),d=supportsCSS(`aspect-ratio: ${u} / ${h}`);if(!c)return void(d?(l.style.width=null,l.style.height=null):(l.style.maxWidth=null,l.style.margin=null));const[p,m]=getViewportSize(),g=p/m>u/h;d?(l.style.width=g?"auto":"100%",l.style.height=g?"100%":"auto"):(l.style.maxWidth=g?m/h*u+"px":null,l.style.margin=g?"0 auto":null)},o=()=>{clearTimeout(s.resized),s.resized=setTimeout(a,50)};on.call(r,n.container,"enterfullscreen exitfullscreen",l=>{const{target:c}=r.fullscreen;c===n.container&&(!r.isEmbed&&is.empty(r.config.ratio)||(a(),(l.type==="enterfullscreen"?on:off).call(r,window,"resize",o)))})}),_defineProperty$1(this,"media",()=>{const{player:r}=this,{elements:i}=r;if(on.call(r,r.media,"timeupdate seeking seeked",s=>controls.timeUpdate.call(r,s)),on.call(r,r.media,"durationchange loadeddata loadedmetadata",s=>controls.durationUpdate.call(r,s)),on.call(r,r.media,"ended",()=>{r.isHTML5&&r.isVideo&&r.config.resetOnEnd&&(r.restart(),r.pause())}),on.call(r,r.media,"progress playing seeking seeked",s=>controls.updateProgress.call(r,s)),on.call(r,r.media,"volumechange",s=>controls.updateVolume.call(r,s)),on.call(r,r.media,"playing play pause ended emptied timeupdate",s=>ui.checkPlaying.call(r,s)),on.call(r,r.media,"waiting canplay seeked playing",s=>ui.checkLoading.call(r,s)),r.supported.ui&&r.config.clickToPlay&&!r.isAudio){const s=getElement.call(r,`.${r.config.classNames.video}`);if(!is.element(s))return;on.call(r,i.container,"click",a=>{([i.container,s].includes(a.target)||s.contains(a.target))&&(r.touch&&r.config.hideControls||(r.ended?(this.proxy(a,r.restart,"restart"),this.proxy(a,()=>{silencePromise(r.play())},"play")):this.proxy(a,()=>{silencePromise(r.togglePlay())},"play")))})}r.supported.ui&&r.config.disableContextMenu&&on.call(r,i.wrapper,"contextmenu",s=>{s.preventDefault()},!1),on.call(r,r.media,"volumechange",()=>{r.storage.set({volume:r.volume,muted:r.muted})}),on.call(r,r.media,"ratechange",()=>{controls.updateSetting.call(r,"speed"),r.storage.set({speed:r.speed})}),on.call(r,r.media,"qualitychange",s=>{controls.updateSetting.call(r,"quality",null,s.detail.quality)}),on.call(r,r.media,"ready qualitychange",()=>{controls.setDownloadUrl.call(r)});const n=r.config.events.concat(["keyup","keydown"]).join(" ");on.call(r,r.media,n,s=>{let{detail:a={}}=s;s.type==="error"&&(a=r.media.error),triggerEvent.call(r,i.container,s.type,!0,a)})}),_defineProperty$1(this,"proxy",(r,i,n)=>{const{player:s}=this,a=s.config.listeners[n];let o=!0;is.function(a)&&(o=a.call(s,r)),o!==!1&&is.function(i)&&i.call(s,r)}),_defineProperty$1(this,"bind",(r,i,n,s,a=!0)=>{const{player:o}=this,l=o.config.listeners[s],c=is.function(l);on.call(o,r,i,u=>this.proxy(u,n,s),a&&!c)}),_defineProperty$1(this,"controls",()=>{const{player:r}=this,{elements:i}=r,n=browser.isIE?"change":"input";if(i.buttons.play&&Array.from(i.buttons.play).forEach(s=>{this.bind(s,"click",()=>{silencePromise(r.togglePlay())},"play")}),this.bind(i.buttons.restart,"click",r.restart,"restart"),this.bind(i.buttons.rewind,"click",()=>{r.lastSeekTime=Date.now(),r.rewind()},"rewind"),this.bind(i.buttons.fastForward,"click",()=>{r.lastSeekTime=Date.now(),r.forward()},"fastForward"),this.bind(i.buttons.mute,"click",()=>{r.muted=!r.muted},"mute"),this.bind(i.buttons.captions,"click",()=>r.toggleCaptions()),this.bind(i.buttons.download,"click",()=>{triggerEvent.call(r,r.media,"download")},"download"),this.bind(i.buttons.fullscreen,"click",()=>{r.fullscreen.toggle()},"fullscreen"),this.bind(i.buttons.pip,"click",()=>{r.pip="toggle"},"pip"),this.bind(i.buttons.airplay,"click",r.airplay,"airplay"),this.bind(i.buttons.settings,"click",s=>{s.stopPropagation(),s.preventDefault(),controls.toggleMenu.call(r,s)},null,!1),this.bind(i.buttons.settings,"keyup",s=>{[" ","Enter"].includes(s.key)&&(s.key!=="Enter"?(s.preventDefault(),s.stopPropagation(),controls.toggleMenu.call(r,s)):controls.focusFirstMenuItem.call(r,null,!0))},null,!1),this.bind(i.settings.menu,"keydown",s=>{s.key==="Escape"&&controls.toggleMenu.call(r,s)}),this.bind(i.inputs.seek,"mousedown mousemove",s=>{const a=i.progress.getBoundingClientRect(),o=100/a.width*(s.pageX-a.left);s.currentTarget.setAttribute("seek-value",o)}),this.bind(i.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",s=>{const a=s.currentTarget,o="play-on-seeked";if(is.keyboardEvent(s)&&!["ArrowLeft","ArrowRight"].includes(s.key))return;r.lastSeekTime=Date.now();const l=a.hasAttribute(o),c=["mouseup","touchend","keyup"].includes(s.type);l&&c?(a.removeAttribute(o),silencePromise(r.play())):!c&&r.playing&&(a.setAttribute(o,""),r.pause())}),browser.isIos){const s=getElements.call(r,'input[type="range"]');Array.from(s).forEach(a=>this.bind(a,n,o=>repaint(o.target)))}this.bind(i.inputs.seek,n,s=>{const a=s.currentTarget;let o=a.getAttribute("seek-value");is.empty(o)&&(o=a.value),a.removeAttribute("seek-value"),r.currentTime=o/a.max*r.duration},"seek"),this.bind(i.progress,"mouseenter mouseleave mousemove",s=>controls.updateSeekTooltip.call(r,s)),this.bind(i.progress,"mousemove touchmove",s=>{const{previewThumbnails:a}=r;a&&a.loaded&&a.startMove(s)}),this.bind(i.progress,"mouseleave touchend click",()=>{const{previewThumbnails:s}=r;s&&s.loaded&&s.endMove(!1,!0)}),this.bind(i.progress,"mousedown touchstart",s=>{const{previewThumbnails:a}=r;a&&a.loaded&&a.startScrubbing(s)}),this.bind(i.progress,"mouseup touchend",s=>{const{previewThumbnails:a}=r;a&&a.loaded&&a.endScrubbing(s)}),browser.isWebKit&&Array.from(getElements.call(r,'input[type="range"]')).forEach(s=>{this.bind(s,"input",a=>controls.updateRangeFill.call(r,a.target))}),r.config.toggleInvert&&!is.element(i.display.duration)&&this.bind(i.display.currentTime,"click",()=>{r.currentTime!==0&&(r.config.invertTime=!r.config.invertTime,controls.timeUpdate.call(r))}),this.bind(i.inputs.volume,n,s=>{r.volume=s.target.value},"volume"),this.bind(i.controls,"mouseenter mouseleave",s=>{i.controls.hover=!r.touch&&s.type==="mouseenter"}),i.fullscreen&&Array.from(i.fullscreen.children).filter(s=>!s.contains(i.container)).forEach(s=>{this.bind(s,"mouseenter mouseleave",a=>{i.controls&&(i.controls.hover=!r.touch&&a.type==="mouseenter")})}),this.bind(i.controls,"mousedown mouseup touchstart touchend touchcancel",s=>{i.controls.pressed=["mousedown","touchstart"].includes(s.type)}),this.bind(i.controls,"focusin",()=>{const{config:s,timers:a}=r;toggleClass(i.controls,s.classNames.noTransition,!0),ui.toggleControls.call(r,!0),setTimeout(()=>{toggleClass(i.controls,s.classNames.noTransition,!1)},0);const o=this.touch?3e3:4e3;clearTimeout(a.controls),a.controls=setTimeout(()=>ui.toggleControls.call(r,!1),o)}),this.bind(i.inputs.volume,"wheel",s=>{const a=s.webkitDirectionInvertedFromDevice,[o,l]=[s.deltaX,-s.deltaY].map(h=>a?-h:h),c=Math.sign(Math.abs(o)>Math.abs(l)?o:l);r.increaseVolume(c/50);const{volume:u}=r.media;(c===1&&u<1||c===-1&&u>0)&&s.preventDefault()},"volume",!1)}),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(t){const{player:r}=this,{elements:i}=r,{key:n,type:s,altKey:a,ctrlKey:o,metaKey:l,shiftKey:c}=t,u=s==="keydown",h=u&&n===this.lastKey;var d;if(!(a||o||l||c)&&n)if(u){const p=document.activeElement;if(is.element(p)){const{editable:m}=r.config.selectors,{seek:g}=i.inputs;if(p!==g&&matches(p,m)||t.key===" "&&matches(p,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(n)&&(t.preventDefault(),t.stopPropagation()),n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":h||(d=parseInt(n,10),r.currentTime=r.duration/10*d);break;case" ":case"k":h||silencePromise(r.togglePlay());break;case"ArrowUp":r.increaseVolume(.1);break;case"ArrowDown":r.decreaseVolume(.1);break;case"m":h||(r.muted=!r.muted);break;case"ArrowRight":r.forward();break;case"ArrowLeft":r.rewind();break;case"f":r.fullscreen.toggle();break;case"c":h||r.toggleCaptions();break;case"l":r.loop=!r.loop}n==="Escape"&&!r.fullscreen.usingNative&&r.fullscreen.active&&r.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}toggleMenu(t){controls.toggleMenu.call(this.player,t)}}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var loadjs_umd=createCommonjsModule(function(e,t){e.exports=function(){var r=function(){},i={},n={},s={};function a(h,d){if(h){var p=s[h];if(n[h]=d,p)for(;p.length;)p[0](h,d),p.splice(0,1)}}function o(h,d){h.call&&(h={success:h}),d.length?(h.error||r)(d):(h.success||r)(h)}function l(h,d,p,m){var g,f,y=document,v=p.async,b=(p.numRetries||0)+1,k=p.before||r,E=h.replace(/[\?|#].*$/,""),x=h.replace(/^(css|img)!/,"");m=m||0,/(^css!|\.css$)/.test(E)?((f=y.createElement("link")).rel="stylesheet",f.href=x,(g="hideFocus"in f)&&f.relList&&(g=0,f.rel="preload",f.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(E)?(f=y.createElement("img")).src=x:((f=y.createElement("script")).src=h,f.async=v===void 0||v),f.onload=f.onerror=f.onbeforeload=function(S){var C=S.type[0];if(g)try{f.sheet.cssText.length||(C="e")}catch(w){w.code!=18&&(C="e")}if(C=="e"){if((m+=1)<b)return l(h,d,p,m)}else if(f.rel=="preload"&&f.as=="style")return f.rel="stylesheet";d(h,C,S.defaultPrevented)},k(h,f)!==!1&&y.head.appendChild(f)}function c(h,d,p){var m,g,f=(h=h.push?h:[h]).length,y=f,v=[];for(m=function(b,k,E){if(k=="e"&&v.push(b),k=="b"){if(!E)return;v.push(b)}--f||d(v)},g=0;g<y;g++)l(h[g],m,p)}function u(h,d,p){var m,g;if(d&&d.trim&&(m=d),g=(m?p:d)||{},m){if(m in i)throw"LoadJS";i[m]=!0}function f(y,v){c(h,function(b){o(g,b),y&&o({success:y,error:v},b),a(m,b)},g)}if(g.returnPromise)return new Promise(f);f()}return u.ready=function(h,d){return function(p,m){p=p.push?p:[p];var g,f,y,v=[],b=p.length,k=b;for(g=function(E,x){x.length&&v.push(E),--k||m(v)};b--;)f=p[b],(y=n[f])?g(f,y):(s[f]=s[f]||[]).push(g)}(h,function(p){o(d,p)}),u},u.done=function(h){a(h,[])},u.reset=function(){i={},n={},s={}},u.isDefined=function(h){return h in i},u}()});function loadScript(e){return new Promise((t,r)=>{loadjs_umd(e,{success:t,error:r})})}function parseId$1(e){return is.empty(e)?null:is.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e}function parseHash(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&t.length===5?t[4]:null}function assurePlaybackState$1(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,triggerEvent.call(this,this.media,e?"play":"pause"))}const vimeo={setup(){const e=this;toggleClass(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,setAspectRatio.call(e),is.object(window.Vimeo)?vimeo.ready.call(e):loadScript(e.config.urls.vimeo.sdk).then(()=>{vimeo.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){const e=this,t=e.config.vimeo,{premium:r,referrerPolicy:i,...n}=t;let s=e.media.getAttribute("src"),a="";is.empty(s)?(s=e.media.getAttribute(e.config.attributes.embed.id),a=e.media.getAttribute(e.config.attributes.embed.hash)):a=parseHash(s);const o=a?{h:a}:{};r&&Object.assign(n,{controls:!1,sidedock:!1});const l=buildUrlParams({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...o,...n}),c=parseId$1(s),u=createElement("iframe"),h=format(e.config.urls.vimeo.iframe,c,l);if(u.setAttribute("src",h),u.setAttribute("allowfullscreen",""),u.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),is.empty(i)||u.setAttribute("referrerPolicy",i),r||!t.customControls)u.setAttribute("data-poster",e.poster),e.media=replaceElement(u,e.media);else{const v=createElement("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});v.appendChild(u),e.media=replaceElement(v,e.media)}t.customControls||fetch$1(format(e.config.urls.vimeo.api,h)).then(v=>{!is.empty(v)&&v.thumbnail_url&&ui.setPoster.call(e,v.thumbnail_url).catch(()=>{})}),e.embed=new window.Vimeo.Player(u,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(assurePlaybackState$1.call(e,!0),e.embed.play()),e.media.pause=()=>(assurePlaybackState$1.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:d}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>d,set(v){const{embed:b,media:k,paused:E,volume:x}=e,S=E&&!b.hasPlayed;k.seeking=!0,triggerEvent.call(e,k,"seeking"),Promise.resolve(S&&b.setVolume(0)).then(()=>b.setCurrentTime(v)).then(()=>S&&b.pause()).then(()=>S&&b.setVolume(x)).catch(()=>{})}});let p=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>p,set(v){e.embed.setPlaybackRate(v).then(()=>{p=v,triggerEvent.call(e,e.media,"ratechange")}).catch(()=>{e.options.speed=[1]})}});let{volume:m}=e.config;Object.defineProperty(e.media,"volume",{get:()=>m,set(v){e.embed.setVolume(v).then(()=>{m=v,triggerEvent.call(e,e.media,"volumechange")})}});let{muted:g}=e.config;Object.defineProperty(e.media,"muted",{get:()=>g,set(v){const b=!!is.boolean(v)&&v;e.embed.setMuted(!!b||e.config.muted).then(()=>{g=b,triggerEvent.call(e,e.media,"volumechange")})}});let f,{loop:y}=e.config;Object.defineProperty(e.media,"loop",{get:()=>y,set(v){const b=is.boolean(v)?v:e.config.loop.active;e.embed.setLoop(b).then(()=>{y=b})}}),e.embed.getVideoUrl().then(v=>{f=v,controls.setDownloadUrl.call(e)}).catch(v=>{this.debug.warn(v)}),Object.defineProperty(e.media,"currentSrc",{get:()=>f}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(v=>{const[b,k]=v;e.embed.ratio=roundAspectRatio(b,k),setAspectRatio.call(this)}),e.embed.setAutopause(e.config.autopause).then(v=>{e.config.autopause=v}),e.embed.getVideoTitle().then(v=>{e.config.title=v,ui.setTitle.call(this)}),e.embed.getCurrentTime().then(v=>{d=v,triggerEvent.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(v=>{e.media.duration=v,triggerEvent.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(v=>{e.media.textTracks=v,captions.setup.call(e)}),e.embed.on("cuechange",({cues:v=[]})=>{const b=v.map(k=>stripHTML(k.text));captions.updateCues.call(e,b)}),e.embed.on("loaded",()=>{e.embed.getPaused().then(v=>{assurePlaybackState$1.call(e,!v),v||triggerEvent.call(e,e.media,"playing")}),is.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("bufferstart",()=>{triggerEvent.call(e,e.media,"waiting")}),e.embed.on("bufferend",()=>{triggerEvent.call(e,e.media,"playing")}),e.embed.on("play",()=>{assurePlaybackState$1.call(e,!0),triggerEvent.call(e,e.media,"playing")}),e.embed.on("pause",()=>{assurePlaybackState$1.call(e,!1)}),e.embed.on("timeupdate",v=>{e.media.seeking=!1,d=v.seconds,triggerEvent.call(e,e.media,"timeupdate")}),e.embed.on("progress",v=>{e.media.buffered=v.percent,triggerEvent.call(e,e.media,"progress"),parseInt(v.percent,10)===1&&triggerEvent.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(b=>{b!==e.media.duration&&(e.media.duration=b,triggerEvent.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",()=>{e.media.seeking=!1,triggerEvent.call(e,e.media,"seeked")}),e.embed.on("ended",()=>{e.media.paused=!0,triggerEvent.call(e,e.media,"ended")}),e.embed.on("error",v=>{e.media.error=v,triggerEvent.call(e,e.media,"error")}),t.customControls&&setTimeout(()=>ui.build.call(e),0)}};function parseId(e){return is.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e}function assurePlaybackState(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,triggerEvent.call(this,this.media,e?"play":"pause"))}function getHost(e){return e.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const youtube={setup(){if(toggleClass(this.elements.wrapper,this.config.classNames.embed,!0),is.object(window.YT)&&is.function(window.YT.Player))youtube.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{is.function(e)&&e(),youtube.ready.call(this)},loadScript(this.config.urls.youtube.sdk).catch(t=>{this.debug.warn("YouTube API failed to load",t)})}},getTitle(e){fetch$1(format(this.config.urls.youtube.api,e)).then(t=>{if(is.object(t)){const{title:r,height:i,width:n}=t;this.config.title=r,ui.setTitle.call(this),this.embed.ratio=roundAspectRatio(n,i)}setAspectRatio.call(this)}).catch(()=>{setAspectRatio.call(this)})},ready(){const e=this,t=e.config.youtube,r=e.media&&e.media.getAttribute("id");if(!is.empty(r)&&r.startsWith("youtube-"))return;let i=e.media.getAttribute("src");is.empty(i)&&(i=e.media.getAttribute(this.config.attributes.embed.id));const n=parseId(i),s=createElement("div",{id:generateId(e.provider),"data-poster":t.customControls?e.poster:void 0});if(e.media=replaceElement(s,e.media),t.customControls){const a=o=>`https://i.ytimg.com/vi/${n}/${o}default.jpg`;loadImage(a("maxres"),121).catch(()=>loadImage(a("sd"),121)).catch(()=>loadImage(a("hq"))).then(o=>ui.setPoster.call(e,o.src)).then(o=>{o.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e.embed=new window.YT.Player(e.media,{videoId:n,host:getHost(t),playerVars:extend({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(a){if(!e.media.error){const o=a.data,l={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[o]||"An unknown error occurred";e.media.error={code:o,message:l},triggerEvent.call(e,e.media,"error")}},onPlaybackRateChange(a){const o=a.target;e.media.playbackRate=o.getPlaybackRate(),triggerEvent.call(e,e.media,"ratechange")},onReady(a){if(is.function(e.media.play))return;const o=a.target;youtube.getTitle.call(e,n),e.media.play=()=>{assurePlaybackState.call(e,!0),o.playVideo()},e.media.pause=()=>{assurePlaybackState.call(e,!1),o.pauseVideo()},e.media.stop=()=>{o.stopVideo()},e.media.duration=o.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(o.getCurrentTime()),set(h){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,triggerEvent.call(e,e.media,"seeking"),o.seekTo(h)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>o.getPlaybackRate(),set(h){o.setPlaybackRate(h)}});let{volume:l}=e.config;Object.defineProperty(e.media,"volume",{get:()=>l,set(h){l=h,o.setVolume(100*l),triggerEvent.call(e,e.media,"volumechange")}});let{muted:c}=e.config;Object.defineProperty(e.media,"muted",{get:()=>c,set(h){const d=is.boolean(h)?h:c;c=d,o[d?"mute":"unMute"](),o.setVolume(100*l),triggerEvent.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>o.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const u=o.getAvailablePlaybackRates();e.options.speed=u.filter(h=>e.config.speed.options.includes(h)),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),triggerEvent.call(e,e.media,"timeupdate"),triggerEvent.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(()=>{e.media.buffered=o.getVideoLoadedFraction(),(e.media.lastBuffered===null||e.media.lastBuffered<e.media.buffered)&&triggerEvent.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,e.media.buffered===1&&(clearInterval(e.timers.buffering),triggerEvent.call(e,e.media,"canplaythrough"))},200),t.customControls&&setTimeout(()=>ui.build.call(e),50)},onStateChange(a){const o=a.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(a.data)&&(e.media.seeking=!1,triggerEvent.call(e,e.media,"seeked")),a.data){case-1:triggerEvent.call(e,e.media,"timeupdate"),e.media.buffered=o.getVideoLoadedFraction(),triggerEvent.call(e,e.media,"progress");break;case 0:assurePlaybackState.call(e,!1),e.media.loop?(o.stopVideo(),o.playVideo()):triggerEvent.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(assurePlaybackState.call(e,!0),triggerEvent.call(e,e.media,"playing"),e.timers.playing=setInterval(()=>{triggerEvent.call(e,e.media,"timeupdate")},50),e.media.duration!==o.getDuration()&&(e.media.duration=o.getDuration(),triggerEvent.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),assurePlaybackState.call(e,!1);break;case 3:triggerEvent.call(e,e.media,"waiting")}triggerEvent.call(e,e.elements.container,"statechange",!1,{code:a.data})}}})}},media={setup(){this.media?(toggleClass(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),toggleClass(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&toggleClass(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=createElement("div",{class:this.config.classNames.video}),wrap(this.media,this.elements.wrapper),this.elements.poster=createElement("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?html5.setup.call(this):this.isYouTube?youtube.setup.call(this):this.isVimeo&&vimeo.setup.call(this)):this.debug.warn("No media element found!")}};class Ads{constructor(t){_defineProperty$1(this,"load",()=>{this.enabled&&(is.object(window.google)&&is.object(window.google.ima)?this.ready():loadScript(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),_defineProperty$1(this,"ready",()=>{var r;this.enabled||((r=this).manager&&r.manager.destroy(),r.elements.displayContainer&&r.elements.displayContainer.destroy(),r.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),_defineProperty$1(this,"setupIMA",()=>{this.elements.container=createElement("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r=>this.onAdsManagerLoaded(r),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r=>this.onAdError(r),!1),this.requestAds()}),_defineProperty$1(this,"requestAds",()=>{const{container:r}=this.player.elements;try{const i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=r.offsetWidth,i.linearAdSlotHeight=r.offsetHeight,i.nonLinearAdSlotWidth=r.offsetWidth,i.nonLinearAdSlotHeight=r.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(i){this.onAdError(i)}}),_defineProperty$1(this,"pollCountdown",(r=!1)=>{if(!r)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const i=formatTime(Math.max(this.manager.getRemainingTime(),0)),n=`${i18n.get("advertisement",this.player.config)} - ${i}`;this.elements.container.setAttribute("data-badge-text",n)},100)}),_defineProperty$1(this,"onAdsManagerLoaded",r=>{if(!this.enabled)return;const i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,this.manager=r.getAdsManager(this.player,i),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,n=>this.onAdError(n)),Object.keys(google.ima.AdEvent.Type).forEach(n=>{this.manager.addEventListener(google.ima.AdEvent.Type[n],s=>this.onAdEvent(s))}),this.trigger("loaded")}),_defineProperty$1(this,"addCuePoints",()=>{is.empty(this.cuePoints)||this.cuePoints.forEach(r=>{if(r!==0&&r!==-1&&r<this.player.duration){const i=this.player.elements.progress;if(is.element(i)){const n=100/this.player.duration*r,s=createElement("span",{class:this.player.config.classNames.cues});s.style.left=`${n.toString()}%`,i.appendChild(s)}}})}),_defineProperty$1(this,"onAdEvent",r=>{const{container:i}=this.player.elements,n=r.getAd(),s=r.getAdData();switch((a=>{triggerEvent.call(this.player,this.player.media,`ads${a.replace(/_/g,"").toLowerCase()}`)})(r.type),r.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),n.isLinear()||(n.width=i.offsetWidth,n.height=i.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}}),_defineProperty$1(this,"onAdError",r=>{this.cancel(),this.player.debug.warn("Ads error",r)}),_defineProperty$1(this,"listeners",()=>{const{container:r}=this.player.elements;let i;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{i=this.player.currentTime}),this.player.on("seeked",()=>{const n=this.player.currentTime;is.empty(this.cuePoints)||this.cuePoints.forEach((s,a)=>{i<s&&s<n&&(this.manager.discardAdBreak(),this.cuePoints.splice(a,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(r.offsetWidth,r.offsetHeight,google.ima.ViewMode.NORMAL)})}),_defineProperty$1(this,"play",()=>{const{container:r}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(r.offsetWidth,r.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(i){this.onAdError(i)}}).catch(()=>{})}),_defineProperty$1(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,silencePromise(this.player.media.play())}),_defineProperty$1(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),_defineProperty$1(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),_defineProperty$1(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(r=>{this.on("loaded",r),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),_defineProperty$1(this,"trigger",(r,...i)=>{const n=this.events[r];is.array(n)&&n.forEach(s=>{is.function(s)&&s.apply(this,i)})}),_defineProperty$1(this,"on",(r,i)=>(is.array(this.events[r])||(this.events[r]=[]),this.events[r].push(i),this)),_defineProperty$1(this,"startSafetyTimer",(r,i)=>{this.player.debug.log(`Safety timer invoked from: ${i}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},r)}),_defineProperty$1(this,"clearSafetyTimer",r=>{is.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${r}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((r,i)=>{this.on("loaded",r),this.on("error",i)}),this.load()}get enabled(){const{config:t}=this;return this.player.isHTML5&&this.player.isVideo&&t.enabled&&(!is.empty(t.publisherId)||is.url(t.tagUrl))}get tagUrl(){const{config:t}=this;return is.url(t.tagUrl)?t.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${buildUrlParams({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:t.publisherId})}`}}function clamp(e=0,t=0,r=255){return Math.min(Math.max(e,t),r)}const parseVtt=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(r=>{const i={};r.split(/\r\n|\n|\r/).forEach(n=>{if(is.number(i.startTime)){if(!is.empty(n.trim())&&is.empty(i.text)){const s=n.trim().split("#xywh=");[i.text]=s,s[1]&&([i.x,i.y,i.w,i.h]=s[1].split(","))}}else{const s=n.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);s&&(i.startTime=60*Number(s[1]||0)*60+60*Number(s[2])+Number(s[3])+ +`0.${s[4]}`,i.endTime=60*Number(s[6]||0)*60+60*Number(s[7])+Number(s[8])+ +`0.${s[9]}`)}}),i.text&&t.push(i)}),t},fitRatio=(e,t)=>{const r={};return e>t.width/t.height?(r.width=t.width,r.height=1/e*t.width):(r.height=t.height,r.width=e*t.height),r};class PreviewThumbnails{constructor(t){_defineProperty$1(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),_defineProperty$1(this,"getThumbnails",()=>new Promise(r=>{const{src:i}=this.player.config.previewThumbnails;if(is.empty(i))throw new Error("Missing previewThumbnails.src config attribute");const n=()=>{this.thumbnails.sort((s,a)=>s.height-a.height),this.player.debug.log("Preview thumbnails",this.thumbnails),r()};if(is.function(i))i(s=>{this.thumbnails=s,n()});else{const s=(is.string(i)?[i]:i).map(a=>this.getThumbnail(a));Promise.all(s).then(n)}})),_defineProperty$1(this,"getThumbnail",r=>new Promise(i=>{fetch$1(r).then(n=>{const s={frames:parseVtt(n),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=r.substring(0,r.lastIndexOf("/")+1));const a=new Image;a.onload=()=>{s.height=a.naturalHeight,s.width=a.naturalWidth,this.thumbnails.push(s),i()},a.src=s.urlPrefix+s.frames[0].text})})),_defineProperty$1(this,"startMove",r=>{if(this.loaded&&is.event(r)&&["touchmove","mousemove"].includes(r.type)&&this.player.media.duration){if(r.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var i,n;const s=this.player.elements.progress.getBoundingClientRect(),a=100/s.width*(r.pageX-s.left);this.seekTime=this.player.media.duration*(a/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=r.pageX,this.elements.thumb.time.innerText=formatTime(this.seekTime);const o=(i=this.player.config.markers)===null||i===void 0||(n=i.points)===null||n===void 0?void 0:n.find(({time:l})=>l===Math.round(this.seekTime));o&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${o.label}<br>`)}this.showImageAtCurrentTime()}}),_defineProperty$1(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),_defineProperty$1(this,"startScrubbing",r=>{(is.nullOrUndefined(r.button)||r.button===!1||r.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),_defineProperty$1(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):once.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),_defineProperty$1(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),_defineProperty$1(this,"render",()=>{this.elements.thumb.container=createElement("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=createElement("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const r=createElement("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=createElement("span",{},"00:00"),r.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(r),is.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=createElement("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),_defineProperty$1(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),_defineProperty$1(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const r=this.thumbnails[0].frames.findIndex(s=>this.seekTime>=s.startTime&&this.seekTime<=s.endTime),i=r>=0;let n=0;this.mouseDown||this.toggleThumbContainer(i),i&&(this.thumbnails.forEach((s,a)=>{this.loadedImages.includes(s.frames[r].text)&&(n=a)}),r!==this.showingThumb&&(this.showingThumb=r,this.loadImage(n)))}),_defineProperty$1(this,"loadImage",(r=0)=>{const i=this.showingThumb,n=this.thumbnails[r],{urlPrefix:s}=n,a=n.frames[i],o=n.frames[i].text,l=s+o;if(this.currentImageElement&&this.currentImageElement.dataset.filename===o)this.showImage(this.currentImageElement,a,r,i,o,!1),this.currentImageElement.dataset.index=i,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const c=new Image;c.src=l,c.dataset.index=i,c.dataset.filename=o,this.showingThumbFilename=o,this.player.debug.log(`Loading image: ${l}`),c.onload=()=>this.showImage(c,a,r,i,o,!0),this.loadingImage=c,this.removeOldImages(c)}}),_defineProperty$1(this,"showImage",(r,i,n,s,a,o=!0)=>{this.player.debug.log(`Showing thumb: ${a}. num: ${s}. qual: ${n}. newimg: ${o}`),this.setImageSizeAndOffset(r,i),o&&(this.currentImageContainer.appendChild(r),this.currentImageElement=r,this.loadedImages.includes(a)||this.loadedImages.push(a)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(n,r,i,a))}),_defineProperty$1(this,"removeOldImages",r=>{Array.from(this.currentImageContainer.children).forEach(i=>{if(i.tagName.toLowerCase()!=="img")return;const n=this.usingSprites?500:1e3;if(i.dataset.index!==r.dataset.index&&!i.dataset.deleting){i.dataset.deleting=!0;const{currentImageContainer:s}=this;setTimeout(()=>{s.removeChild(i),this.player.debug.log(`Removing thumb: ${i.dataset.filename}`)},n)}})}),_defineProperty$1(this,"preloadNearby",(r,i=!0)=>new Promise(n=>{setTimeout(()=>{const s=this.thumbnails[0].frames[r].text;if(this.showingThumbFilename===s){let a;a=i?this.thumbnails[0].frames.slice(r):this.thumbnails[0].frames.slice(0,r).reverse();let o=!1;a.forEach(l=>{const c=l.text;if(c!==s&&!this.loadedImages.includes(c)){o=!0,this.player.debug.log(`Preloading thumb filename: ${c}`);const{urlPrefix:u}=this.thumbnails[0],h=u+c,d=new Image;d.src=h,d.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${c}`),this.loadedImages.includes(c)||this.loadedImages.push(c),n()}}}),o||n()}},300)})),_defineProperty$1(this,"getHigherQuality",(r,i,n,s)=>{if(r<this.thumbnails.length-1){let a=i.naturalHeight;this.usingSprites&&(a=n.h),a<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(r+1))},300)}}),_defineProperty$1(this,"toggleThumbContainer",(r=!1,i=!1)=>{const n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,r),!r&&i&&(this.showingThumb=null,this.showingThumbFilename=null)}),_defineProperty$1(this,"toggleScrubbingContainer",(r=!1)=>{const i=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(i,r),r||(this.showingThumb=null,this.showingThumbFilename=null)}),_defineProperty$1(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),_defineProperty$1(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:r}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(r.clientHeight>20&&r.clientWidth<20){const i=Math.floor(r.clientHeight*this.thumbAspectRatio);r.style.width=`${i}px`}else if(r.clientHeight<20&&r.clientWidth>20){const i=Math.floor(r.clientWidth/this.thumbAspectRatio);r.style.height=`${i}px`}}else{const i=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);r.style.height=`${this.thumbContainerHeight}px`,r.style.width=`${i}px`}this.setThumbContainerPos()}),_defineProperty$1(this,"setThumbContainerPos",()=>{const r=this.player.elements.progress.getBoundingClientRect(),i=this.player.elements.container.getBoundingClientRect(),{container:n}=this.elements.thumb,s=i.left-r.left+10,a=i.right-r.left-n.clientWidth-10,o=this.mousePosX-r.left-n.clientWidth/2,l=clamp(o,s,a);n.style.left=`${l}px`,n.style.setProperty("--preview-arrow-offset",o-l+"px")}),_defineProperty$1(this,"setScrubbingContainerSize",()=>{const{width:r,height:i}=fitRatio(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${r}px`,this.elements.scrubbing.container.style.height=`${i}px`}),_defineProperty$1(this,"setImageSizeAndOffset",(r,i)=>{if(!this.usingSprites)return;const n=this.thumbContainerHeight/i.h;r.style.height=r.naturalHeight*n+"px",r.style.width=r.naturalWidth*n+"px",r.style.left=`-${i.x*n}px`,r.style.top=`-${i.y*n}px`}),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:t}=fitRatio(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return t}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(t){this.mouseDown?this.currentScrubbingImageElement=t:this.currentThumbnailImageElement=t}}const source={insertElements(e,t){is.string(t)?insertElement(e,this.media,{src:t}):is.array(t)&&t.forEach(r=>{insertElement(e,this.media,r)})},change(e){getDeep(e,"sources.length")?(html5.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],removeElement(this.media),this.media=null,is.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:r}=e,[{provider:i=providers.html5,src:n}]=t,s=i==="html5"?r:"div",a=i==="html5"?{}:{src:n};Object.assign(this,{provider:i,type:r,supported:support.check(r,i,this.config.playsinline),media:createElement(s,a)}),this.elements.container.appendChild(this.media),is.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),is.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),ui.addStyleHook.call(this),this.isHTML5&&source.insertElements.call(this,"source",t),this.config.title=e.title,media.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&source.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ui.build.call(this),this.isHTML5&&this.media.load(),is.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new PreviewThumbnails(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class Plyr{constructor(t,r){if(_defineProperty$1(this,"play",()=>is.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>silencePromise(this.media.play())),this.media.play()):null),_defineProperty$1(this,"pause",()=>this.playing&&is.function(this.media.pause)?this.media.pause():null),_defineProperty$1(this,"togglePlay",o=>(is.boolean(o)?o:!this.playing)?this.play():this.pause()),_defineProperty$1(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):is.function(this.media.stop)&&this.media.stop()}),_defineProperty$1(this,"restart",()=>{this.currentTime=0}),_defineProperty$1(this,"rewind",o=>{this.currentTime-=is.number(o)?o:this.config.seekTime}),_defineProperty$1(this,"forward",o=>{this.currentTime+=is.number(o)?o:this.config.seekTime}),_defineProperty$1(this,"increaseVolume",o=>{const l=this.media.muted?0:this.volume;this.volume=l+(is.number(o)?o:0)}),_defineProperty$1(this,"decreaseVolume",o=>{this.increaseVolume(-o)}),_defineProperty$1(this,"airplay",()=>{support.airplay&&this.media.webkitShowPlaybackTargetPicker()}),_defineProperty$1(this,"toggleControls",o=>{if(this.supported.ui&&!this.isAudio){const l=hasClass(this.elements.container,this.config.classNames.hideControls),c=o===void 0?void 0:!o,u=toggleClass(this.elements.container,this.config.classNames.hideControls,c);if(u&&is.array(this.config.controls)&&this.config.controls.includes("settings")&&!is.empty(this.config.settings)&&controls.toggleMenu.call(this,!1),u!==l){const h=u?"controlshidden":"controlsshown";triggerEvent.call(this,this.media,h)}return!u}return!1}),_defineProperty$1(this,"on",(o,l)=>{on.call(this,this.elements.container,o,l)}),_defineProperty$1(this,"once",(o,l)=>{once.call(this,this.elements.container,o,l)}),_defineProperty$1(this,"off",(o,l)=>{off(this.elements.container,o,l)}),_defineProperty$1(this,"destroy",(o,l=!1)=>{if(!this.ready)return;const c=()=>{document.body.style.overflow="",this.embed=null,l?(Object.keys(this.elements).length&&(removeElement(this.elements.buttons.play),removeElement(this.elements.captions),removeElement(this.elements.controls),removeElement(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),is.function(o)&&o()):(unbindListeners.call(this),html5.cancelRequests.call(this),replaceElement(this.elements.original,this.elements.container),triggerEvent.call(this,this.elements.original,"destroyed",!0),is.function(o)&&o.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(ui.toggleNativeControls.call(this,!0),c()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&is.function(this.embed.destroy)&&this.embed.destroy(),c()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(c),setTimeout(c,200))}),_defineProperty$1(this,"supports",o=>support.mime.call(this,o)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=support.touch,this.media=t,is.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||is.nodeList(this.media)||is.array(this.media))&&(this.media=this.media[0]),this.config=extend({},defaults,Plyr.defaults,r||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Console(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",support),is.nullOrUndefined(this.media)||!is.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!support.check().api)return void this.debug.error("Setup failed: no support");const i=this.media.cloneNode(!0);i.autoplay=!1,this.elements.original=i;const n=this.media.tagName.toLowerCase();let s=null,a=null;switch(n){case"div":if(s=this.media.querySelector("iframe"),is.element(s)){if(a=parseUrl(s.getAttribute("src")),this.provider=getProviderByUrl(a.toString()),this.elements.container=this.media,this.media=s,this.elements.container.className="",a.search.length){const o=["1","true"];o.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),o.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=o.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(is.empty(this.provider)||!Object.values(providers).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=types.video;break;case"video":case"audio":this.type=n,this.provider=providers.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=support.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new Listeners(this),this.storage=new Storage(this),this.media.plyr=this,is.element(this.elements.container)||(this.elements.container=createElement("div"),wrap(this.media,this.elements.container)),ui.migrateStyles.call(this),ui.addStyleHook.call(this),media.setup.call(this),this.config.debug&&on.call(this,this.elements.container,this.config.events.join(" "),o=>{this.debug.log(`event: ${o.type}`)}),this.fullscreen=new Fullscreen(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&ui.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Ads(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>silencePromise(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new PreviewThumbnails(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===providers.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===providers.youtube}get isVimeo(){return this.provider===providers.vimeo}get isVideo(){return this.type===types.video}get isAudio(){return this.type===types.audio}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(t){if(!this.duration)return;const r=is.number(t)&&t>0;this.media.currentTime=r?Math.min(t,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:t}=this.media;return is.number(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const t=parseFloat(this.config.duration),r=(this.media||{}).duration,i=is.number(r)&&r!==1/0?r:0;return t||i}set volume(t){let r=t;is.string(r)&&(r=Number(r)),is.number(r)||(r=this.storage.get("volume")),is.number(r)||({volume:r}=this.config),r>1&&(r=1),r<0&&(r=0),this.config.volume=r,this.media.volume=r,!is.empty(t)&&this.muted&&r>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(t){let r=t;is.boolean(r)||(r=this.storage.get("muted")),is.boolean(r)||(r=this.config.muted),this.config.muted=r,this.media.muted=r}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(t){let r=null;is.number(t)&&(r=t),is.number(r)||(r=this.storage.get("speed")),is.number(r)||(r=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:n}=this;r=clamp(r,i,n),this.config.speed.selected=r,setTimeout(()=>{this.media&&(this.media.playbackRate=r)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(t){const r=this.config.quality,i=this.options.quality;if(!i.length)return;let n=[!is.empty(t)&&Number(t),this.storage.get("quality"),r.selected,r.default].find(is.number),s=!0;if(!i.includes(n)){const a=closest(i,n);this.debug.warn(`Unsupported quality option: ${n}, using ${a} instead`),n=a,s=!1}r.selected=n,this.media.quality=n,s&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(t){const r=is.boolean(t)?t:this.config.loop.active;this.config.loop.active=r,this.media.loop=r}get loop(){return!!this.media.loop}set source(t){source.change.call(this,t)}get source(){return this.media.currentSrc}get download(){const{download:t}=this.config.urls;return is.url(t)?t:this.source}set download(t){is.url(t)&&(this.config.urls.download=t,controls.setDownloadUrl.call(this))}set poster(t){this.isVideo?ui.setPoster.call(this,t,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const t=reduceAspectRatio(getAspectRatio.call(this));return is.array(t)?t.join(":"):t}set ratio(t){this.isVideo?is.string(t)&&validateAspectRatio(t)?(this.config.ratio=reduceAspectRatio(t),setAspectRatio.call(this)):this.debug.error(`Invalid aspect ratio specified (${t})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(t){this.config.autoplay=is.boolean(t)?t:this.config.autoplay}get autoplay(){return!!this.config.autoplay}toggleCaptions(t){captions.toggle.call(this,t,!1)}set currentTrack(t){captions.set.call(this,t,!1),captions.setup.call(this)}get currentTrack(){const{toggled:t,currentTrack:r}=this.captions;return t?r:-1}set language(t){captions.setLanguage.call(this,t,!1)}get language(){return(captions.getCurrentTrack.call(this)||{}).language}set pip(t){if(!support.pip)return;const r=is.boolean(t)?t:!this.pip;is.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(r?pip.active:pip.inactive),is.function(this.media.requestPictureInPicture)&&(!this.pip&&r?this.media.requestPictureInPicture():this.pip&&!r&&document.exitPictureInPicture())}get pip(){return support.pip?is.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===pip.active:null}setPreviewThumbnails(t){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,t),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new PreviewThumbnails(this))}static supported(t,r){return support.check(t,r)}static loadSprite(t,r){return loadSprite(t,r)}static setup(t,r={}){let i=null;return is.string(t)?i=Array.from(document.querySelectorAll(t)):is.nodeList(t)?i=Array.from(t):is.array(t)&&(i=t.filter(is.element)),is.empty(i)?null:i.map(n=>new Plyr(n,r))}}Plyr.defaults=cloneDeep(defaults);const VideoContainer=styled(Box)({width:"100%",borderRadius:"8px",overflow:"hidden",position:"relative",aspectRatio:"16/9",backgroundColor:"#11111C",cursor:"pointer","& .plyr":{width:"100%",height:"100%"},"& .plyr--video":{borderRadius:"8px",overflow:"hidden"},"& .plyr--video .plyr__controls":{background:"rgba(0, 0, 0, 0.3) !important",backdropFilter:"blur(10px) !important",padding:"5px !important",paddingTop:"0px !important"}}),VideoPlayer=({videoUrl:e,poster:t,options:r={}})=>{const i=reactExports.useRef(null),n=reactExports.useRef(null),{themeSettings:s}=reactExports.useContext(ThemeSettingsContext),a=c=>{c.stopPropagation()};reactExports.useEffect(()=>{if(!i.current)return;const c=s?.button_primary_border_color||"#D0BCFF",u={controls:["play-large","play","progress","current-time","mute",.../Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768?[]:["volume"],"settings","captions","fullscreen"],displayDuration:!0,invertTime:!1,toggleInvert:!1,tooltips:{controls:!0,seek:!0},keyboard:{focused:!0,global:!1},autoplay:!1,muted:!1,seekTime:10,volume:1,quality:{default:720,options:[4320,2880,2160,1440,1080,720,576,480,360,240]}};return n.current=new Plyr(i.current,{...u,...r}),(()=>{const h=document.documentElement;h.style.setProperty("--plyr-color-main",c),h.style.setProperty("--plyr-range-fill-background",c),h.style.setProperty("--plyr-range-thumb-background",c),h.style.setProperty("--plyr-range-thumb-shadow",`0 1px 1px rgba(0, 0, 0, .15), 0 0 0 1px rgba(${parseInt(c.slice(1,3),16)}, ${parseInt(c.slice(3,5),16)}, ${parseInt(c.slice(5,7),16)}, .2)`),h.style.setProperty("--plyr-video-control-color","#ffffff"),h.style.setProperty("--plyr-video-control-color-hover",c)})(),()=>{n.current&&n.current.destroy()}},[i,s]);const o=(l=e)?l.includes("youtube.com")||l.includes("youtu.be")?"youtube":l.includes("vimeo.com")?"vimeo":l.endsWith(".mp4")?"video/mp4":l.endsWith(".webm")?"video/webm":l.endsWith(".ogg")||l.endsWith(".ogv")?"video/ogg":"video/mp4":"video/mp4";var l;return o==="youtube"||o==="vimeo"?jsxRuntimeExports.jsx(VideoContainer,{onClick:a,children:jsxRuntimeExports.jsx("div",{ref:i,"data-plyr-provider":o,"data-plyr-embed-id":o==="youtube"?e.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/i)?.[1]:e.match(/vimeo\.com\/(?:.*\/)?([0-9]+)$/i)?.[1]})}):jsxRuntimeExports.jsx(VideoContainer,{onClick:a,children:jsxRuntimeExports.jsxs("video",{ref:i,controls:!0,poster:t,className:"plyr-video",children:[jsxRuntimeExports.jsx("source",{src:e,type:o}),"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 HTML5 \u0432\u0438\u0434\u0435\u043E."]})})},URL_REGEX=/\b((?:https?:\/\/)?(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,63}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)|(?:www\.)?(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?::\d{1,5})?(?:[/?#]\S*)?|(?:@)?\b(?:donationalerts\.[a-zA-Z]{2,6})\/\S+\b)/gi,USERNAME_MENTION_REGEX=/(?<!\w)@(\w+)/g,HASHTAG_REGEX=/(?<![а-яА-Яa-zA-Z0-9_])#([а-яА-Яa-zA-Z0-9_]+)/g,LinkPreview=({url:e})=>{const[t,r]=reactExports.useState(null),[i,n]=reactExports.useState(!0),[s,a]=reactExports.useState(!1);if(reactExports.useEffect(()=>{e&&(async()=>{try{n(!0);const l=await axios.post("/api/utils/link-preview",{url:e});l.data?r(l.data):a(!0)}catch{a(!0)}finally{n(!1)}})()},[e]),s)return null;const o=l=>{try{return new URL(l).hostname.replace("www.","")}catch{return l}};return jsxRuntimeExports.jsx(Paper,{elevation:0,onClick:l=>{l.stopPropagation(),window.open(e,"_blank","noopener,noreferrer")},sx:{mt:1,mb:1,overflow:"hidden",borderRadius:"8px",backgroundColor:"rgba(140, 82, 255, 0.03)",border:"1px solid rgba(140, 82, 255, 0.1)",display:"flex",flexDirection:{xs:"row"},cursor:"pointer",transition:"all 0.3s ease",position:"relative",height:"90px","&:hover":{backgroundColor:"rgba(140, 82, 255, 0.06)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},"&:before":{content:'""',position:"absolute",left:0,top:0,height:"100%",width:"3px",backgroundColor:"#9E77ED",borderRadius:"2px"}},children:i?jsxRuntimeExports.jsx(Box,{sx:{p:1.5,width:"100%",display:"flex",alignItems:"center"},children:jsxRuntimeExports.jsx(Skeleton,{variant:"text",width:"70%",sx:{mb:.5}})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[t?.image&&jsxRuntimeExports.jsx(Box,{sx:{width:90,height:90,flexShrink:0,position:"relative",overflow:"hidden"},children:jsxRuntimeExports.jsx(Box,{component:"img",src:t.image,alt:t.title||"\u0421\u0441\u044B\u043B\u043A\u0430",sx:{width:"100%",height:"100%",objectFit:"cover"},onError:l=>{l.target.onerror=null,l.target.style.display="none"}})}),jsxRuntimeExports.jsxs(Box,{sx:{p:1.5,flex:1,display:"flex",flexDirection:"column",justifyContent:"center",borderLeft:t?.image?"1px solid rgba(255, 255, 255, 0.08)":"none",backgroundColor:"rgba(0, 0, 0, 0.02)"},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",sx:{margin:0,fontFamily:'"SF Pro Display", "Roboto", "Arial", sans-serif',fontWeight:500,fontSize:"0.85rem",lineHeight:1.57,color:"#f0f0f0",display:"flex",alignItems:"center",mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","&.MuiTypography-root":{margin:0,fontFamily:'"SF Pro Display", "Roboto", "Arial", sans-serif',fontWeight:500,fontSize:"0.85rem",lineHeight:1.57,color:"#f0f0f0",display:"flex",alignItems:"center",mb:.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},children:(t?.title||o(e)).length>35?`${(t?.title||o(e)).substring(0,35)}...`:t?.title||o(e)}),t?.description&&jsxRuntimeExports.jsx(Typography,{variant:"caption",sx:{margin:0,fontFamily:'"SF Pro Display", "Roboto", "Arial", sans-serif',color:"rgba(255, 255, 255, 0.7)",fontSize:"0.75rem",lineHeight:1.4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",mb:.5},children:t.description.length>50?`${t.description.substring(0,50)}...`:t.description}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.1)",py:.25,px:.75,borderRadius:"4px",width:"fit-content"},children:[jsxRuntimeExports.jsx(LinkIcon,{fontSize:"small",sx:{color:"#9E77ED",mr:.5,fontSize:"0.75rem"}}),jsxRuntimeExports.jsx(Typography,{variant:"caption",sx:{margin:0,fontFamily:'"SF Pro Display", "Roboto", "Arial", sans-serif',color:"rgba(255, 255, 255, 0.7)",fontWeight:500,fontSize:"0.7rem",lineHeight:1.57,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","&.MuiTypography-root":{margin:0,fontFamily:'"SF Pro Display", "Roboto", "Arial", sans-serif',color:"rgba(255, 255, 255, 0.7)",fontWeight:500,fontSize:"0.7rem",lineHeight:1.57,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},noWrap:!0,children:o(e)})]})]})]})})},processTextWithLinks=e=>{if(!e)return null;const t=[],r=new Set;let i,n=0,s=[];for(URL_REGEX.lastIndex=0;(i=URL_REGEX.exec(e))!==null;)s.push({type:"url",match:i[0],index:i.index,length:i[0].length});for(USERNAME_MENTION_REGEX.lastIndex=0;(i=USERNAME_MENTION_REGEX.exec(e))!==null;)s.push({type:"mention",match:i[0],username:i[1],index:i.index,length:i[0].length});for(HASHTAG_REGEX.lastIndex=0;(i=HASHTAG_REGEX.exec(e))!==null;)s.push({type:"hashtag",match:i[0],hashtag:i[1],index:i.index,length:i[0].length});return s.sort((a,o)=>a.index-o.index),s.forEach((a,o)=>{if(a.index>n&&t.push(e.substring(n,a.index)),a.type==="url"){const l=a.match;r.add(l),t.push(jsxRuntimeExports.jsx("a",{href:l.startsWith("http")?l:`https://${l}`,target:"_blank",rel:"noopener noreferrer",onClick:c=>c.stopPropagation(),style:{color:"#9E77ED",textDecoration:"none",fontWeight:"medium",wordBreak:"break-word"},children:l},`url-${o}`))}else a.type==="mention"?t.push(jsxRuntimeExports.jsx("a",{href:`/profile/${a.username}`,onClick:l=>{l.preventDefault(),l.stopPropagation(),window.location.href=`/profile/${a.username}`},style:{color:"#9E77ED",textDecoration:"none",fontWeight:"medium"},children:a.match},`mention-${o}`)):a.type==="hashtag"&&t.push(jsxRuntimeExports.jsx("a",{href:`https://k-connect.ru/search?q=${encodeURIComponent(a.hashtag)}&type=posts`,onClick:l=>{l.preventDefault(),l.stopPropagation(),window.location.href=`https://k-connect.ru/search?q=${encodeURIComponent(a.hashtag)}&type=posts`},style:{color:"#9E77ED",textDecoration:"none",fontWeight:"medium"},children:a.match},`hashtag-${o}`));n=a.index+a.length}),n<e.length&&t.push(e.substring(n)),{parts:t,urls:Array.from(r)}},linkRenderers={p:({children:e})=>{if(typeof e=="string"){const{parts:t,urls:r}=processTextWithLinks(e);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Typography,{component:"p",variant:"body1",sx:{mb:1},children:t}),r.length>0&&r.map((i,n)=>jsxRuntimeExports.jsx(LinkPreview,{url:i},`preview-${n}`))]})}return Array.isArray(e)&&e.some(t=>{if(!t||typeof t!="object")return!1;const r=t.type;return r==="h1"||r==="h2"||r==="h3"||r==="h4"||r==="h5"||r==="h6"||r==="ul"||r==="ol"||r==="pre"||r==="blockquote"||r==="table"})?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e}):jsxRuntimeExports.jsx(Typography,{component:"p",variant:"body1",sx:{mb:1},children:e})},a:({node:e,children:t,href:r})=>{if(r.startsWith("/profile/"))return r.substring(9),jsxRuntimeExports.jsx("a",{href:r,onClick:n=>{n.preventDefault(),n.stopPropagation(),window.location.href=r},style:{color:"#7B68EE",fontWeight:"bold",textDecoration:"none",background:"rgba(123, 104, 238, 0.08)",padding:"0 4px",borderRadius:"4px"},children:t});if(r.includes("search?q=")&&r.includes("type=posts"))return jsxRuntimeExports.jsx("a",{href:r,onClick:n=>{n.preventDefault(),n.stopPropagation(),window.location.href=r},style:{color:"#7B68EE",fontWeight:"bold",textDecoration:"none",background:"rgba(123, 104, 238, 0.08)",padding:"0 4px",borderRadius:"4px"},children:t});const i=r.startsWith("http")?r:`https://${r}`;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",onClick:n=>{n.preventDefault(),n.stopPropagation(),window.open(i,"_blank")},style:{color:"#9E77ED",fontWeight:"bold",textDecoration:"underline",wordBreak:"break-all"},children:t}),jsxRuntimeExports.jsx(LinkPreview,{url:i})]})}};var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,function(module,exports){var factory;typeof document<"u"&&typeof navigator<"u"&&(factory=function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var r,i,n=e.length;for(r=0;r<n;r+=1)for(var s in i=e[r].prototype)Object.prototype.hasOwnProperty.call(i,s)&&(t.prototype[s]=i[s])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].pause()},resume:function(){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].resume()},setRate:function(t){var r,i=this.audios.length;for(r=0;r<i;r+=1)this.audios[r].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(t,r){var i,n=0,s=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(n=0;n<r;n+=1)s.push(i);return s}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(t,r){return t==="float32"?new Float32Array(r):t==="int16"?new Int16Array(r):t==="uint8c"?new Uint8ClampedArray(r):e(t,r)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return(_typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]})(),BMMath.random=Math.random,BMMath.abs=function(e){if(_typeof$6(e)==="object"&&e.length){var t,r=createSizedArray(e.length),i=e.length;for(t=0;t<i;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,i){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=i<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,i){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=i<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}var createElementID=function(){var e=0;return function(){return idPrefix$1+"__lottie_element_"+(e+=1)}}();function HSVtoRGB(e,t,r){var i,n,s,a,o,l,c,u;switch(l=r*(1-t),c=r*(1-(o=6*e-(a=Math.floor(6*e)))*t),u=r*(1-(1-o)*t),a%6){case 0:i=r,n=u,s=l;break;case 1:i=c,n=r,s=l;break;case 2:i=l,n=r,s=u;break;case 3:i=l,n=c,s=r;break;case 4:i=u,n=l,s=r;break;case 5:i=r,n=l,s=c}return[i,n,s]}function RGBtoHSV(e,t,r){var i,n=Math.max(e,t,r),s=Math.min(e,t,r),a=n-s,o=n===0?0:a/n,l=n/255;switch(n){case s:i=0;break;case e:i=t-r+a*(t<r?6:0),i/=6*a;break;case t:i=r-e+2*a,i/=6*a;break;case r:i=e-t+4*a,i/=6*a}return[i,o,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e,t,r=[];for(e=0;e<256;e+=1)t=e.toString(16),r[e]=t.length===1?"0"+t:t;return function(i,n,s){return i<0&&(i=0),n<0&&(n=0),s<0&&(s=0),"#"+r[i]+r[n]+r[s]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return(_typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var dataManager=function(){var e,t,r=1,i=[],n={onmessage:function(){},postMessage:function(l){e({data:l})}},s={postMessage:function(l){n.onmessage({data:l})}};function a(){t||((t=function(l){if(window.Worker&&window.Blob&&getWebWorker()){var c=new Blob(["var _workerSelf = self; self.onmessage = ",l.toString()],{type:"text/javascript"}),u=URL.createObjectURL(c);return new Worker(u)}return e=l,n}(function(l){if(s.dataManager||(s.dataManager=function(){function u(x,S){var C,w,P,T,F,I,D=x.length;for(w=0;w<D;w+=1)if("ks"in(C=x[w])&&!C.completed){if(C.completed=!0,C.hasMask){var L=C.masksProperties;for(T=L.length,P=0;P<T;P+=1)if(L[P].pt.k.i)p(L[P].pt.k);else for(I=L[P].pt.k.length,F=0;F<I;F+=1)L[P].pt.k[F].s&&p(L[P].pt.k[F].s[0]),L[P].pt.k[F].e&&p(L[P].pt.k[F].e[0])}C.ty===0?(C.layers=h(C.refId,S),u(C.layers,S)):C.ty===4?d(C.shapes):C.ty===5&&k(C)}}function h(x,S){var C=function(w,P){for(var T=0,F=P.length;T<F;){if(P[T].id===w)return P[T];T+=1}return null}(x,S);return C?C.layers.__used?JSON.parse(JSON.stringify(C.layers)):(C.layers.__used=!0,C.layers):null}function d(x){var S,C,w;for(S=x.length-1;S>=0;S-=1)if(x[S].ty==="sh")if(x[S].ks.k.i)p(x[S].ks.k);else for(w=x[S].ks.k.length,C=0;C<w;C+=1)x[S].ks.k[C].s&&p(x[S].ks.k[C].s[0]),x[S].ks.k[C].e&&p(x[S].ks.k[C].e[0]);else x[S].ty==="gr"&&d(x[S].it)}function p(x){var S,C=x.i.length;for(S=0;S<C;S+=1)x.i[S][0]+=x.v[S][0],x.i[S][1]+=x.v[S][1],x.o[S][0]+=x.v[S][0],x.o[S][1]+=x.v[S][1]}function m(x,S){var C=S?S.split("."):[100,100,100];return x[0]>C[0]||!(C[0]>x[0])&&(x[1]>C[1]||!(C[1]>x[1])&&(x[2]>C[2]||!(C[2]>x[2])&&null))}var g=function(){var x=[4,4,14];function S(w){var P=w.t.d;w.t.d={k:[{s:P,t:0}]}}function C(w){var P,T=w.length;for(P=0;P<T;P+=1)w[P].ty===5&&S(w[P])}return function(w){if(m(x,w.v)&&(C(w.layers),w.assets)){var P,T=w.assets.length;for(P=0;P<T;P+=1)w.assets[P].layers&&C(w.assets[P].layers)}}}(),f=function(){var x=[4,7,99];return function(S){if(S.chars&&!m(x,S.v)){var C,w=S.chars.length;for(C=0;C<w;C+=1){var P=S.chars[C];P.data&&P.data.shapes&&(d(P.data.shapes),P.data.ip=0,P.data.op=99999,P.data.st=0,P.data.sr=1,P.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},S.chars[C].t||(P.data.shapes.push({ty:"no"}),P.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),y=function(){var x=[5,7,15];function S(w){var P=w.t.p;typeof P.a=="number"&&(P.a={a:0,k:P.a}),typeof P.p=="number"&&(P.p={a:0,k:P.p}),typeof P.r=="number"&&(P.r={a:0,k:P.r})}function C(w){var P,T=w.length;for(P=0;P<T;P+=1)w[P].ty===5&&S(w[P])}return function(w){if(m(x,w.v)&&(C(w.layers),w.assets)){var P,T=w.assets.length;for(P=0;P<T;P+=1)w.assets[P].layers&&C(w.assets[P].layers)}}}(),v=function(){var x=[4,1,9];function S(w){var P,T,F,I=w.length;for(P=0;P<I;P+=1)if(w[P].ty==="gr")S(w[P].it);else if(w[P].ty==="fl"||w[P].ty==="st")if(w[P].c.k&&w[P].c.k[0].i)for(F=w[P].c.k.length,T=0;T<F;T+=1)w[P].c.k[T].s&&(w[P].c.k[T].s[0]/=255,w[P].c.k[T].s[1]/=255,w[P].c.k[T].s[2]/=255,w[P].c.k[T].s[3]/=255),w[P].c.k[T].e&&(w[P].c.k[T].e[0]/=255,w[P].c.k[T].e[1]/=255,w[P].c.k[T].e[2]/=255,w[P].c.k[T].e[3]/=255);else w[P].c.k[0]/=255,w[P].c.k[1]/=255,w[P].c.k[2]/=255,w[P].c.k[3]/=255}function C(w){var P,T=w.length;for(P=0;P<T;P+=1)w[P].ty===4&&S(w[P].shapes)}return function(w){if(m(x,w.v)&&(C(w.layers),w.assets)){var P,T=w.assets.length;for(P=0;P<T;P+=1)w.assets[P].layers&&C(w.assets[P].layers)}}}(),b=function(){var x=[4,4,18];function S(w){var P,T,F;for(P=w.length-1;P>=0;P-=1)if(w[P].ty==="sh")if(w[P].ks.k.i)w[P].ks.k.c=w[P].closed;else for(F=w[P].ks.k.length,T=0;T<F;T+=1)w[P].ks.k[T].s&&(w[P].ks.k[T].s[0].c=w[P].closed),w[P].ks.k[T].e&&(w[P].ks.k[T].e[0].c=w[P].closed);else w[P].ty==="gr"&&S(w[P].it)}function C(w){var P,T,F,I,D,L,O=w.length;for(T=0;T<O;T+=1){if((P=w[T]).hasMask){var W=P.masksProperties;for(I=W.length,F=0;F<I;F+=1)if(W[F].pt.k.i)W[F].pt.k.c=W[F].cl;else for(L=W[F].pt.k.length,D=0;D<L;D+=1)W[F].pt.k[D].s&&(W[F].pt.k[D].s[0].c=W[F].cl),W[F].pt.k[D].e&&(W[F].pt.k[D].e[0].c=W[F].cl)}P.ty===4&&S(P.shapes)}}return function(w){if(m(x,w.v)&&(C(w.layers),w.assets)){var P,T=w.assets.length;for(P=0;P<T;P+=1)w.assets[P].layers&&C(w.assets[P].layers)}}}();function k(x){x.t.a.length===0&&x.t.p}var E={completeData:function(x){x.__complete||(v(x),g(x),f(x),y(x),b(x),u(x.layers,x.assets),function(S,C){if(S){var w=0,P=S.length;for(w=0;w<P;w+=1)S[w].t===1&&(S[w].data.layers=h(S[w].data.refId,C),u(S[w].data.layers,C))}}(x.chars,x.assets),x.__complete=!0)}};return E.checkColors=v,E.checkChars=f,E.checkPathProperties=y,E.checkShapes=b,E.completeLayers=u,E}()),s.assetLoader||(s.assetLoader=function(){function u(h){var d=h.getResponseHeader("content-type");return d&&h.responseType==="json"&&d.indexOf("json")!==-1||h.response&&_typeof$5(h.response)==="object"?h.response:h.response&&typeof h.response=="string"?JSON.parse(h.response):h.responseText?JSON.parse(h.responseText):null}return{load:function(h,d,p,m){var g,f=new XMLHttpRequest;try{f.responseType="json"}catch{}f.onreadystatechange=function(){if(f.readyState===4)if(f.status===200)g=u(f),p(g);else try{g=u(f),p(g)}catch(y){m&&m(y)}};try{f.open(["G","E","T"].join(""),h,!0)}catch{f.open(["G","E","T"].join(""),d+"/"+h,!0)}f.send()}}}()),l.data.type==="loadAnimation")s.assetLoader.load(l.data.path,l.data.fullPath,function(u){s.dataManager.completeData(u),s.postMessage({id:l.data.id,payload:u,status:"success"})},function(){s.postMessage({id:l.data.id,status:"error"})});else if(l.data.type==="complete"){var c=l.data.animation;s.dataManager.completeData(c),s.postMessage({id:l.data.id,payload:c,status:"success"})}else l.data.type==="loadData"&&s.assetLoader.load(l.data.path,l.data.fullPath,function(u){s.postMessage({id:l.data.id,payload:u,status:"success"})},function(){s.postMessage({id:l.data.id,status:"error"})})})).onmessage=function(l){var c=l.data,u=c.id,h=i[u];i[u]=null,c.status==="success"?h.onComplete(c.payload):h.onError&&h.onError()})}function o(l,c){var u="processId_"+(r+=1);return i[u]={onComplete:l,onError:c},u}return{loadAnimation:function(l,c,u){a();var h=o(c,u);t.postMessage({type:"loadAnimation",path:l,fullPath:window.location.origin+window.location.pathname,id:h})},loadData:function(l,c,u){a();var h=o(c,u);t.postMessage({type:"loadData",path:l,fullPath:window.location.origin+window.location.pathname,id:h})},completeAnimation:function(l,c,u){a();var h=o(c,u);t.postMessage({type:"complete",animation:l,id:h})}}}(),ImagePreloader=function(){var e=function(){var o=createTag("canvas");o.width=1,o.height=1;var l=o.getContext("2d");return l.fillStyle="rgba(0,0,0,0)",l.fillRect(0,0,1,1),o}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(o,l,c){var u="";if(o.e)u=o.p;else if(l){var h=o.p;h.indexOf("images/")!==-1&&(h=h.split("/")[1]),u=l+h}else u=c,u+=o.u?o.u:"",u+=o.p;return u}function n(o){var l=0,c=setInterval(function(){(o.getBBox().width||l>500)&&(this._imageLoaded(),clearInterval(c)),l+=1}.bind(this),50)}function s(o){var l={assetData:o},c=i(o,this.assetsPath,this.path);return dataManager.loadData(c,function(u){l.img=u,this._footageLoaded()}.bind(this),function(){l.img={},this._footageLoaded()}.bind(this)),l}function a(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=n.bind(this),this.createFootageData=s.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return a.prototype={loadAssets:function(o,l){var c;this.imagesLoadedCb=l;var u=o.length;for(c=0;c<u;c+=1)o[c].layers||(o[c].t&&o[c].t!=="seq"?o[c].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(o[c]))):(this.totalImages+=1,this.images.push(this._createImageData(o[c]))))},setAssetsPath:function(o){this.assetsPath=o||""},setPath:function(o){this.path=o||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(o){for(var l=0,c=this.images.length;l<c;){if(this.images[l].assetData===o)return this.images[l].img;l+=1}return null},createImgData:function(o){var l=i(o,this.assetsPath,this.path),c=createTag("img");c.crossOrigin="anonymous",c.addEventListener("load",this._imageLoaded,!1),c.addEventListener("error",function(){u.img=e,this._imageLoaded()}.bind(this),!1),c.src=l;var u={img:c,assetData:o};return u},createImageData:function(o){var l=i(o,this.assetsPath,this.path),c=createNS("image");isSafari?this.testImageLoaded(c):c.addEventListener("load",this._imageLoaded,!1),c.addEventListener("error",function(){u.img=e,this._imageLoaded()}.bind(this),!1),c.setAttributeNS("http://www.w3.org/1999/xlink","href",l),this._elementHelper.append?this._elementHelper.append(c):this._elementHelper.appendChild(c);var u={img:c,assetData:o};return u},imageLoaded:t,footageLoaded:r,setCacheType:function(o,l){o==="svg"?(this._elementHelper=l,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},a}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e],i=0;i<r.length;i+=1)r[i](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,i=this._cbs[e].length;r<i;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,i-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(t){for(var r,i=t.split(`\r
`),n={},s=0,a=0;a<i.length;a+=1)(r=i[a].split(":")).length===2&&(n[r[0]]=r[1].trim(),s+=1);if(s===0)throw new Error;return n}return function(t){for(var r=[],i=0;i<t.length;i+=1){var n=t[i],s={time:n.tm,duration:n.dr};try{s.payload=JSON.parse(t[i].cm)}catch{try{s.payload=e(t[i].cm)}catch{s.payload={name:t[i].cm}}}r.push(s)}return r}}(),ProjectInterface=function(){function e(t){this.compositions.push(t)}return function(){function t(r){for(var i=0,n=this.compositions.length;i<n;){if(this.compositions[i].data&&this.compositions[i].data.nm===r)return this.compositions[i].prepareFrame&&this.compositions[i].data.xt&&this.compositions[i].prepareFrame(this.currentFrame),this.compositions[i].compInterface;i+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){return(_typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var r=getRenderer(t);this.renderer=new r(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,e.loop===""||e.loop===null||e.loop===void 0||e.loop===!0?this.loop=!0:e.loop===!1?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(e.path.lastIndexOf("\\")!==-1?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&_typeof$4(t)!=="object"&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},i=e.attributes;r.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",r.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var n=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";n==="false"?r.loop=!1:n==="true"?r.loop=!0:n!==""&&(r.loop=parseInt(n,10));var s=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:!i.getNamedItem("bm-autoplay")||i.getNamedItem("bm-autoplay").value;r.autoplay=s!=="false",r.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"",(i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"")==="false"&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,r,i=this.animationData.layers,n=i.length,s=e.layers,a=s.length;for(r=0;r<a;r+=1)for(t=0;t<n;){if(i[t].id===s[r].id){i[t]=s[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(n=e.assets.length,t=0;t<n;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||e.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var r=typeof e=="number"?e:void 0,i=typeof t=="number"?t:void 0;this.renderer.updateContainerSize(r,i)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if((t=this.markers[r]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!r||this.name===r){var i=Number(e);if(isNaN(i)){var n=this.getMarkerData(e);n&&this.goToAndStop(n.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!r||this.name===r){var i=Number(e);if(isNaN(i)){var n=this.getMarkerData(e);n&&(n.duration?this.playSegments([n.time,n.time+n.duration],!0):this.goToAndStop(n.time,!0))}else this.goToAndStop(i,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(this.isPaused!==!0&&this.isLoaded!==!1){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,r!==-1&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),_typeof$4(e[0])==="object"){var r,i=e.length;for(r=0;r<i;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;r.indexOf("images/")!==-1&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,r){try{this.renderer.getElementByPath(e).updateDocumentData(t,r)}catch{}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],r=0,i=0,n=0,s=!0,a=!1;function o(g){for(var f=0,y=g.target;f<i;)t[f].animation===y&&(t.splice(f,1),f-=1,i-=1,y.isPaused||u()),f+=1}function l(g,f){if(!g)return null;for(var y=0;y<i;){if(t[y].elem===g&&t[y].elem!==null)return t[y].animation;y+=1}var v=new AnimationItem;return h(v,g),v.setData(g,f),v}function c(){n+=1,m()}function u(){n-=1}function h(g,f){g.addEventListener("destroy",o),g.addEventListener("_active",c),g.addEventListener("_idle",u),t.push({elem:f,animation:g}),i+=1}function d(g){var f,y=g-r;for(f=0;f<i;f+=1)t[f].animation.advanceTime(y);r=g,n&&!a?window.requestAnimationFrame(d):s=!0}function p(g){r=g,window.requestAnimationFrame(d)}function m(){!a&&n&&s&&(window.requestAnimationFrame(p),s=!1)}return e.registerAnimation=l,e.loadAnimation=function(g){var f=new AnimationItem;return h(f,null),f.setParams(g),f},e.setSpeed=function(g,f){var y;for(y=0;y<i;y+=1)t[y].animation.setSpeed(g,f)},e.setDirection=function(g,f){var y;for(y=0;y<i;y+=1)t[y].animation.setDirection(g,f)},e.play=function(g){var f;for(f=0;f<i;f+=1)t[f].animation.play(g)},e.pause=function(g){var f;for(f=0;f<i;f+=1)t[f].animation.pause(g)},e.stop=function(g){var f;for(f=0;f<i;f+=1)t[f].animation.stop(g)},e.togglePause=function(g){var f;for(f=0;f<i;f+=1)t[f].animation.togglePause(g)},e.searchAnimations=function(g,f,y){var v,b=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),k=b.length;for(v=0;v<k;v+=1)y&&b[v].setAttribute("data-bm-type",y),l(b[v],g);if(f&&k===0){y||(y="svg");var E=document.getElementsByTagName("body")[0];E.innerText="";var x=createTag("div");x.style.width="100%",x.style.height="100%",x.setAttribute("data-bm-type",y),E.appendChild(x),l(x,g)}},e.resize=function(){var g;for(g=0;g<i;g+=1)t[g].animation.resize()},e.goToAndStop=function(g,f,y){var v;for(v=0;v<i;v+=1)t[v].animation.goToAndStop(g,f,y)},e.destroy=function(g){var f;for(f=i-1;f>=0;f-=1)t[f].animation.destroy(g)},e.freeze=function(){a=!0},e.unfreeze=function(){a=!1,m()},e.setVolume=function(g,f){var y;for(y=0;y<i;y+=1)t[y].animation.setVolume(g,f)},e.mute=function(g){var f;for(f=0;f<i;f+=1)t[f].animation.mute(g)},e.unmute=function(g){var f;for(f=0;f<i;f+=1)t[f].animation.unmute(g)},e.getRegisteredAnimations=function(){var g,f=t.length,y=[];for(g=0;g<f;g+=1)y.push(t[g].animation);return y},e}(),BezierFactory=function(){var e={getBezierEasing:function(h,d,p,m,g){var f=g||("bez_"+h+"_"+d+"_"+p+"_"+m).replace(/\./g,"p");if(t[f])return t[f];var y=new u([h,d,p,m]);return t[f]=y,y}},t={},r=11,i=1/(r-1),n=typeof Float32Array=="function";function s(h,d){return 1-3*d+3*h}function a(h,d){return 3*d-6*h}function o(h){return 3*h}function l(h,d,p){return((s(d,p)*h+a(d,p))*h+o(d))*h}function c(h,d,p){return 3*s(d,p)*h*h+2*a(d,p)*h+o(d)}function u(h){this._p=h,this._mSampleValues=n?new Float32Array(r):new Array(r),this._precomputed=!1,this.get=this.get.bind(this)}return u.prototype={get:function(h){var d=this._p[0],p=this._p[1],m=this._p[2],g=this._p[3];return this._precomputed||this._precompute(),d===p&&m===g?h:h===0?0:h===1?1:l(this._getTForX(h),p,g)},_precompute:function(){var h=this._p[0],d=this._p[1],p=this._p[2],m=this._p[3];this._precomputed=!0,h===d&&p===m||this._calcSampleValues()},_calcSampleValues:function(){for(var h=this._p[0],d=this._p[2],p=0;p<r;++p)this._mSampleValues[p]=l(p*i,h,d)},_getTForX:function(h){for(var d=this._p[0],p=this._p[2],m=this._mSampleValues,g=0,f=1,y=r-1;f!==y&&m[f]<=h;++f)g+=i;var v=g+(h-m[--f])/(m[f+1]-m[f])*i,b=c(v,d,p);return b>=.001?function(k,E,x,S){for(var C=0;C<4;++C){var w=c(E,x,S);if(w===0)return E;E-=(l(E,x,S)-k)/w}return E}(h,v,d,p):b===0?v:function(k,E,x,S,C){var w,P,T=0;do(w=l(P=E+(x-E)/2,S,C)-k)>0?x=P:E=P;while(Math.abs(w)>1e-7&&++T<10);return P}(h,g,g+i,d,p)}},e}(),pooling=function(){return{double:function(e){return e.concat(createSizedArray(e.length))}}}(),poolFactory=function(){return function(e,t,r){var i=0,n=e,s=createSizedArray(n);return{newElement:function(){return i?s[i-=1]:t()},release:function(a){i===n&&(s=pooling.double(s),n*=2),r&&r(a),s[i]=a,i+=1}}}}(),bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(e){var t,r=e.lengths.length;for(t=0;t<r;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0});function bezFunction(){var e=Math;function t(l,c,u,h,d,p){var m=l*h+c*d+u*p-d*h-p*l-u*c;return m>-.001&&m<.001}var r=function(){return function(l,c,u,h){var d,p,m,g,f,y,v=getDefaultCurveSegments(),b=0,k=[],E=[],x=bezierLengthPool.newElement();for(m=u.length,d=0;d<v;d+=1){for(f=d/(v-1),y=0,p=0;p<m;p+=1)g=bmPow(1-f,3)*l[p]+3*bmPow(1-f,2)*f*u[p]+3*(1-f)*bmPow(f,2)*h[p]+bmPow(f,3)*c[p],k[p]=g,E[p]!==null&&(y+=bmPow(k[p]-E[p],2)),E[p]=k[p];y&&(b+=y=bmSqrt(y)),x.percents[d]=f,x.lengths[d]=b}return x.addedLength=b,x}}();function i(l){this.segmentLength=0,this.points=new Array(l)}function n(l,c){this.partialLength=l,this.point=c}var s=function(){var l={};return function(c,u,h,d){var p=(c[0]+"_"+c[1]+"_"+u[0]+"_"+u[1]+"_"+h[0]+"_"+h[1]+"_"+d[0]+"_"+d[1]).replace(/\./g,"p");if(!l[p]){var m,g,f,y,v,b,k,E=getDefaultCurveSegments(),x=0,S=null;c.length===2&&(c[0]!==u[0]||c[1]!==u[1])&&t(c[0],c[1],u[0],u[1],c[0]+h[0],c[1]+h[1])&&t(c[0],c[1],u[0],u[1],u[0]+d[0],u[1]+d[1])&&(E=2);var C=new i(E);for(f=h.length,m=0;m<E;m+=1){for(k=createSizedArray(f),v=m/(E-1),b=0,g=0;g<f;g+=1)y=bmPow(1-v,3)*c[g]+3*bmPow(1-v,2)*v*(c[g]+h[g])+3*(1-v)*bmPow(v,2)*(u[g]+d[g])+bmPow(v,3)*u[g],k[g]=y,S!==null&&(b+=bmPow(k[g]-S[g],2));x+=b=bmSqrt(b),C.points[m]=new n(b,k),S=k}C.segmentLength=x,l[p]=C}return l[p]}}();function a(l,c){var u=c.percents,h=c.lengths,d=u.length,p=bmFloor((d-1)*l),m=l*c.addedLength,g=0;if(p===d-1||p===0||m===h[p])return u[p];for(var f=h[p]>m?-1:1,y=!0;y;)if(h[p]<=m&&h[p+1]>m?(g=(m-h[p])/(h[p+1]-h[p]),y=!1):p+=f,p<0||p>=d-1){if(p===d-1)return u[p];y=!1}return u[p]+(u[p+1]-u[p])*g}var o=createTypedArray("float32",8);return{getSegmentsLength:function(l){var c,u=segmentsLengthPool.newElement(),h=l.c,d=l.v,p=l.o,m=l.i,g=l._length,f=u.lengths,y=0;for(c=0;c<g-1;c+=1)f[c]=r(d[c],d[c+1],p[c],m[c+1]),y+=f[c].addedLength;return h&&g&&(f[c]=r(d[c],d[0],p[c],m[0]),y+=f[c].addedLength),u.totalLength=y,u},getNewSegment:function(l,c,u,h,d,p,m){d<0?d=0:d>1&&(d=1);var g,f=a(d,m),y=a(p=p>1?1:p,m),v=l.length,b=1-f,k=1-y,E=b*b*b,x=f*b*b*3,S=f*f*b*3,C=f*f*f,w=b*b*k,P=f*b*k+b*f*k+b*b*y,T=f*f*k+b*f*y+f*b*y,F=f*f*y,I=b*k*k,D=f*k*k+b*y*k+b*k*y,L=f*y*k+b*y*y+f*k*y,O=f*y*y,W=k*k*k,A=y*k*k+k*y*k+k*k*y,j=y*y*k+k*y*y+y*k*y,B=y*y*y;for(g=0;g<v;g+=1)o[4*g]=e.round(1e3*(E*l[g]+x*u[g]+S*h[g]+C*c[g]))/1e3,o[4*g+1]=e.round(1e3*(w*l[g]+P*u[g]+T*h[g]+F*c[g]))/1e3,o[4*g+2]=e.round(1e3*(I*l[g]+D*u[g]+L*h[g]+O*c[g]))/1e3,o[4*g+3]=e.round(1e3*(W*l[g]+A*u[g]+j*h[g]+B*c[g]))/1e3;return o},getPointInSegment:function(l,c,u,h,d,p){var m=a(d,p),g=1-m;return[e.round(1e3*(g*g*g*l[0]+(m*g*g+g*m*g+g*g*m)*u[0]+(m*m*g+g*m*m+m*g*m)*h[0]+m*m*m*c[0]))/1e3,e.round(1e3*(g*g*g*l[1]+(m*g*g+g*m*g+g*g*m)*u[1]+(m*m*g+g*m*m+m*g*m)*h[1]+m*m*m*c[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(l,c,u,h,d,p,m,g,f){if(u===0&&p===0&&f===0)return t(l,c,h,d,m,g);var y,v=e.sqrt(e.pow(h-l,2)+e.pow(d-c,2)+e.pow(p-u,2)),b=e.sqrt(e.pow(m-l,2)+e.pow(g-c,2)+e.pow(f-u,2)),k=e.sqrt(e.pow(m-h,2)+e.pow(g-d,2)+e.pow(f-p,2));return(y=v>b?v>k?v-b-k:k-b-v:k>b?k-b-v:b-v-k)>-1e-4&&y<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,t){var r,i=this.offsetTime;this.propType==="multidimensional"&&(r=createTypedArray("float32",this.pv.length));for(var n,s,a,o,l,c,u,h,d,p=t.lastIndex,m=p,g=this.keyframes.length-1,f=!0;f;){if(n=this.keyframes[m],s=this.keyframes[m+1],m===g-1&&e>=s.t-i){n.h&&(n=s),p=0;break}if(s.t-i>e){p=m;break}m<g-1?m+=1:(p=0,f=!1)}a=this.keyframesMetadata[m]||{};var y,v=s.t-i,b=n.t-i;if(n.to){a.bezierData||(a.bezierData=bez.buildBezierData(n.s,s.s||n.e,n.to,n.ti));var k=a.bezierData;if(e>=v||e<b){var E=e>=v?k.points.length-1:0;for(l=k.points[E].point.length,o=0;o<l;o+=1)r[o]=k.points[E].point[o]}else{a.__fnct?d=a.__fnct:(d=BezierFactory.getBezierEasing(n.o.x,n.o.y,n.i.x,n.i.y,n.n).get,a.__fnct=d),c=d((e-b)/(v-b));var x,S=k.segmentLength*c,C=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastAddedLength:0;for(h=t.lastFrame<e&&t._lastKeyframeIndex===m?t._lastPoint:0,f=!0,u=k.points.length;f;){if(C+=k.points[h].partialLength,S===0||c===0||h===k.points.length-1){for(l=k.points[h].point.length,o=0;o<l;o+=1)r[o]=k.points[h].point[o];break}if(S>=C&&S<C+k.points[h+1].partialLength){for(x=(S-C)/k.points[h+1].partialLength,l=k.points[h].point.length,o=0;o<l;o+=1)r[o]=k.points[h].point[o]+(k.points[h+1].point[o]-k.points[h].point[o])*x;break}h<u-1?h+=1:f=!1}t._lastPoint=h,t._lastAddedLength=C-k.points[h].partialLength,t._lastKeyframeIndex=m}}else{var w,P,T,F,I;if(g=n.s.length,y=s.s||n.e,this.sh&&n.h!==1)e>=v?(r[0]=y[0],r[1]=y[1],r[2]=y[2]):e<=b?(r[0]=n.s[0],r[1]=n.s[1],r[2]=n.s[2]):quaternionToEuler(r,slerp(createQuaternion(n.s),createQuaternion(y),(e-b)/(v-b)));else for(m=0;m<g;m+=1)n.h!==1&&(e>=v?c=1:e<b?c=0:(n.o.x.constructor===Array?(a.__fnct||(a.__fnct=[]),a.__fnct[m]?d=a.__fnct[m]:(w=n.o.x[m]===void 0?n.o.x[0]:n.o.x[m],P=n.o.y[m]===void 0?n.o.y[0]:n.o.y[m],T=n.i.x[m]===void 0?n.i.x[0]:n.i.x[m],F=n.i.y[m]===void 0?n.i.y[0]:n.i.y[m],d=BezierFactory.getBezierEasing(w,P,T,F).get,a.__fnct[m]=d)):a.__fnct?d=a.__fnct:(w=n.o.x,P=n.o.y,T=n.i.x,F=n.i.y,d=BezierFactory.getBezierEasing(w,P,T,F).get,n.keyframeMetadata=d),c=d((e-b)/(v-b)))),y=s.s||n.e,I=n.h===1?n.s[m]:n.s[m]+(y[m]-n.s[m])*c,this.propType==="multidimensional"?r[m]=I:r=I}return t.lastIndex=p,r}function slerp(e,t,r){var i,n,s,a,o,l=[],c=e[0],u=e[1],h=e[2],d=e[3],p=t[0],m=t[1],g=t[2],f=t[3];return(n=c*p+u*m+h*g+d*f)<0&&(n=-n,p=-p,m=-m,g=-g,f=-f),1-n>1e-6?(i=Math.acos(n),s=Math.sin(i),a=Math.sin((1-r)*i)/s,o=Math.sin(r*i)/s):(a=1-r,o=r),l[0]=a*c+o*p,l[1]=a*u+o*m,l[2]=a*h+o*g,l[3]=a*d+o*f,l}function quaternionToEuler(e,t){var r=t[0],i=t[1],n=t[2],s=t[3],a=Math.atan2(2*i*s-2*r*n,1-2*i*i-2*n*n),o=Math.asin(2*r*i+2*n*s),l=Math.atan2(2*r*s-2*i*n,1-2*r*r-2*n*n);e[0]=a/degToRads,e[1]=o/degToRads,e[2]=l/degToRads}function createQuaternion(e){var t=e[0]*degToRads,r=e[1]*degToRads,i=e[2]*degToRads,n=Math.cos(t/2),s=Math.cos(r/2),a=Math.cos(i/2),o=Math.sin(t/2),l=Math.sin(r/2),c=Math.sin(i/2);return[o*l*a+n*s*c,o*s*a+n*l*c,n*l*a-o*s*c,n*s*a-o*l*c]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&e>=r||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(e,this._caching);this.pv=i}return this._caching.lastFrame=e,this.pv}function setVValue(e){var t;if(this.propType==="unidimensional")t=e*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var r=0,i=this.v.length;r<i;)t=e[r]*this.mult,mathAbs(this.v[r]-t)>1e-5&&(this.v[r]=t,this._mdf=!0),r+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var e;this.lock=!0,this._mdf=this._isFirstFrame;var t=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)r=this.effectsSequence[e](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,t,r,i){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=i,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,t,r,i){var n;this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=i,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s=t.k.length;for(this.v=createTypedArray("float32",s),this.pv=createTypedArray("float32",s),this.vel=createTypedArray("float32",s),n=0;n<s;n+=1)this.v[n]=t.k[n]*this.mult,this.pv[n]=t.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,t,r,i){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=r||1,this.elem=e,this.container=i,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,t,r,i){var n;this.propType="multidimensional";var s,a,o,l,c=t.k.length;for(n=0;n<c-1;n+=1)t.k[n].to&&t.k[n].s&&t.k[n+1]&&t.k[n+1].s&&(s=t.k[n].s,a=t.k[n+1].s,o=t.k[n].to,l=t.k[n].ti,(s.length===2&&(s[0]!==a[0]||s[1]!==a[1])&&bez.pointOnLine2D(s[0],s[1],a[0],a[1],s[0]+o[0],s[1]+o[1])&&bez.pointOnLine2D(s[0],s[1],a[0],a[1],a[0]+l[0],a[1]+l[1])||s.length===3&&(s[0]!==a[0]||s[1]!==a[1]||s[2]!==a[2])&&bez.pointOnLine3D(s[0],s[1],s[2],a[0],a[1],a[2],s[0]+o[0],s[1]+o[1],s[2]+o[2])&&bez.pointOnLine3D(s[0],s[1],s[2],a[0],a[1],a[2],a[0]+l[0],a[1]+l[1],a[2]+l[2]))&&(t.k[n].to=null,t.k[n].ti=null),s[0]===a[0]&&s[1]===a[1]&&o[0]===0&&o[1]===0&&l[0]===0&&l[1]===0&&(s.length===2||s[2]===a[2]&&o[2]===0&&l[2]===0)&&(t.k[n].to=null,t.k[n].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=e,this.container=i,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var u=t.k[0].s.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),n=0;n<u;n+=1)this.v[n]=initFrame,this.pv[n]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",u)},this.addEffect=addEffect}var PropertyFactory=function(){return{getProp:function(e,t,r,i,n){var s;if(t.sid&&(t=e.globalData.slotManager.getProp(t)),t.k.length)if(typeof t.k[0]=="number")s=new MultiDimensionalProperty(e,t,i,n);else switch(r){case 0:s=new KeyframedValueProperty(e,t,i,n);break;case 1:s=new KeyframedMultidimensionalProperty(e,t,i,n)}else s=new ValueProperty(e,t,i,n);return s.effectsSequence.length&&n.addDynamicProperty(s),s}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var e;this._mdf=!1;var t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,i,n){var s;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[]}(!s[i]||s[i]&&!n)&&(s[i]=pointPool.newElement()),s[i][0]=e,s[i][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,i,n,s,a,o){this.setXYAt(e,t,"v",a,o),this.setXYAt(r,i,"o",a,o),this.setXYAt(n,s,"i",a,o)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,i=this.i,n=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],i[0][0],i[0][1],r[0][0],r[0][1],0,!1),n=1);var s,a=this._length-1,o=this._length;for(s=n;s<o;s+=1)e.setTripleAt(t[a][0],t[a][1],i[a][0],i[a][1],r[a][0],r[a][1],s,!1),a-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(e){var t,r=e._length;for(t=0;t<r;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1}),factory.clone=function(e){var t,r=factory.newElement(),i=e._length===void 0?e.v.length:e._length;for(r.setLength(i),r.c=e.c,t=0;t<i;t+=1)r.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return r},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=(ob2={newShapeCollection:function(){return _length?pool[_length-=1]:new ShapeCollection},release:function(e){var t,r=e._length;for(t=0;t<r;t+=1)shapePool.release(e.shapes[t]);e._length=0,_length===_maxLength&&(pool=pooling.double(pool),_maxLength*=2),pool[_length]=e,_length+=1}},_length=0,_maxLength=4,pool=createSizedArray(_maxLength),ob2),ob2,_length,_maxLength,pool,ShapePropertyFactory=function(){var e=-999999;function t(d,p,m){var g,f,y,v,b,k,E,x,S,C=m.lastIndex,w=this.keyframes;if(d<w[0].t-this.offsetTime)g=w[0].s[0],y=!0,C=0;else if(d>=w[w.length-1].t-this.offsetTime)g=w[w.length-1].s?w[w.length-1].s[0]:w[w.length-2].e[0],y=!0;else{for(var P,T,F,I=C,D=w.length-1,L=!0;L&&(P=w[I],!((T=w[I+1]).t-this.offsetTime>d));)I<D-1?I+=1:L=!1;if(F=this.keyframesMetadata[I]||{},C=I,!(y=P.h===1)){if(d>=T.t-this.offsetTime)x=1;else if(d<P.t-this.offsetTime)x=0;else{var O;F.__fnct?O=F.__fnct:(O=BezierFactory.getBezierEasing(P.o.x,P.o.y,P.i.x,P.i.y).get,F.__fnct=O),x=O((d-(P.t-this.offsetTime))/(T.t-this.offsetTime-(P.t-this.offsetTime)))}f=T.s?T.s[0]:P.e[0]}g=P.s[0]}for(k=p._length,E=g.i[0].length,m.lastIndex=C,v=0;v<k;v+=1)for(b=0;b<E;b+=1)S=y?g.i[v][b]:g.i[v][b]+(f.i[v][b]-g.i[v][b])*x,p.i[v][b]=S,S=y?g.o[v][b]:g.o[v][b]+(f.o[v][b]-g.o[v][b])*x,p.o[v][b]=S,S=y?g.v[v][b]:g.v[v][b]+(f.v[v][b]-g.v[v][b])*x,p.v[v][b]=S}function r(){var d=this.comp.renderedFrame-this.offsetTime,p=this.keyframes[0].t-this.offsetTime,m=this.keyframes[this.keyframes.length-1].t-this.offsetTime,g=this._caching.lastFrame;return g!==e&&(g<p&&d<p||g>m&&d>m)||(this._caching.lastIndex=g<d?this._caching.lastIndex:0,this.interpolateShape(d,this.pv,this._caching)),this._caching.lastFrame=d,this.pv}function i(){this.paths=this.localShapeCollection}function n(d){(function(p,m){if(p._length!==m._length||p.c!==m.c)return!1;var g,f=p._length;for(g=0;g<f;g+=1)if(p.v[g][0]!==m.v[g][0]||p.v[g][1]!==m.v[g][1]||p.o[g][0]!==m.o[g][0]||p.o[g][1]!==m.o[g][1]||p.i[g][0]!==m.i[g][0]||p.i[g][1]!==m.i[g][1])return!1;return!0})(this.v,d)||(this.v=shapePool.clone(d),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var d,p;this.lock=!0,this._mdf=!1,d=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var m=this.effectsSequence.length;for(p=0;p<m;p+=1)d=this.effectsSequence[p](d);this.setVValue(d),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function a(d,p,m){this.propType="shape",this.comp=d.comp,this.container=d,this.elem=d,this.data=p,this.k=!1,this.kf=!1,this._mdf=!1;var g=m===3?p.pt.k:p.ks.k;this.v=shapePool.clone(g),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function o(d){this.effectsSequence.push(d),this.container.addDynamicProperty(this)}function l(d,p,m){this.propType="shape",this.comp=d.comp,this.elem=d,this.container=d,this.offsetTime=d.data.st,this.keyframes=m===3?p.pt.k:p.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var g=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,g),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=i,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}a.prototype.interpolateShape=t,a.prototype.getValue=s,a.prototype.setVValue=n,a.prototype.addEffect=o,l.prototype.getValue=s,l.prototype.interpolateShape=t,l.prototype.setVValue=n,l.prototype.addEffect=o;var c=function(){var d=roundCorner;function p(m,g){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=g.d,this.elem=m,this.comp=m.comp,this.frameId=-1,this.initDynamicPropertyContainer(m),this.p=PropertyFactory.getProp(m,g.p,1,0,this),this.s=PropertyFactory.getProp(m,g.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return p.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var m=this.p.v[0],g=this.p.v[1],f=this.s.v[0]/2,y=this.s.v[1]/2,v=this.d!==3,b=this.v;b.v[0][0]=m,b.v[0][1]=g-y,b.v[1][0]=v?m+f:m-f,b.v[1][1]=g,b.v[2][0]=m,b.v[2][1]=g+y,b.v[3][0]=v?m-f:m+f,b.v[3][1]=g,b.i[0][0]=v?m-f*d:m+f*d,b.i[0][1]=g-y,b.i[1][0]=v?m+f:m-f,b.i[1][1]=g-y*d,b.i[2][0]=v?m+f*d:m-f*d,b.i[2][1]=g+y,b.i[3][0]=v?m-f:m+f,b.i[3][1]=g+y*d,b.o[0][0]=v?m+f*d:m-f*d,b.o[0][1]=g-y,b.o[1][0]=v?m+f:m-f,b.o[1][1]=g+y*d,b.o[2][0]=v?m-f*d:m+f*d,b.o[2][1]=g+y,b.o[3][0]=v?m-f:m+f,b.o[3][1]=g-y*d}},extendPrototype([DynamicPropertyContainer],p),p}(),u=function(){function d(p,m){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=p,this.comp=p.comp,this.data=m,this.frameId=-1,this.d=m.d,this.initDynamicPropertyContainer(p),m.sy===1?(this.ir=PropertyFactory.getProp(p,m.ir,0,0,this),this.is=PropertyFactory.getProp(p,m.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(p,m.pt,0,0,this),this.p=PropertyFactory.getProp(p,m.p,1,0,this),this.r=PropertyFactory.getProp(p,m.r,0,degToRads,this),this.or=PropertyFactory.getProp(p,m.or,0,0,this),this.os=PropertyFactory.getProp(p,m.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return d.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var p,m,g,f,y=2*Math.floor(this.pt.v),v=2*Math.PI/y,b=!0,k=this.or.v,E=this.ir.v,x=this.os.v,S=this.is.v,C=2*Math.PI*k/(2*y),w=2*Math.PI*E/(2*y),P=-Math.PI/2;P+=this.r.v;var T=this.data.d===3?-1:1;for(this.v._length=0,p=0;p<y;p+=1){g=b?x:S,f=b?C:w;var F=(m=b?k:E)*Math.cos(P),I=m*Math.sin(P),D=F===0&&I===0?0:I/Math.sqrt(F*F+I*I),L=F===0&&I===0?0:-F/Math.sqrt(F*F+I*I);F+=+this.p.v[0],I+=+this.p.v[1],this.v.setTripleAt(F,I,F-D*f*g*T,I-L*f*g*T,F+D*f*g*T,I+L*f*g*T,p,!0),b=!b,P+=v*T}},convertPolygonToPath:function(){var p,m=Math.floor(this.pt.v),g=2*Math.PI/m,f=this.or.v,y=this.os.v,v=2*Math.PI*f/(4*m),b=.5*-Math.PI,k=this.data.d===3?-1:1;for(b+=this.r.v,this.v._length=0,p=0;p<m;p+=1){var E=f*Math.cos(b),x=f*Math.sin(b),S=E===0&&x===0?0:x/Math.sqrt(E*E+x*x),C=E===0&&x===0?0:-E/Math.sqrt(E*E+x*x);E+=+this.p.v[0],x+=+this.p.v[1],this.v.setTripleAt(E,x,E-S*v*y*k,x-C*v*y*k,E+S*v*y*k,x+C*v*y*k,p,!0),b+=g*k}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],d),d}(),h=function(){function d(p,m){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=p,this.comp=p.comp,this.frameId=-1,this.d=m.d,this.initDynamicPropertyContainer(p),this.p=PropertyFactory.getProp(p,m.p,1,0,this),this.s=PropertyFactory.getProp(p,m.s,1,0,this),this.r=PropertyFactory.getProp(p,m.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return d.prototype={convertRectToPath:function(){var p=this.p.v[0],m=this.p.v[1],g=this.s.v[0]/2,f=this.s.v[1]/2,y=bmMin(g,f,this.r.v),v=y*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(p+g,m-f+y,p+g,m-f+y,p+g,m-f+v,0,!0),this.v.setTripleAt(p+g,m+f-y,p+g,m+f-v,p+g,m+f-y,1,!0),y!==0?(this.v.setTripleAt(p+g-y,m+f,p+g-y,m+f,p+g-v,m+f,2,!0),this.v.setTripleAt(p-g+y,m+f,p-g+v,m+f,p-g+y,m+f,3,!0),this.v.setTripleAt(p-g,m+f-y,p-g,m+f-y,p-g,m+f-v,4,!0),this.v.setTripleAt(p-g,m-f+y,p-g,m-f+v,p-g,m-f+y,5,!0),this.v.setTripleAt(p-g+y,m-f,p-g+y,m-f,p-g+v,m-f,6,!0),this.v.setTripleAt(p+g-y,m-f,p+g-v,m-f,p+g-y,m-f,7,!0)):(this.v.setTripleAt(p-g,m+f,p-g+v,m+f,p-g,m+f,2),this.v.setTripleAt(p-g,m-f,p-g,m-f+v,p-g,m-f,3))):(this.v.setTripleAt(p+g,m-f+y,p+g,m-f+v,p+g,m-f+y,0,!0),y!==0?(this.v.setTripleAt(p+g-y,m-f,p+g-y,m-f,p+g-v,m-f,1,!0),this.v.setTripleAt(p-g+y,m-f,p-g+v,m-f,p-g+y,m-f,2,!0),this.v.setTripleAt(p-g,m-f+y,p-g,m-f+y,p-g,m-f+v,3,!0),this.v.setTripleAt(p-g,m+f-y,p-g,m+f-v,p-g,m+f-y,4,!0),this.v.setTripleAt(p-g+y,m+f,p-g+y,m+f,p-g+v,m+f,5,!0),this.v.setTripleAt(p+g-y,m+f,p+g-v,m+f,p+g-y,m+f,6,!0),this.v.setTripleAt(p+g,m+f-y,p+g,m+f-y,p+g,m+f-v,7,!0)):(this.v.setTripleAt(p-g,m-f,p-g+v,m-f,p-g,m-f,1,!0),this.v.setTripleAt(p-g,m+f,p-g,m+f-v,p-g,m+f,2,!0),this.v.setTripleAt(p+g,m+f,p+g-v,m+f,p+g,m+f,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],d),d}();return{getShapeProp:function(d,p,m){var g;return m===3||m===4?g=(m===3?p.pt:p.ks).k.length?new l(d,p,m):new a(d,p,m):m===5?g=new h(d,p):m===6?g=new c(d,p):m===7&&(g=new u(d,p)),g.k&&d.addDynamicProperty(g),g},getConstructorFunction:function(){return a},getKeyframedConstructorFunction:function(){return l}}}(),Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,i=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(A){if(A===0)return this;var j=e(A),B=t(A);return this._t(j,-B,0,0,B,j,0,0,0,0,1,0,0,0,0,1)}function a(A){if(A===0)return this;var j=e(A),B=t(A);return this._t(1,0,0,0,0,j,-B,0,0,B,j,0,0,0,0,1)}function o(A){if(A===0)return this;var j=e(A),B=t(A);return this._t(j,0,B,0,0,1,0,0,-B,0,j,0,0,0,0,1)}function l(A){if(A===0)return this;var j=e(A),B=t(A);return this._t(j,-B,0,0,B,j,0,0,0,0,1,0,0,0,0,1)}function c(A,j){return this._t(1,j,A,1,0,0)}function u(A,j){return this.shear(r(A),r(j))}function h(A,j){var B=e(j),G=t(j);return this._t(B,G,0,0,-G,B,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(A),1,0,0,0,0,1,0,0,0,0,1)._t(B,-G,0,0,G,B,0,0,0,0,1,0,0,0,0,1)}function d(A,j,B){return B||B===0||(B=1),A===1&&j===1&&B===1?this:this._t(A,0,0,0,0,j,0,0,0,0,B,0,0,0,0,1)}function p(A,j,B,G,q,V,z,U,R,H,Y,K,ee,M,Q,te){return this.props[0]=A,this.props[1]=j,this.props[2]=B,this.props[3]=G,this.props[4]=q,this.props[5]=V,this.props[6]=z,this.props[7]=U,this.props[8]=R,this.props[9]=H,this.props[10]=Y,this.props[11]=K,this.props[12]=ee,this.props[13]=M,this.props[14]=Q,this.props[15]=te,this}function m(A,j,B){return B=B||0,A!==0||j!==0||B!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,A,j,B,1):this}function g(A,j,B,G,q,V,z,U,R,H,Y,K,ee,M,Q,te){var $=this.props;if(A===1&&j===0&&B===0&&G===0&&q===0&&V===1&&z===0&&U===0&&R===0&&H===0&&Y===1&&K===0)return $[12]=$[12]*A+$[15]*ee,$[13]=$[13]*V+$[15]*M,$[14]=$[14]*Y+$[15]*Q,$[15]*=te,this._identityCalculated=!1,this;var ne=$[0],X=$[1],re=$[2],se=$[3],he=$[4],ie=$[5],de=$[6],ce=$[7],le=$[8],ue=$[9],ae=$[10],me=$[11],ye=$[12],ve=$[13],be=$[14],pe=$[15];return $[0]=ne*A+X*q+re*R+se*ee,$[1]=ne*j+X*V+re*H+se*M,$[2]=ne*B+X*z+re*Y+se*Q,$[3]=ne*G+X*U+re*K+se*te,$[4]=he*A+ie*q+de*R+ce*ee,$[5]=he*j+ie*V+de*H+ce*M,$[6]=he*B+ie*z+de*Y+ce*Q,$[7]=he*G+ie*U+de*K+ce*te,$[8]=le*A+ue*q+ae*R+me*ee,$[9]=le*j+ue*V+ae*H+me*M,$[10]=le*B+ue*z+ae*Y+me*Q,$[11]=le*G+ue*U+ae*K+me*te,$[12]=ye*A+ve*q+be*R+pe*ee,$[13]=ye*j+ve*V+be*H+pe*M,$[14]=ye*B+ve*z+be*Y+pe*Q,$[15]=ye*G+ve*U+be*K+pe*te,this._identityCalculated=!1,this}function f(A){var j=A.props;return this.transform(j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],j[8],j[9],j[10],j[11],j[12],j[13],j[14],j[15])}function y(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function v(A){for(var j=0;j<16;){if(A.props[j]!==this.props[j])return!1;j+=1}return!0}function b(A){var j;for(j=0;j<16;j+=1)A.props[j]=this.props[j];return A}function k(A){var j;for(j=0;j<16;j+=1)this.props[j]=A[j]}function E(A,j,B){return{x:A*this.props[0]+j*this.props[4]+B*this.props[8]+this.props[12],y:A*this.props[1]+j*this.props[5]+B*this.props[9]+this.props[13],z:A*this.props[2]+j*this.props[6]+B*this.props[10]+this.props[14]}}function x(A,j,B){return A*this.props[0]+j*this.props[4]+B*this.props[8]+this.props[12]}function S(A,j,B){return A*this.props[1]+j*this.props[5]+B*this.props[9]+this.props[13]}function C(A,j,B){return A*this.props[2]+j*this.props[6]+B*this.props[10]+this.props[14]}function w(){var A=this.props[0]*this.props[5]-this.props[1]*this.props[4],j=this.props[5]/A,B=-this.props[1]/A,G=-this.props[4]/A,q=this.props[0]/A,V=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/A,z=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/A,U=new Matrix;return U.props[0]=j,U.props[1]=B,U.props[4]=G,U.props[5]=q,U.props[12]=V,U.props[13]=z,U}function P(A){return this.getInverseMatrix().applyToPointArray(A[0],A[1],A[2]||0)}function T(A){var j,B=A.length,G=[];for(j=0;j<B;j+=1)G[j]=P(A[j]);return G}function F(A,j,B){var G=createTypedArray("float32",6);if(this.isIdentity())G[0]=A[0],G[1]=A[1],G[2]=j[0],G[3]=j[1],G[4]=B[0],G[5]=B[1];else{var q=this.props[0],V=this.props[1],z=this.props[4],U=this.props[5],R=this.props[12],H=this.props[13];G[0]=A[0]*q+A[1]*z+R,G[1]=A[0]*V+A[1]*U+H,G[2]=j[0]*q+j[1]*z+R,G[3]=j[0]*V+j[1]*U+H,G[4]=B[0]*q+B[1]*z+R,G[5]=B[0]*V+B[1]*U+H}return G}function I(A,j,B){return this.isIdentity()?[A,j,B]:[A*this.props[0]+j*this.props[4]+B*this.props[8]+this.props[12],A*this.props[1]+j*this.props[5]+B*this.props[9]+this.props[13],A*this.props[2]+j*this.props[6]+B*this.props[10]+this.props[14]]}function D(A,j){if(this.isIdentity())return A+","+j;var B=this.props;return Math.round(100*(A*B[0]+j*B[4]+B[12]))/100+","+Math.round(100*(A*B[1]+j*B[5]+B[13]))/100}function L(){for(var A=0,j=this.props,B="matrix3d(";A<16;)B+=i(1e4*j[A])/1e4,B+=A===15?")":",",A+=1;return B}function O(A){return A<1e-6&&A>0||A>-1e-6&&A<0?i(1e4*A)/1e4:A}function W(){var A=this.props;return"matrix("+O(A[0])+","+O(A[1])+","+O(A[4])+","+O(A[5])+","+O(A[12])+","+O(A[13])+")"}return function(){this.reset=n,this.rotate=s,this.rotateX=a,this.rotateY=o,this.rotateZ=l,this.skew=u,this.skewFromAxis=h,this.shear=c,this.scale=d,this.setTransform=p,this.translate=m,this.transform=g,this.multiply=f,this.applyToPoint=E,this.applyToX=x,this.applyToY=S,this.applyToZ=C,this.applyToPointArray=I,this.applyToTriplePoints=F,this.applyToPointStringified=D,this.toCSS=L,this.to2dCSS=W,this.clone=b,this.cloneFromProps=k,this.equals=v,this.inversePoints=T,this.inversePoint=P,this.getInverseMatrix=w,this._t=this.transform,this.isIdentity=y,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return(_typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var lottie={};function setLocation(e){setLocationHref(e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return animationManager.loadAnimation(e)}function setQuality(e){if(typeof e=="string")switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e)}function inBrowser(){return typeof navigator<"u"}function installPlugin(e,t){e==="expressions"&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var i=t[r].split("=");if(decodeURIComponent(i[0])==e)return decodeURIComponent(i[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";var queryString="",scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer");var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(r,i){t[r]||(t[r]=i)},e.getModifier=function(r,i,n){return new t[r](i,n)},e}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,i,n){var s=[];t<=1?s.push({s:e,e:t}):e>=1?s.push({s:e-1,e:t-1}):(s.push({s:e,e:1}),s.push({s:0,e:t-1}));var a,o,l=[],c=s.length;for(a=0;a<c;a+=1){var u,h;(o=s[a]).e*n<i||o.s*n>i+r||(u=o.s*n<=i?0:(o.s*n-i)/r,h=o.e*n>=i+r?1:(o.e*n-i)/r,l.push([u,h]))}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r,i,n;if(this._mdf||e){var s=this.o.v%360/360;if(s<0&&(s+=1),(t=this.s.v>1?1+s:this.s.v<0?0+s:this.s.v+s)>(r=this.e.v>1?1+s:this.e.v<0?0+s:this.e.v+s)){var a=t;t=r,r=a}t=1e-4*Math.round(1e4*t),r=1e-4*Math.round(1e4*r),this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var o,l,c,u,h,d=this.shapes.length,p=0;if(r===t)for(n=0;n<d;n+=1)this.shapes[n].localShapeCollection.releaseShapes(),this.shapes[n].shape._mdf=!0,this.shapes[n].shape.paths=this.shapes[n].localShapeCollection,this._mdf&&(this.shapes[n].pathsData.length=0);else if(r===1&&t===0||r===0&&t===1){if(this._mdf)for(n=0;n<d;n+=1)this.shapes[n].pathsData.length=0,this.shapes[n].shape._mdf=!0}else{var m,g,f=[];for(n=0;n<d;n+=1)if((m=this.shapes[n]).shape._mdf||this._mdf||e||this.m===2){if(l=(i=m.shape.paths)._length,h=0,!m.shape._mdf&&m.pathsData.length)h=m.totalShapeLength;else{for(c=this.releasePathsData(m.pathsData),o=0;o<l;o+=1)u=bez.getSegmentsLength(i.shapes[o]),c.push(u),h+=u.totalLength;m.totalShapeLength=h,m.pathsData=c}p+=h,m.shape._mdf=!0}else m.shape.paths=m.localShapeCollection;var y,v=t,b=r,k=0;for(n=d-1;n>=0;n-=1)if((m=this.shapes[n]).shape._mdf){for((g=m.localShapeCollection).releaseShapes(),this.m===2&&d>1?(y=this.calculateShapeEdges(t,r,m.totalShapeLength,k,p),k+=m.totalShapeLength):y=[[v,b]],l=y.length,o=0;o<l;o+=1){v=y[o][0],b=y[o][1],f.length=0,b<=1?f.push({s:m.totalShapeLength*v,e:m.totalShapeLength*b}):v>=1?f.push({s:m.totalShapeLength*(v-1),e:m.totalShapeLength*(b-1)}):(f.push({s:m.totalShapeLength*v,e:m.totalShapeLength}),f.push({s:0,e:m.totalShapeLength*(b-1)}));var E=this.addShapes(m,f[0]);if(f[0].s!==f[0].e){if(f.length>1)if(m.shape.paths.shapes[m.shape.paths._length-1].c){var x=E.pop();this.addPaths(E,g),E=this.addShapes(m,f[1],x)}else this.addPaths(E,g),E=this.addShapes(m,f[1]);this.addPaths(E,g)}}m.shape.paths=g}}},TrimModifier.prototype.addPaths=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,i,n,s,a){n.setXYAt(t[0],t[1],"o",s),n.setXYAt(r[0],r[1],"i",s+1),a&&n.setXYAt(e[0],e[1],"v",s),n.setXYAt(i[0],i[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,i){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),i&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var i,n,s,a,o,l,c,u,h=e.pathsData,d=e.shape.paths.shapes,p=e.shape.paths._length,m=0,g=[],f=!0;for(r?(o=r._length,u=r._length):(r=shapePool.newElement(),o=0,u=0),g.push(r),i=0;i<p;i+=1){for(l=h[i].lengths,r.c=d[i].c,s=d[i].c?l.length:l.length+1,n=1;n<s;n+=1)if(m+(a=l[n-1]).addedLength<t.s)m+=a.addedLength,r.c=!1;else{if(m>t.e){r.c=!1;break}t.s<=m&&t.e>=m+a.addedLength?(this.addSegment(d[i].v[n-1],d[i].o[n-1],d[i].i[n],d[i].v[n],r,o,f),f=!1):(c=bez.getNewSegment(d[i].v[n-1],d[i].v[n],d[i].o[n-1],d[i].i[n],(t.s-m)/a.addedLength,(t.e-m)/a.addedLength,l[n-1]),this.addSegmentFromArray(c,r,o,f),f=!1,r.c=!1),m+=a.addedLength,o+=1}if(d[i].c&&l.length){if(a=l[n-1],m<=t.e){var y=l[n-1].addedLength;t.s<=m&&t.e>=m+y?(this.addSegment(d[i].v[n-1],d[i].o[n-1],d[i].i[0],d[i].v[0],r,o,f),f=!1):(c=bez.getNewSegment(d[i].v[n-1],d[i].v[0],d[i].o[n-1],d[i].i[0],(t.s-m)/y,(t.e-m)/y,l[n-1]),this.addSegmentFromArray(c,r,o,f),f=!1,r.c=!1)}else r.c=!1;m+=a.addedLength,o+=1}if(r._length&&(r.setXYAt(r.v[u][0],r.v[u][1],"i",u),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),m>t.e)break;i<p-1&&(r=shapePool.newElement(),f=!0,g.push(r),o=0)}return g},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,i=[0,0],n=e._length,s=0;for(s=0;s<n;s+=1)i[0]+=e.v[s][0],i[1]+=e.v[s][1];i[0]/=n,i[1]/=n;var a,o,l,c,u,h,d=shapePool.newElement();for(d.c=e.c,s=0;s<n;s+=1)a=e.v[s][0]+(i[0]-e.v[s][0])*r,o=e.v[s][1]+(i[1]-e.v[s][1])*r,l=e.o[s][0]+(i[0]-e.o[s][0])*-r,c=e.o[s][1]+(i[1]-e.o[s][1])*-r,u=e.i[s][0]+(i[0]-e.i[s][0])*-r,h=e.i[s][1]+(i[1]-e.i[s][1])*-r,d.setTripleAt(a,o,l,c,u,h,s);return d},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,i,n,s,a,o=this.shapes.length,l=this.amount.v;if(l!==0)for(r=0;r<o;r+=1){if(a=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(a.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(t[i],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(r,i,n){if(this.elem=r,this.frameId=-1,this.propType="transform",this.data=i,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||r),i.p&&i.p.s?(this.px=PropertyFactory.getProp(r,i.p.x,0,0,this),this.py=PropertyFactory.getProp(r,i.p.y,0,0,this),i.p.z&&(this.pz=PropertyFactory.getProp(r,i.p.z,0,0,this))):this.p=PropertyFactory.getProp(r,i.p||{k:[0,0,0]},1,0,this),i.rx){if(this.rx=PropertyFactory.getProp(r,i.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(r,i.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(r,i.rz,0,degToRads,this),i.or.k[0].ti){var s,a=i.or.k.length;for(s=0;s<a;s+=1)i.or.k[s].to=null,i.or.k[s].ti=null}this.or=PropertyFactory.getProp(r,i.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(r,i.r||{k:0},0,degToRads,this);i.sk&&(this.sk=PropertyFactory.getProp(r,i.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(r,i.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(r,i.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(r,i.s||{k:[100,100,100]},1,.01,this),i.o?this.o=PropertyFactory.getProp(r,i.o,0,.01,r):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(r){var i=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||i,this.a&&r.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&r.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&r.skewFromAxis(-this.sk.v,this.sa.v),this.r?r.rotate(-this.r.v):r.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?r.translate(this.px.v,this.py.v,-this.pz.v):r.translate(this.px.v,this.py.v,0):r.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(r){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||r){var i;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,s;if(i=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),s=this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),s=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/i,0)):(n=this.p.pv,s=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],s=[];var a=this.px,o=this.py;a._caching.lastFrame+a.offsetTime<=a.keyframes[0].t?(n[0]=a.getValueAtTime((a.keyframes[0].t+.01)/i,0),n[1]=o.getValueAtTime((o.keyframes[0].t+.01)/i,0),s[0]=a.getValueAtTime(a.keyframes[0].t/i,0),s[1]=o.getValueAtTime(o.keyframes[0].t/i,0)):a._caching.lastFrame+a.offsetTime>=a.keyframes[a.keyframes.length-1].t?(n[0]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/i,0),n[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/i,0),s[0]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/i,0),s[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/i,0)):(n=[a.pv,o.pv],s[0]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/i,a.offsetTime),s[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/i,o.offsetTime))}else n=s=e;this.v.rotate(-Math.atan2(n[1]-s[1],n[0]-s[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(r){this._addDynamicProperty(r),this.elem.addDynamicProperty(r),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(r,i,n){return new t(r,i,n)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,r){return e*(1-r)+t*r}function lerpPoint(e,t,r){return[lerp(e[0],t[0],r),lerp(e[1],t[1],r)]}function quadRoots(e,t,r){if(e===0)return[];var i=t*t-4*e*r;if(i<0)return[];var n=-t/(2*e);if(i===0)return[n];var s=Math.sqrt(i)/(2*e);return[n-s,n+s]}function polynomialCoefficients(e,t,r,i){return[3*t-e-3*r+i,3*e-6*t+3*r,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,r,i,n){n&&pointEqual(e,t)&&(t=lerpPoint(e,i,1/3)),n&&pointEqual(r,i)&&(r=lerpPoint(e,i,2/3));var s=polynomialCoefficients(e[0],t[0],r[0],i[0]),a=polynomialCoefficients(e[1],t[1],r[1],i[1]);this.a=[s[0],a[0]],this.b=[s[1],a[1]],this.c=[s[2],a[2]],this.d=[s[3],a[3]],this.points=[e,t,r,i]}function extrema(e,t){var r=e.points[0][t],i=e.points[e.points.length-1][t];if(r>i){var n=i;i=r,r=n}for(var s=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),a=0;a<s.length;a+=1)if(s[a]>0&&s[a]<1){var o=e.point(s[a])[t];o<r?r=o:o>i&&(i=o)}return{min:r,max:i}}function intersectData(e,t,r){var i=e.boundingBox();return{cx:i.cx,cy:i.cy,width:i.width,height:i.height,bez:e,t:(t+r)/2,t1:t,t2:r}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function intersectsImpl(e,t,r,i,n,s){if(boxIntersect(e,t))if(r>=s||e.width<=i&&e.height<=i&&t.width<=i&&t.height<=i)n.push([e.t,t.t]);else{var a=splitData(e),o=splitData(t);intersectsImpl(a[0],o[0],r+1,i,n,s),intersectsImpl(a[0],o[1],r+1,i,n,s),intersectsImpl(a[1],o[0],r+1,i,n,s),intersectsImpl(a[1],o[1],r+1,i,n,s)}}function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,r,i){var n=[e[0],e[1],1],s=[t[0],t[1],1],a=[r[0],r[1],1],o=[i[0],i[1],1],l=crossProduct(crossProduct(n,s),crossProduct(a,o));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,r){return[e[0]+Math.cos(t)*r,e[1]-Math.sin(t)*r]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}function setPoint(e,t,r,i,n,s,a){var o=r-Math.PI/2,l=r+Math.PI/2,c=t[0]+Math.cos(r)*i*n,u=t[1]-Math.sin(r)*i*n;e.setTripleAt(c,u,c+Math.cos(o)*s,u-Math.sin(o)*s,c+Math.cos(l)*a,u-Math.sin(l)*a,e.length())}function getPerpendicularVector(e,t){var r=[t[0]-e[0],t[1]-e[1]],i=.5*-Math.PI;return[Math.cos(i)*r[0]-Math.sin(i)*r[1],Math.sin(i)*r[0]+Math.cos(i)*r[1]]}function getProjectingAngle(e,t){var r=t===0?e.length()-1:t-1,i=(t+1)%e.length(),n=getPerpendicularVector(e.v[r],e.v[i]);return Math.atan2(0,1)-Math.atan2(n[1],n[0])}function zigZagCorner(e,t,r,i,n,s,a){var o=getProjectingAngle(t,r),l=t.v[r%t._length],c=t.v[r===0?t._length-1:r-1],u=t.v[(r+1)%t._length],h=s===2?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0,d=s===2?Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)):0;setPoint(e,t.v[r%t._length],o,a,i,d/(2*(n+1)),h/(2*(n+1)))}function zigZagSegment(e,t,r,i,n,s){for(var a=0;a<i;a+=1){var o=(a+1)/(i+1),l=n===2?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,c=t.normalAngle(o);setPoint(e,t.point(o),c,s,r,l/(2*(i+1)),l/(2*(i+1))),s=-s}return s}function linearOffset(e,t,r){var i=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,i,r),polarOffset(t,i,r)]}function offsetSegment(e,t){var r,i,n,s,a,o,l;r=(l=linearOffset(e.points[0],e.points[1],t))[0],i=l[1],n=(l=linearOffset(e.points[1],e.points[2],t))[0],s=l[1],a=(l=linearOffset(e.points[2],e.points[3],t))[0],o=l[1];var c=lineIntersection(r,i,n,s);c===null&&(c=i);var u=lineIntersection(a,o,n,s);return u===null&&(u=a),new PolynomialBezier(r,c,u,o)}function joinLines(e,t,r,i,n){var s=t.points[3],a=r.points[0];if(i===3||pointEqual(s,a))return s;if(i===2){var o=-t.tangentAngle(1),l=-r.tangentAngle(0)+Math.PI,c=lineIntersection(s,polarOffset(s,o+Math.PI/2,100),a,polarOffset(a,o+Math.PI/2,100)),u=c?pointDistance(c,s):pointDistance(s,a)/2,h=polarOffset(s,o,2*u*roundCorner);return e.setXYAt(h[0],h[1],"o",e.length()-1),h=polarOffset(a,l,2*u*roundCorner),e.setTripleAt(a[0],a[1],a[0],a[1],h[0],h[1],e.length()),a}var d=lineIntersection(pointEqual(s,t.points[2])?t.points[0]:t.points[2],s,a,pointEqual(a,r.points[1])?r.points[3]:r.points[1]);return d&&pointDistance(d,s)<n?(e.setTripleAt(d[0],d[1],d[0],d[1],d[0],d[1],e.length()),d):s}function getIntersection(e,t){var r=e.intersections(t);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(e,t){var r=e.slice(),i=t.slice(),n=getIntersection(e[e.length-1],t[0]);return n&&(r[e.length-1]=e[e.length-1].split(n[0])[0],i[0]=t[0].split(n[1])[1]),e.length>1&&t.length>1&&(n=getIntersection(e[0],t[t.length-1]))?[[e[0].split(n[0])[0]],[t[t.length-1].split(n[1])[1]]]:[r,i]}function pruneIntersections(e){for(var t,r=1;r<e.length;r+=1)t=pruneSegmentIntersection(e[r-1],e[r]),e[r-1]=t[0],e[r]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var r,i,n,s,a=e.inflectionPoints();if(a.length===0)return[offsetSegment(e,t)];if(a.length===1||floatEqual(a[1],1))return r=(n=e.split(a[0]))[0],i=n[1],[offsetSegment(r,t),offsetSegment(i,t)];r=(n=e.split(a[0]))[0];var o=(a[1]-a[0])/(1-a[0]);return s=(n=n[1].split(o))[0],i=n[1],[offsetSegment(r,t),offsetSegment(s,t),offsetSegment(i,t)]}function OffsetPathModifier(){}function getFontProperties(e){for(var t=e.fStyle?e.fStyle.split(" "):[],r="normal",i="normal",n=t.length,s=0;s<n;s+=1)switch(t[s].toLowerCase()){case"italic":i="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:i,weight:e.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,i,n,s){var a=s?-1:1,o=i.s.v[0]+(1-i.s.v[0])*(1-n),l=i.s.v[1]+(1-i.s.v[1])*(1-n);e.translate(i.p.v[0]*a*n,i.p.v[1]*a*n,i.p.v[2]),t.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),t.rotate(-i.r.v*a*n),t.translate(i.a.v[0],i.a.v[1],i.a.v[2]),r.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),r.scale(s?1/o:o,s?1/l:l),r.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,i){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,e[t].ty==="gr"&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)e[r]._render=t,e[r].ty==="gr"&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,i,n,s,a=!1;if(this._mdf||e){var o,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var c={it:this.cloneElements(this._elements),ty:"gr"};c.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,c),this._groups.splice(0,0,c),this._currentCopies+=1}this.elem.reloadShapes(),a=!0}for(s=0,i=0;i<=this._groups.length-1;i+=1){if(o=s<l,this._groups[i]._render=o,this.changeGroupRender(this._groups[i].it,o),!o){var u=this.elemsData[i].it,h=u[u.length-1];h.transform.op.v!==0?(h.transform.op._mdf=!0,h.transform.op.v=0):h.transform.op._mdf=!1}s+=1}this._currentCopies=l;var d=this.o.v,p=d%1,m=d>0?Math.floor(d):Math.ceil(d),g=this.pMatrix.props,f=this.rMatrix.props,y=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var v,b,k=0;if(d>0){for(;k<m;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),k+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),k+=p)}else if(d<0){for(;k>m;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),k-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),k-=p)}for(i=this.data.m===1?0:this._currentCopies-1,n=this.data.m===1?1:-1,s=this._currentCopies;s;){if(b=(r=(t=this.elemsData[i].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1)),k!==0){for((i!==0&&n===1||i!==this._currentCopies-1&&n===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15]),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),v=0;v<b;v+=1)r[v]=this.matrix.props[v];this.matrix.reset()}else for(this.matrix.reset(),v=0;v<b;v+=1)r[v]=this.matrix.props[v];k+=1,s-=1,i+=n}}else for(s=this._currentCopies,i=0,n=1;s;)r=(t=this.elemsData[i].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,s-=1,i+=n;return a},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r,i=shapePool.newElement();i.c=e.c;var n,s,a,o,l,c,u,h,d,p,m,g,f=e._length,y=0;for(r=0;r<f;r+=1)n=e.v[r],a=e.o[r],s=e.i[r],n[0]===a[0]&&n[1]===a[1]&&n[0]===s[0]&&n[1]===s[1]?r!==0&&r!==f-1||e.c?(o=r===0?e.v[f-1]:e.v[r-1],c=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,t)/l:0,u=m=n[0]+(o[0]-n[0])*c,h=g=n[1]-(n[1]-o[1])*c,d=u-(u-n[0])*roundCorner,p=h-(h-n[1])*roundCorner,i.setTripleAt(u,h,d,p,m,g,y),y+=1,o=r===f-1?e.v[0]:e.v[r+1],c=(l=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(l/2,t)/l:0,u=d=n[0]+(o[0]-n[0])*c,h=p=n[1]+(o[1]-n[1])*c,m=u-(u-n[0])*roundCorner,g=h-(h-n[1])*roundCorner,i.setTripleAt(u,h,d,p,m,g,y),y+=1):(i.setTripleAt(n[0],n[1],a[0],a[1],s[0],s[1],y),y+=1):(i.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],y),y+=1);return i},RoundCornersModifier.prototype.processShapes=function(e){var t,r,i,n,s,a,o=this.shapes.length,l=this.rd.v;if(l!==0)for(r=0;r<o;r+=1){if(a=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(a.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(t[i],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,r=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(r<0)return[];var i=Math.sqrt(r);return floatZero(i)?i>0&&i<1?[t]:[]:[t-i,t+i].filter(function(n){return n>0&&n<1})},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),r=lerpPoint(this.points[1],this.points[2],e),i=lerpPoint(this.points[2],this.points[3],e),n=lerpPoint(t,r,e),s=lerpPoint(r,i,e),a=lerpPoint(n,s,e);return[new PolynomialBezier(this.points[0],t,n,a,!0),new PolynomialBezier(a,s,i,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},PolynomialBezier.prototype.intersections=function(e,t,r){t===void 0&&(t=2),r===void 0&&(r=7);var i=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,i,r),i},PolynomialBezier.shapeSegment=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[r],e.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[r],e.i[r],e.o[t],e.v[t],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0},ZigZagModifier.prototype.processPath=function(e,t,r,i){var n=e._length,s=shapePool.newElement();if(s.c=e.c,e.c||(n-=1),n===0)return s;var a=-1,o=PolynomialBezier.shapeSegment(e,0);zigZagCorner(s,e,0,t,r,i,a);for(var l=0;l<n;l+=1)a=zigZagSegment(s,o,t,r,i,-a),o=l!==n-1||e.c?PolynomialBezier.shapeSegment(e,(l+1)%n):null,zigZagCorner(s,e,l+1,t,r,i,a);return s},ZigZagModifier.prototype.processShapes=function(e){var t,r,i,n,s,a,o=this.shapes.length,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),u=this.pointsType.v;if(l!==0)for(r=0;r<o;r+=1){if(a=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(a.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(t[i],l,c,u));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(e,t,r,i){var n=shapePool.newElement();n.c=e.c;var s,a,o,l=e.length();e.c||(l-=1);var c=[];for(s=0;s<l;s+=1)o=PolynomialBezier.shapeSegment(e,s),c.push(offsetSegmentSplit(o,t));if(!e.c)for(s=l-1;s>=0;s-=1)o=PolynomialBezier.shapeSegmentInverted(e,s),c.push(offsetSegmentSplit(o,t));c=pruneIntersections(c);var u=null,h=null;for(s=0;s<c.length;s+=1){var d=c[s];for(h&&(u=joinLines(n,h,d[0],r,i)),h=d[d.length-1],a=0;a<d.length;a+=1)o=d[a],u&&pointEqual(o.points[0],u)?n.setXYAt(o.points[1][0],o.points[1][1],"o",n.length()-1):n.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],n.length()),n.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],n.length()),u=o.points[3]}return c.length&&joinLines(n,h,c[0][0],r,i),n},OffsetPathModifier.prototype.processShapes=function(e){var t,r,i,n,s,a,o=this.shapes.length,l=this.amount.v,c=this.miterLimit.v,u=this.lineJoin;if(l!==0)for(r=0;r<o;r+=1){if(a=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(a.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(t[i],l,u,c));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,i=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function n(c,u){var h=createTag("span");h.setAttribute("aria-hidden",!0),h.style.fontFamily=u;var d=createTag("span");d.innerText="giItT1WQy@!-/#",h.style.position="absolute",h.style.left="-10000px",h.style.top="-10000px",h.style.fontSize="300px",h.style.fontVariant="normal",h.style.fontStyle="normal",h.style.fontWeight="normal",h.style.letterSpacing="0",h.appendChild(d),document.body.appendChild(h);var p=d.offsetWidth;return d.style.fontFamily=function(m){var g,f=m.split(","),y=f.length,v=[];for(g=0;g<y;g+=1)f[g]!=="sans-serif"&&f[g]!=="monospace"&&v.push(f[g]);return v.join(",")}(c)+", "+u,{node:d,w:p,parent:h}}function s(c,u){var h,d=document.body&&u?"svg":"canvas",p=getFontProperties(c);if(d==="svg"){var m=createNS("text");m.style.fontSize="100px",m.setAttribute("font-family",c.fFamily),m.setAttribute("font-style",p.style),m.setAttribute("font-weight",p.weight),m.textContent="1",c.fClass?(m.style.fontFamily="inherit",m.setAttribute("class",c.fClass)):m.style.fontFamily=c.fFamily,u.appendChild(m),h=m}else{var g=new OffscreenCanvas(500,500).getContext("2d");g.font=p.style+" "+p.weight+" 100px "+c.fFamily,h=g}return{measureText:function(f){return d==="svg"?(h.textContent=f,h.getComputedTextLength()):h.measureText(f).width}}}function a(c){var u=0,h=c.charCodeAt(0);if(h>=55296&&h<=56319){var d=c.charCodeAt(1);d>=56320&&d<=57343&&(u=1024*(h-55296)+d-56320+65536)}return u}function o(c){var u=a(c);return u>=127462&&u<=127487}var l=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return l.isModifier=function(c,u){var h=c.toString(16)+u.toString(16);return i.indexOf(h)!==-1},l.isZeroWidthJoiner=function(c){return c===8205},l.isFlagEmoji=function(c){return o(c.substr(0,2))&&o(c.substr(2,2))},l.isRegionalCode=o,l.isCombinedCharacter=function(c){return t.indexOf(c)!==-1},l.isRegionalFlag=function(c,u){var h=a(c.substr(u,2));if(h!==r)return!1;var d=0;for(u+=2;d<5;){if((h=a(c.substr(u,2)))<917601||h>917626)return!1;d+=1,u+=2}return a(c.substr(u,2))===917631},l.isVariationSelector=function(c){return c===65039},l.BLACK_FLAG_CODE_POINT=r,l.prototype={addChars:function(c){if(c){var u;this.chars||(this.chars=[]);var h,d,p=c.length,m=this.chars.length;for(u=0;u<p;u+=1){for(h=0,d=!1;h<m;)this.chars[h].style===c[u].style&&this.chars[h].fFamily===c[u].fFamily&&this.chars[h].ch===c[u].ch&&(d=!0),h+=1;d||(this.chars.push(c[u]),m+=1)}}},addFonts:function(c,u){if(c){if(this.chars)return this.isLoaded=!0,void(this.fonts=c.list);if(!document.body)return this.isLoaded=!0,c.list.forEach(function(E){E.helper=s(E),E.cache={}}),void(this.fonts=c.list);var h,d=c.list,p=d.length,m=p;for(h=0;h<p;h+=1){var g,f,y=!0;if(d[h].loaded=!1,d[h].monoCase=n(d[h].fFamily,"monospace"),d[h].sansCase=n(d[h].fFamily,"sans-serif"),d[h].fPath){if(d[h].fOrigin==="p"||d[h].origin===3){if((g=document.querySelectorAll('style[f-forigin="p"][f-family="'+d[h].fFamily+'"], style[f-origin="3"][f-family="'+d[h].fFamily+'"]')).length>0&&(y=!1),y){var v=createTag("style");v.setAttribute("f-forigin",d[h].fOrigin),v.setAttribute("f-origin",d[h].origin),v.setAttribute("f-family",d[h].fFamily),v.type="text/css",v.innerText="@font-face {font-family: "+d[h].fFamily+"; font-style: normal; src: url('"+d[h].fPath+"');}",u.appendChild(v)}}else if(d[h].fOrigin==="g"||d[h].origin===1){for(g=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),f=0;f<g.length;f+=1)g[f].href.indexOf(d[h].fPath)!==-1&&(y=!1);if(y){var b=createTag("link");b.setAttribute("f-forigin",d[h].fOrigin),b.setAttribute("f-origin",d[h].origin),b.type="text/css",b.rel="stylesheet",b.href=d[h].fPath,document.body.appendChild(b)}}else if(d[h].fOrigin==="t"||d[h].origin===2){for(g=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),f=0;f<g.length;f+=1)d[h].fPath===g[f].src&&(y=!1);if(y){var k=createTag("link");k.setAttribute("f-forigin",d[h].fOrigin),k.setAttribute("f-origin",d[h].origin),k.setAttribute("rel","stylesheet"),k.setAttribute("href",d[h].fPath),u.appendChild(k)}}}else d[h].loaded=!0,m-=1;d[h].helper=s(d[h],u),d[h].cache={},this.fonts.push(d[h])}m===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(c,u,h){for(var d=0,p=this.chars.length;d<p;){if(this.chars[d].ch===c&&this.chars[d].style===u&&this.chars[d].fFamily===h)return this.chars[d];d+=1}return(typeof c=="string"&&c.charCodeAt(0)!==13||!c)&&console&&console.warn&&!this._warned&&(this._warned=!0),e},getFontByName:function(c){for(var u=0,h=this.fonts.length;u<h;){if(this.fonts[u].fName===c)return this.fonts[u];u+=1}return this.fonts[0]},measureText:function(c,u,h){var d=this.getFontByName(u),p=c;if(!d.cache[p]){var m=d.helper;if(c===" "){var g=m.measureText("|"+c+"|"),f=m.measureText("||");d.cache[p]=(g-f)/100}else d.cache[p]=m.measureText(c)/100}return d.cache[p]*h},checkLoadedFonts:function(){var c,u,h,d=this.fonts.length,p=d;for(c=0;c<d;c+=1)this.fonts[c].loaded?p-=1:this.fonts[c].fOrigin==="n"||this.fonts[c].origin===0?this.fonts[c].loaded=!0:(u=this.fonts[c].monoCase.node,h=this.fonts[c].monoCase.w,u.offsetWidth!==h?(p-=1,this.fonts[c].loaded=!0):(u=this.fonts[c].sansCase.node,h=this.fonts[c].sansCase.w,u.offsetWidth!==h&&(p-=1,this.fonts[c].loaded=!0)),this.fonts[c].loaded&&(this.fonts[c].sansCase.parent.parentNode.removeChild(this.fonts[c].sansCase.parent),this.fonts[c].monoCase.parent.parentNode.removeChild(this.fonts[c].monoCase.parent)));p!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},l}();function SlotManager(e){this.animationData=e}function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(t){return e[t]||""}}();function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r,i=e.ef||[];this.effectElements=[];var n,s=i.length;for(r=0;r<s;r+=1)n=new GroupEffect(i[r],t),this.effectElements.push(n)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){var r;this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var i,n=this.data.ef.length,s=this.data.ef;for(r=0;r<n;r+=1){switch(i=null,s[r].ty){case 0:i=new SliderEffect(s[r],t,this);break;case 1:i=new AngleEffect(s[r],t,this);break;case 2:i=new ColorEffect(s[r],t,this);break;case 3:i=new PointEffect(s[r],t,this);break;case 4:case 7:i=new CheckboxEffect(s[r],t,this);break;case 10:i=new LayerIndexEffect(s[r],t,this);break;case 11:i=new MaskIndexEffect(s[r],t,this);break;case 5:i=new EffectsManager(s[r],t);break;default:i=new NoValueEffect(s[r])}i&&this.effectElements.push(i)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var t=e("layer"),r=e("effects"),i=e("shape"),n=e("text"),s=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var a=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(a),this.data.ty===0||this.data.xt?this.compInterface=s(this):this.data.ty===4?(this.layerInterface.shapeInterface=i(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=n(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var r,i=this.dynamicProperties.length;for(r=0;r<i;r+=1)(t||this._isParent&&this.dynamicProperties[r].propType==="transform")&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,r,i=this.layers.length;for(this.completeLayers=!0,t=i-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){var t;this.completeLayers=!1;var r,i=e.length,n=this.layers.length;for(t=0;t<i;t+=1)for(r=0;r<n;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var i=this.elements,n=this.layers,s=0,a=n.length;s<a;)n[s].ind==t&&(i[s]&&i[s]!==!0?(r.push(i[s]),i[s].setAsParent(),n[s].parent!==void 0?this.buildElementParenting(e,n[s].parent,r):e.setHierarchy(r)):(this.buildItem(s),this.addPendingElement(e))),s+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var i=this.createComp(e[t]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.getElementById=function(e){var t,r=this.elements.length;for(t=0;t<r;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t,r=e.shift();if(typeof r=="number")t=this.elements[r];else{var i,n=this.elements.length;for(i=0;i<n;i+=1)if(this.elements[i].data.nm===r){t=this.elements[i];break}}return e.length===0?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,n,s=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var o,l,c,u,h,d,p=this.masksProperties,m=0,g=[],f=createElementID(),y="clipPath",v="clip-path";for(i=0;i<a;i+=1)if((p[i].mode!=="a"&&p[i].mode!=="n"||p[i].inv||p[i].o.k!==100||p[i].o.x)&&(y="mask",v="mask"),p[i].mode!=="s"&&p[i].mode!=="i"||m!==0?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),g.push(c)),n=createNS("path"),p[i].mode==="n")this.viewData[i]={op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),elem:n,lastPath:""},s.appendChild(n);else{var b;if(m+=1,n.setAttribute("fill",p[i].mode==="s"?"#000000":"#ffffff"),n.setAttribute("clip-rule","nonzero"),p[i].x.k!==0?(y="mask",v="mask",d=PropertyFactory.getProp(this.element,p[i].x,0,null,this.element),b=createElementID(),(u=createNS("filter")).setAttribute("id",b),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),u.appendChild(h),s.appendChild(u),n.setAttribute("stroke",p[i].mode==="s"?"#000000":"#ffffff")):(h=null,d=null),this.storedData[i]={elem:n,x:d,expan:h,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},p[i].mode==="i"){l=g.length;var k=createNS("g");for(o=0;o<l;o+=1)k.appendChild(g[o]);var E=createNS("mask");E.setAttribute("mask-type","alpha"),E.setAttribute("id",f+"_"+m),E.appendChild(n),s.appendChild(E),k.setAttribute("mask","url("+getLocationHref()+"#"+f+"_"+m+")"),g.length=0,g.push(k)}else g.push(n);p[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:n,lastPath:"",op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),invRect:c},this.viewData[i].prop.k||this.drawPath(p[i],this.viewData[i].prop.v,this.viewData[i])}for(this.maskElement=createNS(y),a=g.length,i=0;i<a;i+=1)this.maskElement.appendChild(g[i]);m>0&&(this.maskElement.setAttribute("id",f),this.element.maskedElement.setAttribute(v,"url("+getLocationHref()+"#"+f+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<i;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<i;r+=1)t.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.localTransforms&&!this.finalTransform._matMdf||(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,t=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<t;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),e=1;e<t;e+=1){var i=this.localTransforms[e].matrix;r.multiply(i)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var n=this.finalTransform.localOpacity;for(e=0;e<t;e+=1)n*=.01*this.localTransforms[e].opacity;this.finalTransform.localOpacity=n}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var t=0,r=e.length;for(t=0;t<r;t+=1)this.localTransforms.push(e[t])}}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r,i=!0,n=this.comp;i;)n.finalTransform?(n.data.hasMask&&t.splice(0,0,n.finalTransform),n=n.comp):i=!1;var s,a=t.length;for(r=0;r<a;r+=1)s=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-s[0],e[1]-s[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,r=this.element.finalTransform.mat,i=this.masksProperties.length;for(t=0;t<i;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),this.masksProperties[t].mode!=="n"&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var n=this.storedData[t].expan;this.storedData[t].x.v<0?(this.storedData[t].lastOperator!=="erode"&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),n.setAttribute("radius",-this.storedData[t].x.v)):(this.storedData[t].lastOperator!=="dilate"&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var i,n,s=" M"+t.v[0][0]+","+t.v[0][1];for(n=t._length,i=1;i<n;i+=1)s+=" C"+t.o[i-1][0]+","+t.o[i-1][1]+" "+t.i[i][0]+","+t.i[i][1]+" "+t.v[i][0]+","+t.v[i][1];if(t.c&&n>1&&(s+=" C"+t.o[i-1][0]+","+t.o[i-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==s){var a="";r.elem&&(t.c&&(a=e.inv?this.solidPath+s:s),r.elem.setAttribute("d",a)),r.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory={createFilter:function(e,t){var r=createNS("filter");return r.setAttribute("id",e),t!==!0&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}},featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var t,r,i="SourceGraphic",n=e.data.ef?e.data.ef.length:0,s=createElementID(),a=filtersFactory.createFilter(s,!0),o=0;for(this.filters=[],t=0;t<n;t+=1){r=null;var l=e.data.ef[t].ty;registeredEffects$1[l]&&(r=new registeredEffects$1[l].effect(a,e.effectsManager.effectElements[t],e,idPrefix+o,i),i=idPrefix+o,registeredEffects$1[l].countsAsEffect&&(o+=1)),r&&this.filters.push(r)}o&&(e.globalData.defs.appendChild(a),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect$1(e,t,r){registeredEffects$1[e]={effect:t,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var t,r=this.filters.length,i=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&i.push(this.filters[t]);return i},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=createNS("g");t.setAttribute("id",this.layerId),t.appendChild(this.layerElement),e=t,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var r=createNS("clipPath"),i=createNS("path");i.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var n=createElementID();if(r.setAttribute("id",n),r.appendChild(i),this.globalData.defs.appendChild(r),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),s.appendChild(this.layerElement),this.transformedElement=s,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var t,r,i,n,s=this.layerId+"_"+e;if(e===1||e===3){var a=createNS("mask");a.setAttribute("id",s),a.setAttribute("mask-type",e===3?"luminance":"alpha"),(i=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),a.appendChild(i),this.globalData.defs.appendChild(a),featureSupport.maskType||e!==1||(a.setAttribute("mask-type","luminance"),t=createElementID(),r=filtersFactory.createFilter(t),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(i),a.appendChild(n),n.setAttribute("filter","url("+getLocationHref()+"#"+t+")"))}else if(e===2){var o=createNS("mask");o.setAttribute("id",s),o.setAttribute("mask-type","alpha");var l=createNS("g");o.appendChild(l),t=createElementID(),r=filtersFactory.createFilter(t);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),r.appendChild(c);var u=createNS("feFuncA");u.setAttribute("type","table"),u.setAttribute("tableValues","1.0 0.0"),c.appendChild(u),this.globalData.defs.appendChild(r);var h=createNS("rect");h.setAttribute("width",this.comp.data.w),h.setAttribute("height",this.comp.data.h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("fill","#ffffff"),h.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+t+")"),l.appendChild(h),(i=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(i),featureSupport.maskType||(o.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),l.appendChild(h),n.appendChild(this.layerElement),l.appendChild(n)),this.globalData.defs.appendChild(o)}this.matteMasks[e]=s}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,r=this.shapeModifiers.length;for(t=0;t<r;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,i=t.length;r<i;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,i=r.length;i;)if(r[i-=1].elem===e)return void(r[i].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var i=0,n=e.length;i<n;){if(e[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=e.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,r,i){var n;this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(i);var s,a=t.length||0;for(n=0;n<a;n+=1)s=PropertyFactory.getProp(e,t[n].v,0,0,this),this.k=s.k||this.k,this.dataProps[n]={n:t[n].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGNoStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var i=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),t=0;t<r;t+=1)this.dataProps[t].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,i=this.o.length/2;r<i;){if(Math.abs(e[4*r]-e[4*t+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r,i,n=4*this.data.p;for(t=0;t<n;t+=1)r=t%4==0?100:255,i=Math.round(this.prop.v[t]*r),this.c[t]!==i&&(this.c[t]=i,this._cmdf=!e);if(this.o.length)for(n=this.prop.v.length,t=4*this.data.p;t<n;t+=1)r=t%2==0?100:1,i=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==i&&(this.o[t-4*this.data.p]=i,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),i=createNS(t.t===1?"linearGradient":"radialGradient");i.setAttribute("id",r),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var n,s,a,o=[];for(a=4*t.g.p,s=0;s<a;s+=4)n=createNS("stop"),i.appendChild(n),o.push(n);e.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=i,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,i,n,s=createNS("mask"),a=createNS("path");s.appendChild(a);var o=createElementID(),l=createElementID();s.setAttribute("id",l);var c=createNS(e.t===1?"linearGradient":"radialGradient");c.setAttribute("id",o),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),n=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var u=this.stops;for(i=4*e.g.p;i<n;i+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),u.push(r);a.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+o+")"),e.ty==="gs"&&(a.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),e.lj===1&&a.setAttribute("stroke-miterlimit",e.ml)),this.of=c,this.ms=s,this.ost=u,this.maskId=l,t.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,r,i){if(t===0)return"";var n,s=e.o,a=e.i,o=e.v,l=" M"+i.applyToPointStringified(o[0][0],o[0][1]);for(n=1;n<t;n+=1)l+=" C"+i.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+i.applyToPointStringified(a[n][0],a[n][1])+" "+i.applyToPointStringified(o[n][0],o[n][1]);return r&&t&&(l+=" C"+i.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+i.applyToPointStringified(a[0][0],a[0][1])+" "+i.applyToPointStringified(o[0][0],o[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function r(c,u,h){(h||u.transform.op._mdf)&&u.transform.container.setAttribute("opacity",u.transform.op.v),(h||u.transform.mProps._mdf)&&u.transform.container.setAttribute("transform",u.transform.mProps.v.to2dCSS())}function i(){}function n(c,u,h){var d,p,m,g,f,y,v,b,k,E,x=u.styles.length,S=u.lvl;for(y=0;y<x;y+=1){if(g=u.sh._mdf||h,u.styles[y].lvl<S){for(b=t.reset(),k=S-u.styles[y].lvl,E=u.transformers.length-1;!g&&k>0;)g=u.transformers[E].mProps._mdf||g,k-=1,E-=1;if(g)for(k=S-u.styles[y].lvl,E=u.transformers.length-1;k>0;)b.multiply(u.transformers[E].mProps.v),k-=1,E-=1}else b=e;if(p=(v=u.sh.paths)._length,g){for(m="",d=0;d<p;d+=1)(f=v.shapes[d])&&f._length&&(m+=buildShapeString(f,f._length,f.c,b));u.caches[y]=m}else m=u.caches[y];u.styles[y].d+=c.hd===!0?"":m,u.styles[y]._mdf=g||u.styles[y]._mdf}}function s(c,u,h){var d=u.style;(u.c._mdf||h)&&d.pElem.setAttribute("fill","rgb("+bmFloor(u.c.v[0])+","+bmFloor(u.c.v[1])+","+bmFloor(u.c.v[2])+")"),(u.o._mdf||h)&&d.pElem.setAttribute("fill-opacity",u.o.v)}function a(c,u,h){o(c,u,h),l(0,u,h)}function o(c,u,h){var d,p,m,g,f,y=u.gf,v=u.g._hasOpacity,b=u.s.v,k=u.e.v;if(u.o._mdf||h){var E=c.ty==="gf"?"fill-opacity":"stroke-opacity";u.style.pElem.setAttribute(E,u.o.v)}if(u.s._mdf||h){var x=c.t===1?"x1":"cx",S=x==="x1"?"y1":"cy";y.setAttribute(x,b[0]),y.setAttribute(S,b[1]),v&&!u.g._collapsable&&(u.of.setAttribute(x,b[0]),u.of.setAttribute(S,b[1]))}if(u.g._cmdf||h){d=u.cst;var C=u.g.c;for(m=d.length,p=0;p<m;p+=1)(g=d[p]).setAttribute("offset",C[4*p]+"%"),g.setAttribute("stop-color","rgb("+C[4*p+1]+","+C[4*p+2]+","+C[4*p+3]+")")}if(v&&(u.g._omdf||h)){var w=u.g.o;for(m=(d=u.g._collapsable?u.cst:u.ost).length,p=0;p<m;p+=1)g=d[p],u.g._collapsable||g.setAttribute("offset",w[2*p]+"%"),g.setAttribute("stop-opacity",w[2*p+1])}if(c.t===1)(u.e._mdf||h)&&(y.setAttribute("x2",k[0]),y.setAttribute("y2",k[1]),v&&!u.g._collapsable&&(u.of.setAttribute("x2",k[0]),u.of.setAttribute("y2",k[1])));else if((u.s._mdf||u.e._mdf||h)&&(f=Math.sqrt(Math.pow(b[0]-k[0],2)+Math.pow(b[1]-k[1],2)),y.setAttribute("r",f),v&&!u.g._collapsable&&u.of.setAttribute("r",f)),u.s._mdf||u.e._mdf||u.h._mdf||u.a._mdf||h){f||(f=Math.sqrt(Math.pow(b[0]-k[0],2)+Math.pow(b[1]-k[1],2)));var P=Math.atan2(k[1]-b[1],k[0]-b[0]),T=u.h.v;T>=1?T=.99:T<=-1&&(T=-.99);var F=f*T,I=Math.cos(P+u.a.v)*F+b[0],D=Math.sin(P+u.a.v)*F+b[1];y.setAttribute("fx",I),y.setAttribute("fy",D),v&&!u.g._collapsable&&(u.of.setAttribute("fx",I),u.of.setAttribute("fy",D))}}function l(c,u,h){var d=u.style,p=u.d;p&&(p._mdf||h)&&p.dashStr&&(d.pElem.setAttribute("stroke-dasharray",p.dashStr),d.pElem.setAttribute("stroke-dashoffset",p.dashoffset[0])),u.c&&(u.c._mdf||h)&&d.pElem.setAttribute("stroke","rgb("+bmFloor(u.c.v[0])+","+bmFloor(u.c.v[1])+","+bmFloor(u.c.v[2])+")"),(u.o._mdf||h)&&d.pElem.setAttribute("stroke-opacity",u.o.v),(u.w._mdf||h)&&(d.pElem.setAttribute("stroke-width",u.w.v),d.msElem&&d.msElem.setAttribute("stroke-width",u.w.v))}return{createRenderFunction:function(c){switch(c.ty){case"fl":return s;case"gf":return o;case"gs":return a;case"st":return l;case"sh":case"el":case"rc":case"sr":return n;case"tr":return r;case"no":return i;default:return null}}}}();function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function LetterProps(e,t,r,i,n,s){this.o=e,this.sw=t,this.sc=r,this.fc=i,this.m=n,this.p=s,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!i,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=e.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,r,i,n=this.shapes.length,s=this.stylesList.length,a=[],o=!1;for(r=0;r<s;r+=1){for(i=this.stylesList[r],o=!1,a.length=0,e=0;e<n;e+=1)(t=this.shapes[e]).styles.indexOf(i)!==-1&&(a.push(t),o=t._isAnimated||o);a.length>1&&o&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,i=new SVGStyleData(e,t),n=i.pElem;return e.ty==="st"?r=new SVGStrokeStyleData(this,e,i):e.ty==="fl"?r=new SVGFillStyleData(this,e,i):e.ty==="gf"||e.ty==="gs"?(r=new(e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,i),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):e.ty==="no"&&(r=new SVGNoStyleData(this,e,i)),e.ty!=="st"&&e.ty!=="gs"||(n.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),n.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),n.setAttribute("fill-opacity","0"),e.lj===1&&n.setAttribute("stroke-miterlimit",e.ml)),e.r===2&&n.setAttribute("fill-rule","evenodd"),e.ln&&n.setAttribute("id",e.ln),e.cl&&n.setAttribute("class",e.cl),e.bm&&(n.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(i),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),i=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var i=4;e.ty==="rc"?i=5:e.ty==="el"?i=6:e.ty==="sr"&&(i=7);var n=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,i,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,i=this.animatedContents.length;r<i;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,r=e.styles,i=this.stylesList.length;for(t=0;t<i;t+=1)r.indexOf(this.stylesList[t])!==-1||this.stylesList[t].closed||r.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,i,n,s,a){var o,l,c,u,h,d,p=[].concat(s),m=e.length-1,g=[],f=[];for(o=m;o>=0;o-=1){if((d=this.searchProcessedElement(e[o]))?t[o]=r[d-1]:e[o]._render=a,e[o].ty==="fl"||e[o].ty==="st"||e[o].ty==="gf"||e[o].ty==="gs"||e[o].ty==="no")d?t[o].style.closed=e[o].hd:t[o]=this.createStyleElement(e[o],n),e[o]._render&&t[o].style.pElem.parentNode!==i&&i.appendChild(t[o].style.pElem),g.push(t[o].style);else if(e[o].ty==="gr"){if(d)for(c=t[o].it.length,l=0;l<c;l+=1)t[o].prevViewData[l]=t[o].it[l];else t[o]=this.createGroupElement(e[o]);this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,t[o].gr,n+1,p,a),e[o]._render&&t[o].gr.parentNode!==i&&i.appendChild(t[o].gr)}else e[o].ty==="tr"?(d||(t[o]=this.createTransformElement(e[o],i)),u=t[o].transform,p.push(u)):e[o].ty==="sh"||e[o].ty==="rc"||e[o].ty==="el"||e[o].ty==="sr"?(d||(t[o]=this.createShapeElement(e[o],p,n)),this.setElementStyles(t[o])):e[o].ty==="tm"||e[o].ty==="rd"||e[o].ty==="ms"||e[o].ty==="pb"||e[o].ty==="zz"||e[o].ty==="op"?(d?(h=t[o]).closed=!1:((h=ShapeModifiers.getModifier(e[o].ty)).init(this,e[o]),t[o]=h,this.shapeModifiers.push(h)),f.push(h)):e[o].ty==="rp"&&(d?(h=t[o]).closed=!0:(h=ShapeModifiers.getModifier(e[o].ty),t[o]=h,h.init(this,e,o,t),this.shapeModifiers.push(h),a=!1),f.push(h));this.addProcessedElement(e[o],o+1)}for(m=g.length,o=0;o<m;o+=1)g[o].closed=!0;for(m=f.length,o=0;o<m;o+=1)f[o].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var e;this.renderModifiers();var t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,r=this.animatedContents.length;for(e=0;e<r;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&t.data!==!0&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,r,i,n,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,a=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,a=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,a=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,a=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,a=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var i;this.lock=!0,this._mdf=!1;var n=this.effectsSequence.length,s=e||this.data.d.k[this.keysIndex].s;for(i=0;i<n;i+=1)s=r!==this.keysIndex?this.effectsSequence[i](s,s.t):this.effectsSequence[i](this.currentData,s.t);t!==s&&this.setCurrentData(s),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,i=e.length;r<=i-1&&!(r===i-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r,i=[],n=0,s=e.length,a=!1,o=!1,l="";n<s;)a=o,o=!1,t=e.charCodeAt(n),l=e.charAt(n),FontManager.isCombinedCharacter(t)?a=!0:t>=55296&&t<=56319?FontManager.isRegionalFlag(e,n)?l=e.substr(n,14):(r=e.charCodeAt(n+1))>=56320&&r<=57343&&(FontManager.isModifier(t,r)?(l=e.substr(n,2),a=!0):l=FontManager.isFlagEmoji(e.substr(n,4))?e.substr(n,4):e.substr(n,2)):t>56319?(r=e.charCodeAt(n+1),FontManager.isVariationSelector(t)&&(a=!0)):FontManager.isZeroWidthJoiner(t)&&(a=!0,o=!0),a?(i[i.length-1]+=l,a=!1):i.push(l),n+=l.length;return i},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,i,n,s,a,o,l=this.elem.globalData.fontManager,c=this.data,u=[],h=0,d=c.m.g,p=0,m=0,g=0,f=[],y=0,v=0,b=l.getFontByName(e.f),k=0,E=getFontProperties(b);e.fWeight=E.weight,e.fStyle=E.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),r=e.finalText.length,e.finalLineHeight=e.lh;var x,S=e.tr/1e3*e.finalSize;if(e.sz)for(var C,w,P=!0,T=e.sz[0],F=e.sz[1];P;){C=0,y=0,r=(w=this.buildFinalText(e.t)).length,S=e.tr/1e3*e.finalSize;var I=-1;for(t=0;t<r;t+=1)x=w[t].charCodeAt(0),i=!1,w[t]===" "?I=t:x!==13&&x!==3||(y=0,i=!0,C+=e.finalLineHeight||1.2*e.finalSize),l.chars?(o=l.getCharData(w[t],b.fStyle,b.fFamily),k=i?0:o.w*e.finalSize/100):k=l.measureText(w[t],e.f,e.finalSize),y+k>T&&w[t]!==" "?(I===-1?r+=1:t=I,C+=e.finalLineHeight||1.2*e.finalSize,w.splice(t,I===t?1:0,"\r"),I=-1,y=0):(y+=k,y+=S);C+=b.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&F<C?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=w,r=e.finalText.length,P=!1)}y=-S,k=0;var D,L=0;for(t=0;t<r;t+=1)if(i=!1,(x=(D=e.finalText[t]).charCodeAt(0))===13||x===3?(L=0,f.push(y),v=y>v?y:v,y=-2*S,n="",i=!0,g+=1):n=D,l.chars?(o=l.getCharData(D,b.fStyle,l.getFontByName(e.f).fFamily),k=i?0:o.w*e.finalSize/100):k=l.measureText(n,e.f,e.finalSize),D===" "?L+=k+S:(y+=k+S+L,L=0),u.push({l:k,an:k,add:p,n:i,anIndexes:[],val:n,line:g,animatorJustifyOffset:0}),d==2){if(p+=k,n===""||n===" "||t===r-1){for(n!==""&&n!==" "||(p-=k);m<=t;)u[m].an=p,u[m].ind=h,u[m].extra=k,m+=1;h+=1,p=0}}else if(d==3){if(p+=k,n===""||t===r-1){for(n===""&&(p-=k);m<=t;)u[m].an=p,u[m].ind=h,u[m].extra=k,m+=1;p=0,h+=1}}else u[h].ind=h,u[h].extra=0,h+=1;if(e.l=u,v=y>v?y:v,f.push(y),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=v,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=f;var O,W,A,j,B=c.a;a=B.length;var G=[];for(s=0;s<a;s+=1){for((O=B[s]).a.sc&&(e.strokeColorAnim=!0),O.a.sw&&(e.strokeWidthAnim=!0),(O.a.fc||O.a.fh||O.a.fs||O.a.fb)&&(e.fillColorAnim=!0),j=0,A=O.s.b,t=0;t<r;t+=1)(W=u[t]).anIndexes[s]=j,(A==1&&W.val!==""||A==2&&W.val!==""&&W.val!==" "||A==3&&(W.n||W.val==" "||t==r-1)||A==4&&(W.n||t==r-1))&&(O.s.rn===1&&G.push(j),j+=1);c.a[s].s.totalChars=j;var q,V=-1;if(O.s.rn===1)for(t=0;t<r;t+=1)V!=(W=u[t]).anIndexes[s]&&(V=W.anIndexes[s],q=G.splice(Math.floor(Math.random()*G.length),1)[0]),W.anIndexes[s]=q}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=b.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=t===void 0?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function i(n,s){this._currentTextLength=-1,this.k=!1,this.data=s,this.elem=n,this.comp=n.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(n),this.s=PropertyFactory.getProp(n,s.s||{k:0},0,0,this),this.e="e"in s?PropertyFactory.getProp(n,s.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(n,s.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(n,s.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(n,s.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(n,s.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(n,s.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return i.prototype={getMult:function(n){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var s=0,a=0,o=1,l=1;this.ne.v>0?s=this.ne.v/100:a=-this.ne.v/100,this.xe.v>0?o=1-this.xe.v/100:l=1+this.xe.v/100;var c=BezierFactory.getBezierEasing(s,a,o,l).get,u=0,h=this.finalS,d=this.finalE,p=this.data.sh;if(p===2)u=c(u=d===h?n>=d?1:0:e(0,t(.5/(d-h)+(n-h)/(d-h),1)));else if(p===3)u=c(u=d===h?n>=d?0:1:1-e(0,t(.5/(d-h)+(n-h)/(d-h),1)));else if(p===4)d===h?u=0:(u=e(0,t(.5/(d-h)+(n-h)/(d-h),1)))<.5?u*=2:u=1-2*(u-.5),u=c(u);else if(p===5){if(d===h)u=0;else{var m=d-h,g=-m/2+(n=t(e(0,n+.5-h),d-h)),f=m/2;u=Math.sqrt(1-g*g/(f*f))}u=c(u)}else p===6?(d===h?u=0:(n=t(e(0,n+.5-h),d-h),u=(1+Math.cos(Math.PI+2*Math.PI*n/(d-h)))/2),u=c(u)):(n>=r(h)&&(u=e(0,t(n-h<0?t(d,1)-(h-n):d-n,1))),u=c(u));if(this.sm.v!==100){var y=.01*this.sm.v;y===0&&(y=1e-8);var v=.5-.5*y;u<v?u=0:(u=(u-v)/y)>1&&(u=1)}return u*this.a.v},getValue:function(n){this.iterateDynamicProperties(),this._mdf=n||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,n&&this.data.r===2&&(this.e.v=this._currentTextLength);var s=this.data.r===2?1:100/this.data.totalChars,a=this.o.v/s,o=this.s.v/s+a,l=this.e.v/s+a;if(o>l){var c=o;o=l,l=c}this.finalS=o,this.finalE=l}},extendPrototype([DynamicPropertyContainer],i),{getTextSelectorProp:function(n,s,a){return new i(n,s)}}}();function TextAnimatorDataProperty(e,t,r){var i={propType:!1},n=PropertyFactory.getProp,s=t.a;this.a={r:s.r?n(e,s.r,0,degToRads,r):i,rx:s.rx?n(e,s.rx,0,degToRads,r):i,ry:s.ry?n(e,s.ry,0,degToRads,r):i,sk:s.sk?n(e,s.sk,0,degToRads,r):i,sa:s.sa?n(e,s.sa,0,degToRads,r):i,s:s.s?n(e,s.s,1,.01,r):i,a:s.a?n(e,s.a,1,0,r):i,o:s.o?n(e,s.o,0,.01,r):i,p:s.p?n(e,s.p,1,0,r):i,sw:s.sw?n(e,s.sw,0,0,r):i,sc:s.sc?n(e,s.sc,1,0,r):i,fc:s.fc?n(e,s.fc,1,0,r):i,fh:s.fh?n(e,s.fh,0,0,r):i,fs:s.fs?n(e,s.fs,0,.01,r):i,fb:s.fb?n(e,s.fb,0,.01,r):i,t:s.t?n(e,s.t,0,0,r):i},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,r=this._textData.a.length,i=PropertyFactory.getProp;for(e=0;e<r;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:i(this._elem,this._textData.p.a,0,0,this),f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:i(this._elem,this._textData.p.r,0,0,this),p:i(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,i,n,s,a,o,l,c,u,h,d,p,m,g,f,y,v,b,k,E=this._moreOptions.alignment.v,x=this._animatorsData,S=this._textData,C=this.mHelper,w=this._renderType,P=this.renderedLetters.length,T=e.l;if(this._hasMaskedPath){if(k=this._pathData.m,!this._pathData.n||this._pathData._mdf){var F,I=k.v;for(this._pathData.r.v&&(I=I.reverse()),a={tLength:0,segments:[]},s=I._length-1,y=0,n=0;n<s;n+=1)F=bez.buildBezierData(I.v[n],I.v[n+1],[I.o[n][0]-I.v[n][0],I.o[n][1]-I.v[n][1]],[I.i[n+1][0]-I.v[n+1][0],I.i[n+1][1]-I.v[n+1][1]]),a.tLength+=F.segmentLength,a.segments.push(F),y+=F.segmentLength;n=s,k.v.c&&(F=bez.buildBezierData(I.v[n],I.v[0],[I.o[n][0]-I.v[n][0],I.o[n][1]-I.v[n][1]],[I.i[0][0]-I.v[0][0],I.i[0][1]-I.v[0][1]]),a.tLength+=F.segmentLength,a.segments.push(F),y+=F.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,o=this._pathData.f.v,d=0,h=1,c=0,u=!0,g=a.segments,o<0&&k.v.c)for(a.tLength<Math.abs(o)&&(o=-Math.abs(o)%a.tLength),h=(m=g[d=g.length-1].points).length-1;o<0;)o+=m[h].partialLength,(h-=1)<0&&(h=(m=g[d-=1].points).length-1);p=(m=g[d].points)[h-1],f=(l=m[h]).partialLength}s=T.length,r=0,i=0;var D,L,O,W,A,j=1.2*e.finalSize*.714,B=!0;O=x.length;var G,q,V,z,U,R,H,Y,K,ee,M,Q,te=-1,$=o,ne=d,X=h,re=-1,se="",he=this.defaultPropsArray;if(e.j===2||e.j===1){var ie=0,de=0,ce=e.j===2?-.5:-1,le=0,ue=!0;for(n=0;n<s;n+=1)if(T[n].n){for(ie&&(ie+=de);le<n;)T[le].animatorJustifyOffset=ie,le+=1;ie=0,ue=!0}else{for(L=0;L<O;L+=1)(D=x[L].a).t.propType&&(ue&&e.j===2&&(de+=D.t.v*ce),(A=x[L].s.getMult(T[n].anIndexes[L],S.a[L].s.totalChars)).length?ie+=D.t.v*A[0]*ce:ie+=D.t.v*A*ce);ue=!1}for(ie&&(ie+=de);le<n;)T[le].animatorJustifyOffset=ie,le+=1}for(n=0;n<s;n+=1){if(C.reset(),z=1,T[n].n)r=0,i+=e.yOffset,i+=B?1:0,o=$,B=!1,this._hasMaskedPath&&(h=X,p=(m=g[d=ne].points)[h-1],f=(l=m[h]).partialLength,c=0),se="",M="",K="",Q="",he=this.defaultPropsArray;else{if(this._hasMaskedPath){if(re!==T[n].line){switch(e.j){case 1:o+=y-e.lineWidths[T[n].line];break;case 2:o+=(y-e.lineWidths[T[n].line])/2}re=T[n].line}te!==T[n].ind&&(T[te]&&(o+=T[te].extra),o+=T[n].an/2,te=T[n].ind),o+=E[0]*T[n].an*.005;var ae=0;for(L=0;L<O;L+=1)(D=x[L].a).p.propType&&((A=x[L].s.getMult(T[n].anIndexes[L],S.a[L].s.totalChars)).length?ae+=D.p.v[0]*A[0]:ae+=D.p.v[0]*A),D.a.propType&&((A=x[L].s.getMult(T[n].anIndexes[L],S.a[L].s.totalChars)).length?ae+=D.a.v[0]*A[0]:ae+=D.a.v[0]*A);for(u=!0,this._pathData.a.v&&(o=.5*T[0].an+(y-this._pathData.f.v-.5*T[0].an-.5*T[T.length-1].an)*te/(s-1),o+=this._pathData.f.v);u;)c+f>=o+ae||!m?(v=(o+ae-c)/l.partialLength,q=p.point[0]+(l.point[0]-p.point[0])*v,V=p.point[1]+(l.point[1]-p.point[1])*v,C.translate(-E[0]*T[n].an*.005,-E[1]*j*.01),u=!1):m&&(c+=l.partialLength,(h+=1)>=m.length&&(h=0,g[d+=1]?m=g[d].points:k.v.c?(h=0,m=g[d=0].points):(c-=l.partialLength,m=null)),m&&(p=l,f=(l=m[h]).partialLength));G=T[n].an/2-T[n].add,C.translate(-G,0,0)}else G=T[n].an/2-T[n].add,C.translate(-G,0,0),C.translate(-E[0]*T[n].an*.005,-E[1]*j*.01,0);for(L=0;L<O;L+=1)(D=x[L].a).t.propType&&(A=x[L].s.getMult(T[n].anIndexes[L],S.a[L].s.totalChars),r===0&&e.j===0||(this._hasMaskedPath?A.length?o+=D.t.v*A[0]:o+=D.t.v*A:A.length?r+=D.t.v*A[0]:r+=D.t.v*A));for(e.strokeWidthAnim&&(R=e.sw||0),e.strokeColorAnim&&(U=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(H=[e.fc[0],e.fc[1],e.fc[2]]),L=0;L<O;L+=1)(D=x[L].a).a.propType&&((A=x[L].s.getMult(T[n].anIndexes[L],S.a[L].s.totalChars)).length?C.translate(-D.a.v[0]*A[0],-D.a.v[1]*A[1],D.a.v[2]*A[2]):C.translate(-D.a.v[0]*A,-D.a.v[1]*A,D.a.v[2]*A));for(L=0;L<O;L+=1)(D=x[L].a).s.propType&&((A=x[L].s.getMult(T[n].anIndexes[L],S.a[L].s.totalChars)).length?C.scale(1+(D.s.v[0]-1)*A[0],1+(D.s.v[1]-1)*A[1],1):C.scale(1+(D.s.v[0]-1)*A,1+(D.s.v[1]-1)*A,1));for(L=0;L<O;L+=1){if(D=x[L].a,A=x[L].s.getMult(T[n].anIndexes[L],S.a[L].s.totalChars),D.sk.propType&&(A.length?C.skewFromAxis(-D.sk.v*A[0],D.sa.v*A[1]):C.skewFromAxis(-D.sk.v*A,D.sa.v*A)),D.r.propType&&(A.length?C.rotateZ(-D.r.v*A[2]):C.rotateZ(-D.r.v*A)),D.ry.propType&&(A.length?C.rotateY(D.ry.v*A[1]):C.rotateY(D.ry.v*A)),D.rx.propType&&(A.length?C.rotateX(D.rx.v*A[0]):C.rotateX(D.rx.v*A)),D.o.propType&&(A.length?z+=(D.o.v*A[0]-z)*A[0]:z+=(D.o.v*A-z)*A),e.strokeWidthAnim&&D.sw.propType&&(A.length?R+=D.sw.v*A[0]:R+=D.sw.v*A),e.strokeColorAnim&&D.sc.propType)for(Y=0;Y<3;Y+=1)A.length?U[Y]+=(D.sc.v[Y]-U[Y])*A[0]:U[Y]+=(D.sc.v[Y]-U[Y])*A;if(e.fillColorAnim&&e.fc){if(D.fc.propType)for(Y=0;Y<3;Y+=1)A.length?H[Y]+=(D.fc.v[Y]-H[Y])*A[0]:H[Y]+=(D.fc.v[Y]-H[Y])*A;D.fh.propType&&(H=A.length?addHueToRGB(H,D.fh.v*A[0]):addHueToRGB(H,D.fh.v*A)),D.fs.propType&&(H=A.length?addSaturationToRGB(H,D.fs.v*A[0]):addSaturationToRGB(H,D.fs.v*A)),D.fb.propType&&(H=A.length?addBrightnessToRGB(H,D.fb.v*A[0]):addBrightnessToRGB(H,D.fb.v*A))}}for(L=0;L<O;L+=1)(D=x[L].a).p.propType&&(A=x[L].s.getMult(T[n].anIndexes[L],S.a[L].s.totalChars),this._hasMaskedPath?A.length?C.translate(0,D.p.v[1]*A[0],-D.p.v[2]*A[1]):C.translate(0,D.p.v[1]*A,-D.p.v[2]*A):A.length?C.translate(D.p.v[0]*A[0],D.p.v[1]*A[1],-D.p.v[2]*A[2]):C.translate(D.p.v[0]*A,D.p.v[1]*A,-D.p.v[2]*A));if(e.strokeWidthAnim&&(K=R<0?0:R),e.strokeColorAnim&&(ee="rgb("+Math.round(255*U[0])+","+Math.round(255*U[1])+","+Math.round(255*U[2])+")"),e.fillColorAnim&&e.fc&&(M="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),this._hasMaskedPath){if(C.translate(0,-e.ls),C.translate(0,E[1]*j*.01+i,0),this._pathData.p.v){b=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var me=180*Math.atan(b)/Math.PI;l.point[0]<p.point[0]&&(me+=180),C.rotate(-me*Math.PI/180)}C.translate(q,V,0),o-=E[0]*T[n].an*.005,T[n+1]&&te!==T[n+1].ind&&(o+=T[n].an/2,o+=.001*e.tr*e.finalSize)}else{switch(C.translate(r,i,0),e.ps&&C.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:C.translate(T[n].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[T[n].line]),0,0);break;case 2:C.translate(T[n].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[T[n].line])/2,0,0)}C.translate(0,-e.ls),C.translate(G,0,0),C.translate(E[0]*T[n].an*.005,E[1]*j*.01,0),r+=T[n].l+.001*e.tr*e.finalSize}w==="html"?se=C.toCSS():w==="svg"?se=C.to2dCSS():he=[C.props[0],C.props[1],C.props[2],C.props[3],C.props[4],C.props[5],C.props[6],C.props[7],C.props[8],C.props[9],C.props[10],C.props[11],C.props[12],C.props[13],C.props[14],C.props[15]],Q=z}P<=n?(W=new LetterProps(Q,K,ee,M,se,he),this.renderedLetters.push(W),P+=1,this.lettersChangedFlag=!0):(W=this.renderedLetters[n],this.lettersChangedFlag=W.update(Q,K,ee,M,se,he)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,t){var r,i,n=t.length,s="";for(r=0;r<n;r+=1)t[r].ty==="sh"&&(i=t[r].ks.k,s+=buildShapeString(i,i.i.length,!0,e));return s},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,i,n){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(i,n,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function ISolidElement(e,t,r){this.initElement(e,t,r)}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var i=createNS("title"),n=createElementID();i.setAttribute("id",n),i.textContent=t.title,this.svgElement.appendChild(i),r+=n}if(t&&t.description){var s=createNS("desc"),a=createElementID();s.setAttribute("id",a),s.textContent=t.description,this.svgElement.appendChild(s),r+=" "+a}r&&this.svgElement.setAttribute("aria-labelledby",r);var o=createNS("defs");this.svgElement.appendChild(o);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&t.hideOnTransparent===!1),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:o,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,i=[],n="";t<r;)e[t]==="\r"||e[t]===""?(i.push(n),n=""):n+=e[t],t+=1;return i.push(n),i},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var r=e.shapes[0];if(r.it){var i=r.it[r.it.length-1];i.s&&(i.s.k[0]=t,i.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){var e,t;this.addDynamicProperty(this);var r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var i=this.globalData.fontManager.getFontByName(r.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var n=r.fWeight,s=r.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("aria-label",r.t);var a,o=r.l||[],l=!!this.globalData.fontManager.chars;t=o.length;var c=this.mHelper,u=this.data.singleShape,h=0,d=0,p=!0,m=.001*r.tr*r.finalSize;if(!u||l||r.sz){var g,f=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!l||!u||e===0){if(a=f>e?this.textSpans[e].span:createNS(l?"g":"text"),f<=e){if(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=a,l){var y=createNS("g");a.appendChild(y),this.textSpans[e].childSpan=y}this.textSpans[e].span=a,this.layerElement.appendChild(a)}a.style.display="inherit"}if(c.reset(),u&&(o[e].n&&(h=-m,d+=r.yOffset,d+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(r,c,o[e].line,h,d),h+=o[e].l||0,h+=m),l){var v;if((g=this.globalData.fontManager.getCharData(r.finalText[e],i.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t===1)v=new SVGCompElement(g.data,this.globalData,this);else{var b=emptyShapeData;g.data&&g.data.shapes&&(b=this.buildShapeData(g.data,r.finalSize)),v=new SVGShapeElement(b,this.globalData,this)}if(this.textSpans[e].glyph){var k=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(k.layerElement),k.destroy()}this.textSpans[e].glyph=v,v._debug=!0,v.prepareFrame(0),v.renderFrame(),this.textSpans[e].childSpan.appendChild(v.layerElement),g.t===1&&this.textSpans[e].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else u&&a.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),a.textContent=o[e].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}u&&a&&a.setAttribute("d","")}else{var E=this.textContainer,x="start";switch(r.j){case 1:x="end";break;case 2:x="middle";break;default:x="start"}E.setAttribute("text-anchor",x),E.setAttribute("letter-spacing",m);var S=this.buildTextContents(r.finalText);for(t=S.length,d=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)(a=this.textSpans[e].span||createNS("tspan")).textContent=S[e],a.setAttribute("x",0),a.setAttribute("y",d),a.style.display="inherit",E.appendChild(a),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=a,d+=r.finalLineHeight;this.layerElement.appendChild(E)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<r;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var r,i,n,s=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(t=a.length,e=0;e<t;e+=1)a[e].n||(r=s[e],i=this.textSpans[e].span,(n=this.textSpans[e].glyph)&&n.renderFrame(),r._mdf.m&&i.setAttribute("transform",r.m),r._mdf.o&&i.setAttribute("opacity",r.o),r._mdf.sw&&i.setAttribute("stroke-width",r.sw),r._mdf.sc&&i.setAttribute("stroke",r.sc),r._mdf.fc&&i.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),i=createNS("rect");i.setAttribute("width",e.w),i.setAttribute("height",e.h),i.setAttribute("x",0),i.setAttribute("y",0);var n=createElementID();r.setAttribute("id",n),r.appendChild(i),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,r=this.layers.length;for(t=0;t<r;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&this.layers[e].ty!==99){t[e]=!0;var r=this.createItem(this.layers[e]);if(t[e]=r,getExpressionsPlugin()&&(this.layers[e].ty===0&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt){var i="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(i===-1)return;if(this.elements[i]&&this.elements[i]!==!0){var n=t[i].getMatte(this.layers[e].tt);r.setMatte(n)}else this.buildItem(i),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){var i="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,n=this.elements[i].getMatte(this.layers[t].tt);e.setMatte(n);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){var t;e===null?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var i,n=0;n<t;)this.elements[n]&&this.elements[n]!==!0&&this.elements[n].getBaseElement()&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(r,i):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,r=e.length,i="_";for(t=0;t<r;t+=1)i+=e[t].transform.key+"_";var n=this.sequences[i];return n||(n={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=n,this.sequenceList.push(n)),n},processSequence:function(e,t){for(var r=0,i=e.transforms.length,n=t;r<i&&!t;){if(e.transforms[r].transform.mProps._mdf){n=!0;break}r+=1}if(n)for(e.finalTransform.reset(),r=i-1;r>=0;r-=1)e.finalTransform.multiply(e.transforms[r].transform.mProps.v);e._mdf=n},processSequences:function(e){var t,r=this.sequenceList.length;for(t=0;t<r;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",t=null,r=null,i=null;function n(){var s,a,o;t||(s=createNS("svg"),a=createNS("filter"),o=createNS("feColorMatrix"),a.setAttribute("id",e),o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),a.appendChild(o),s.appendChild(a),s.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(s.style.display="none"),i=s,document.body.appendChild(i),t=createTag("canvas"),(r=t.getContext("2d")).filter="url(#"+e+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}return{load:n,get:function(s){return t||n(),t.width=s.width,t.height=s.height,r.filter="url(#"+e+")",t}}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var r=createTag("canvas");return r.width=e,r.height=t,r}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(e){var t,r,i=e.data.ef?e.data.ef.length:0;for(this.filters=[],t=0;t<i;t+=1){r=null;var n=e.data.ef[t].ty;registeredEffects[n]&&(r=new registeredEffects[n].effect(e.effectsManager.effectElements[t],e)),r&&this.filters.push(r)}this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t){registeredEffects[e]={effect:t}}function CVMaskElement(e,t){var r;this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i=this.masksProperties.length,n=!1;for(r=0;r<i;r+=1)this.masksProperties[r].mode!=="n"&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var t,r=this.filters.length,i=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&i.push(this.filters[t]);return i},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,i,n=this.element.finalTransform.mat,s=this.element.canvasContext,a=this.masksProperties.length;for(s.beginPath(),e=0;e<a;e+=1)if(this.masksProperties[e].mode!=="n"){var o;this.masksProperties[e].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),i=this.viewData[e].v,t=n.applyToPointArray(i.v[0][0],i.v[0][1],0),s.moveTo(t[0],t[1]);var l=i._length;for(o=1;o<l;o+=1)r=n.applyToTriplePoints(i.o[o-1],i.i[o],i.v[o]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=n.applyToTriplePoints(i.o[o-1],i.i[0],i.v[0]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(e,t,r,i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n,s=4;t.ty==="rc"?s=5:t.ty==="el"?s=6:t.ty==="sr"&&(s=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,s,e);var a,o=r.length;for(n=0;n<o;n+=1)r[n].closed||(a={transforms:i.addTransformSequence(r[n].transforms),trNodes:[]},this.styledShapes.push(a),r[n].elements.push(a))}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var e;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,e=0;e<15;e+=1){var t=new CanvasContext;this.stack[e]=t}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||t.clearCanvas===void 0||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,e.pe,0,0,this),e.ks.p.s?(this.px=i(this,e.ks.p.x,1,0,this),this.py=i(this,e.ks.p.y,1,0,this),this.pz=i(this,e.ks.p.z,1,0,this)):this.p=i(this,e.ks.p,1,0,this),e.ks.a&&(this.a=i(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var n,s=e.ks.or.k.length;for(n=0;n<s;n+=1)e.ks.or.k[n].to=null,e.ks.or.k[n].ti=null}this.or=i(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,e.ks.rx,0,degToRads,this),this.ry=i(this,e.ks.ry,0,degToRads,this),this.rz=i(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&t.hideOnTransparent===!1),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||t.runExpressions===void 0||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,t=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(t);var r=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0].getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],t=e.getContext("2d");if(this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var r=assetLoader.getLumaCanvas(this.canvasContext.canvas);r.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(r,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!this.hidden&&!this.data.hd&&(this.data.td!==1||e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var t=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(t),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:e.hd===!0},i={};if(e.ty==="fl"||e.ty==="st"?(i.c=PropertyFactory.getProp(this,e.c,1,255,this),i.c.k||(r.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")")):e.ty!=="gf"&&e.ty!=="gs"||(i.s=PropertyFactory.getProp(this,e.s,1,null,this),i.e=PropertyFactory.getProp(this,e.e,1,null,this),i.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,e.g,this)),i.o=PropertyFactory.getProp(this,e.o,0,.01,this),e.ty==="st"||e.ty==="gs"){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],e.lj==1&&(r.ml=e.ml),i.w=PropertyFactory.getProp(this,e.w,0,null,this),i.w.k||(r.wi=i.w.v),e.d){var n=new DashProperty(this,e.d,"canvas",this);i.d=n,i.d.k||(r.da=i.d.dashArray,r.do=i.d.dashoffset[0])}}else r.r=e.r===2?"evenodd":"nonzero";return this.stylesList.push(r),i.style=r,i},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){var e;this._isFirstFrame=!0;var t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,i,n){var s,a,o,l,c,u,h=e.length-1,d=[],p=[],m=[].concat(n);for(s=h;s>=0;s-=1){if((l=this.searchProcessedElement(e[s]))?t[s]=r[l-1]:e[s]._shouldRender=i,e[s].ty==="fl"||e[s].ty==="st"||e[s].ty==="gf"||e[s].ty==="gs")l?t[s].style.closed=!1:t[s]=this.createStyleElement(e[s],m),d.push(t[s].style);else if(e[s].ty==="gr"){if(l)for(o=t[s].it.length,a=0;a<o;a+=1)t[s].prevViewData[a]=t[s].it[a];else t[s]=this.createGroupElement(e[s]);this.searchShapes(e[s].it,t[s].it,t[s].prevViewData,i,m)}else e[s].ty==="tr"?(l||(u=this.createTransformElement(e[s]),t[s]=u),m.push(t[s]),this.addTransformToStyleList(t[s])):e[s].ty==="sh"||e[s].ty==="rc"||e[s].ty==="el"||e[s].ty==="sr"?l||(t[s]=this.createShapeElement(e[s])):e[s].ty==="tm"||e[s].ty==="rd"||e[s].ty==="pb"||e[s].ty==="zz"||e[s].ty==="op"?(l?(c=t[s]).closed=!1:((c=ShapeModifiers.getModifier(e[s].ty)).init(this,e[s]),t[s]=c,this.shapeModifiers.push(c)),p.push(c)):e[s].ty==="rp"&&(l?(c=t[s]).closed=!0:(c=ShapeModifiers.getModifier(e[s].ty),t[s]=c,c.init(this,e,s,t),this.shapeModifiers.push(c),i=!1),p.push(c));this.addProcessedElement(e[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),h=p.length,s=0;s<h;s+=1)p[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,r,i,n,s,a,o,l,c=this.stylesList.length,u=this.globalData.renderer,h=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(((o=(l=this.stylesList[e]).type)!=="st"&&o!=="gs"||l.wi!==0)&&l.data._shouldRender&&l.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(u.save(),s=l.elements,o==="st"||o==="gs"?(u.ctxStrokeStyle(o==="st"?l.co:l.grd),u.ctxLineWidth(l.wi),u.ctxLineCap(l.lc),u.ctxLineJoin(l.lj),u.ctxMiterLimit(l.ml||0)):u.ctxFillStyle(o==="fl"?l.co:l.grd),u.ctxOpacity(l.coOp),o!=="st"&&o!=="gs"&&h.beginPath(),u.ctxTransform(l.preTransforms.finalTransform.props),r=s.length,t=0;t<r;t+=1){for(o!=="st"&&o!=="gs"||(h.beginPath(),l.da&&(h.setLineDash(l.da),h.lineDashOffset=l.do)),n=(a=s[t].trNodes).length,i=0;i<n;i+=1)a[i].t==="m"?h.moveTo(a[i].p[0],a[i].p[1]):a[i].t==="c"?h.bezierCurveTo(a[i].pts[0],a[i].pts[1],a[i].pts[2],a[i].pts[3],a[i].pts[4],a[i].pts[5]):h.closePath();o!=="st"&&o!=="gs"||(u.ctxStroke(),l.da&&h.setLineDash(this.dashResetter))}o!=="st"&&o!=="gs"&&this.globalData.renderer.ctxFill(l.r),u.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,i){var n,s;for(s=e,n=t.length-1;n>=0;n-=1)t[n].ty==="tr"?(s=r[n].transform,this.renderShapeTransform(e,s)):t[n].ty==="sh"||t[n].ty==="el"||t[n].ty==="rc"||t[n].ty==="sr"?this.renderPath(t[n],r[n]):t[n].ty==="fl"?this.renderFill(t[n],r[n],s):t[n].ty==="st"?this.renderStroke(t[n],r[n],s):t[n].ty==="gf"||t[n].ty==="gs"?this.renderGradientFill(t[n],r[n],s):t[n].ty==="gr"?this.renderShape(s,t[n].it,r[n].it):t[n].ty;i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,i,n,s=e.trNodes,a=t.paths,o=a._length;s.length=0;var l=e.transforms.finalTransform;for(n=0;n<o;n+=1){var c=a.shapes[n];if(c&&c.v){for(i=c._length,r=1;r<i;r+=1)r===1&&s.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),s.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});i===1&&s.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&i&&(s.push({t:"c",pts:l.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),s.push({t:"z"}))}}e.trNodes=s}},CVShapeElement.prototype.renderPath=function(e,t){if(e.hd!==!0&&e._shouldRender){var r,i=t.styledShapes.length;for(r=0;r<i;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var i=t.style;(t.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var i,n=t.style;if(!n.grd||t.g._mdf||t.s._mdf||t.e._mdf||e.t!==1&&(t.h._mdf||t.a._mdf)){var s,a=this.globalData.canvasContext,o=t.s.v,l=t.e.v;if(e.t===1)i=a.createLinearGradient(o[0],o[1],l[0],l[1]);else{var c=Math.sqrt(Math.pow(o[0]-l[0],2)+Math.pow(o[1]-l[1],2)),u=Math.atan2(l[1]-o[1],l[0]-o[0]),h=t.h.v;h>=1?h=.99:h<=-1&&(h=-.99);var d=c*h,p=Math.cos(u+t.a.v)*d+o[0],m=Math.sin(u+t.a.v)*d+o[1];i=a.createRadialGradient(p,m,0,o[0],o[1],c)}var g=e.g.p,f=t.g.c,y=1;for(s=0;s<g;s+=1)t.g._hasOpacity&&t.g._collapsable&&(y=t.g.o[2*s+1]),i.addColorStop(f[4*s]/100,"rgba("+f[4*s+1]+","+f[4*s+2]+","+f[4*s+3]+","+y+")");n.grd=i}n.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var i=t.style,n=t.d;n&&(n._mdf||this._isFirstFrame)&&(i.da=n.dashArray,i.do=n.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(i.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var i,n,s,a,o,l,c,u,h,d,p,m,g=this.globalData.fontManager.getFontByName(e.f),f=e.l,y=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,n=e.finalText.length;var v=this.data.singleShape,b=.001*e.tr*e.finalSize,k=0,E=0,x=!0,S=0;for(i=0;i<n;i+=1){a=(s=this.globalData.fontManager.getCharData(e.finalText[i],g.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&s.data||{},y.reset(),v&&f[i].n&&(k=-b,E+=e.yOffset,E+=x?1:0,x=!1),h=(c=a.shapes?a.shapes[0].it:[]).length,y.scale(e.finalSize/100,e.finalSize/100),v&&this.applyTextPropertiesToMatrix(e,y,f[i].line,k,E),p=createSizedArray(h-1);var C=0;for(u=0;u<h;u+=1)if(c[u].ty==="sh"){for(l=c[u].ks.k.i.length,d=c[u].ks.k,m=[],o=1;o<l;o+=1)o===1&&m.push(y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),m.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[o][0],d.i[o][1],0),y.applyToY(d.i[o][0],d.i[o][1],0),y.applyToX(d.v[o][0],d.v[o][1],0),y.applyToY(d.v[o][0],d.v[o][1],0));m.push(y.applyToX(d.o[o-1][0],d.o[o-1][1],0),y.applyToY(d.o[o-1][0],d.o[o-1][1],0),y.applyToX(d.i[0][0],d.i[0][1],0),y.applyToY(d.i[0][0],d.i[0][1],0),y.applyToX(d.v[0][0],d.v[0][1],0),y.applyToY(d.v[0][0],d.v[0][1],0)),p[C]=m,C+=1}v&&(k+=f[i].l,k+=b),this.textSpans[S]?this.textSpans[S].elem=p:this.textSpans[S]={elem:p},S+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,r,i,n,s;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var a,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;t=l.length;var c,u,h=null,d=null,p=null,m=this.globalData.renderer;for(e=0;e<t;e+=1)if(!l[e].n){if((a=o[e])&&(m.save(),m.ctxTransform(a.p),m.ctxOpacity(a.o)),this.fill){for(a&&a.fc?h!==a.fc&&(m.ctxFillStyle(a.fc),h=a.fc):h!==this.values.fill&&(h=this.values.fill,m.ctxFillStyle(this.values.fill)),i=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(s=(u=c[r]).length,this.globalData.canvasContext.moveTo(u[0],u[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(u[n],u[n+1],u[n+2],u[n+3],u[n+4],u[n+5]);this.globalData.canvasContext.closePath(),m.ctxFill()}if(this.stroke){for(a&&a.sw?p!==a.sw&&(p=a.sw,m.ctxLineWidth(a.sw)):p!==this.values.sWidth&&(p=this.values.sWidth,m.ctxLineWidth(this.values.sWidth)),a&&a.sc?d!==a.sc&&(d=a.sc,m.ctxStrokeStyle(a.sc)):d!==this.values.stroke&&(d=this.values.stroke,m.ctxStrokeStyle(this.values.stroke)),i=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(s=(u=c[r]).length,this.globalData.canvasContext.moveTo(u[0],u[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(u[n],u[n+1],u[n+2],u[n+3],u[n+4],u[n+5]);this.globalData.canvasContext.closePath(),m.ctxStroke()}a&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,i=e.getContext("2d"),n=this.img.width,s=this.img.height,a=n/s,o=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>o&&l==="xMidYMid slice"||a<o&&l!=="xMidYMid slice"?t=(r=s)*o:r=(t=n)/o,i.drawImage(this.img,(n-t)/2,(s-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){e[0]===1&&e[1]===0&&e[4]===0&&e[5]===1&&e[12]===0&&e[13]===0||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,t,r,i){this.canvasContext.fillRect(e,t,r,i)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){this.renderConfig.clearCanvas?(e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){var r,i,n,s;if(this.reset(),e?(r=e,i=t,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=i):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,i=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=i*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var a=this.renderConfig.preserveAspectRatio.split(" "),o=a[1]||"meet",l=a[0]||"xMidYMid",c=l.substr(0,4),u=l.substr(4);n=r/i,(s=this.transformCanvas.w/this.transformCanvas.h)>n&&o==="meet"||s<n&&o==="slice"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=c==="xMid"&&(s<n&&o==="meet"||s>n&&o==="slice")?(r-this.transformCanvas.w*(i/this.transformCanvas.h))/2*this.renderConfig.dpr:c==="xMax"&&(s<n&&o==="meet"||s>n&&o==="slice")?(r-this.transformCanvas.w*(i/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=u==="YMid"&&(s>n&&o==="meet"||s<n&&o==="slice")?(i-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:u==="YMax"&&(s>n&&o==="meet"||s<n&&o==="slice")?(i-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||this.renderConfig.clearCanvas!==!0||t)&&!this.destroyed&&e!==-1){var r;this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var i=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&this.layers[e].ty!==99){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=0;for(t=this._length;t<e;t+=1)this.stack[t]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var t,r=this.stack[this.cArrPos],i=r.transform,n=this.cTr.props;for(t=0;t<16;t+=1)n[t]=i[t];if(e){this.nativeContext.restore();var s=this.stack[this.cArrPos+1];this.appliedFillStyle=s.fillStyle,this.appliedStrokeStyle=s.strokeStyle,this.appliedLineWidth=s.lineWidth,this.appliedLineCap=s.lineCap,this.appliedLineJoin=s.lineJoin,this.appliedMiterLimit=s.miterLimit}this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),(e||r.opacity!==-1&&this.currentOpacity!==r.opacity)&&(this.nativeContext.globalAlpha=r.opacity,this.currentOpacity=r.opacity),this.currentFillStyle=r.fillStyle,this.currentStrokeStyle=r.strokeStyle,this.currentLineWidth=r.lineWidth,this.currentLineCap=r.lineCap,this.currentLineJoin=r.lineJoin,this.currentMiterLimit=r.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r,i=this.stack[this.cArrPos];for(r=0;r<16;r+=1)i.transform[r]=t[r];this.cArrPos+=1;var n=this.stack[this.cArrPos];n.opacity=i.opacity,n.fillStyle=i.fillStyle,n.strokeStyle=i.strokeStyle,n.lineWidth=i.lineWidth,n.lineCap=i.lineCap,n.lineJoin=i.lineJoin,n.miterLimit=i.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var r=t.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(e){var t=this.stack[this.cArrPos].opacity;t*=e<0?0:e,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,t,r,i){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,t,r,i)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,i,n,s,a,o=e.sh.v,l=e.transformers,c=o._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)i=this.getTransformedPoint(l,o.v[r]),n=this.getTransformedPoint(l,o.o[r]),s=this.getTransformedPoint(l,o.i[r+1]),a=this.getTransformedPoint(l,o.v[r+1]),this.checkBounds(i,n,s,a,t);o.c&&(i=this.getTransformedPoint(l,o.v[r]),n=this.getTransformedPoint(l,o.o[r]),s=this.getTransformedPoint(l,o.i[0]),a=this.getTransformedPoint(l,o.v[0]),this.checkBounds(i,n,s,a,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,i,n){this.getBoundsOfCurve(e,t,r,i);var s=this.shapeBoundingBox;n.x=bmMin(s.left,n.x),n.xMax=bmMax(s.right,n.xMax),n.y=bmMin(s.top,n.y),n.yMax=bmMax(s.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,i){for(var n,s,a,o,l,c,u,h=[[e[0],i[0]],[e[1],i[1]]],d=0;d<2;++d)s=6*e[d]-12*t[d]+6*r[d],n=-3*e[d]+9*t[d]-9*r[d]+3*i[d],a=3*t[d]-3*e[d],s|=0,a|=0,(n|=0)==0&&s===0||(n===0?(o=-a/s)>0&&o<1&&h[d].push(this.calculateF(o,e,t,r,i,d)):(l=s*s-4*a*n)>=0&&((c=(-s+bmSqrt(l))/(2*n))>0&&c<1&&h[d].push(this.calculateF(c,e,t,r,i,d)),(u=(-s-bmSqrt(l))/(2*n))>0&&u<1&&h[d].push(this.calculateF(u,e,t,r,i,d))));this.shapeBoundingBox.left=bmMin.apply(null,h[0]),this.shapeBoundingBox.top=bmMin.apply(null,h[1]),this.shapeBoundingBox.right=bmMax.apply(null,h[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,h[1])},HShapeElement.prototype.calculateF=function(e,t,r,i,n,s){return bmPow(1-e,3)*t[s]+3*bmPow(1-e,2)*e*r[s]+3*(1-e)*bmPow(e,2)*i[s]+bmPow(e,3)*n[s]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it?this.calculateBoundingBox(e[r].it,t):e[r]&&e[r].style&&e[r].w&&this.expandStrokeBoundingBox(e[r].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var r=0;if(e.keyframes){for(var i=0;i<e.keyframes.length;i+=1){var n=e.keyframes[i].s;n>r&&(r=n)}r*=e.mult}else r=e.v*e.mult;t.x-=r,t.xMax+=r,t.y-=r,t.yMax+=r},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var i=this.shapeCont.style,n="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";i.transform=n,i.webkitTransform=n}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var i,n,s=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{t.fontFamily=s.fFamily;var a=e.fWeight,o=e.fStyle;t.fontStyle=o,t.fontWeight=a}var l,c,u,h=e.l;n=h.length;var d,p=this.mHelper,m="",g=0;for(i=0;i<n;i+=1){if(this.globalData.fontManager.chars?(this.textPaths[g]?l=this.textPaths[g]:((l=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),l.setAttribute("stroke-linejoin",lineJoinEnum[2]),l.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[g]?u=(c=this.textSpans[g]).children[0]:((c=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(l),styleDiv(c)))):this.isMasked?l=this.textPaths[g]?this.textPaths[g]:createNS("text"):this.textSpans[g]?(c=this.textSpans[g],l=this.textPaths[g]):(styleDiv(c=createTag("span")),styleDiv(l=createTag("span")),c.appendChild(l)),this.globalData.fontManager.chars){var f,y=this.globalData.fontManager.getCharData(e.finalText[i],s.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(f=y?y.data:null,p.reset(),f&&f.shapes&&f.shapes.length&&(d=f.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),m=this.createPathShape(p,d),l.setAttribute("d",m)),this.isMasked)this.innerElem.appendChild(l);else{if(this.innerElem.appendChild(c),f&&f.shapes){document.body.appendChild(u);var v=u.getBBox();u.setAttribute("width",v.width+2),u.setAttribute("height",v.height+2),u.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2));var b=u.style,k="translate("+(v.x-1)+"px,"+(v.y-1)+"px)";b.transform=k,b.webkitTransform=k,h[i].yOffset=v.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);c.appendChild(u)}}else if(l.textContent=h[i].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(l);else{this.innerElem.appendChild(c);var E=l.style,x="translate3d(0,"+-e.finalSize/1.2+"px,0)";E.transform=x,E.webkitTransform=x}this.isMasked?this.textSpans[g]=l:this.textSpans[g]=c,this.textSpans[g].style.display="block",this.textPaths[g]=l,g+=1}for(;g<this.textSpans.length;)this.textSpans[g].style.display="none",g+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,i,n,s,a,o=0,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(i=c.length,r=0;r<i;r+=1)c[r].n?o+=1:(s=this.textSpans[r],a=this.textPaths[r],n=l[o],o+=1,n._mdf.m&&(this.isMasked?s.setAttribute("transform",n.m):(s.style.webkitTransform=n.m,s.style.transform=n.m)),s.style.opacity=n.o,n.sw&&n._mdf.sw&&a.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&a.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(a.setAttribute("fill",n.fc),a.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();if(this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height)),this.currentBBox.w!==u.width+2||this.currentBBox.h!==u.height+2||this.currentBBox.x!==u.x-1||this.currentBBox.y!==u.y-1){this.currentBBox.w=u.width+2,this.currentBBox.h=u.height+2,this.currentBBox.x=u.x-1,this.currentBBox.y=u.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var h="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=h,e.webkitTransform=h}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r,i,n=this.comp.threeDElements.length;for(e=0;e<n;e+=1)if((t=this.comp.threeDElements[e]).type==="3d"){r=t.perspectiveElem.style,i=t.container.style;var s=this.pe.v+"px",a="0px 0px 0px",o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=s,r.webkitPerspective=s,i.transformOrigin=a,i.mozTransformOrigin=a,i.webkitTransformOrigin=a,r.transform=o,r.webkitTransform=o}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var i=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n;n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),a=[n[0]/s,n[1]/s,n[2]/s],o=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],o),c=Math.atan2(a[0],-a[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var h,d,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if((h=this.comp.threeDElements[e]).type==="3d"){if(u){var m=this.mat.toCSS();(p=h.container.style).transform=m,p.webkitTransform=m}this.pe._mdf&&((d=h.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var i=this.layers[t];if(i.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var n,s,a=0;a<t;)this.elements[a]&&this.elements[a]!==!0&&this.elements[a].getBaseElement&&(s=this.elements[a],n=(this.layers[a].ddd?this.getThreeDContainerByPos(a):s.getBaseElement())||n),a+=1;n?i.ddd&&this.supports3d||this.layerElement.insertBefore(r,n):i.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var r,i,n=createTag("div");styleDiv(n);var s=createTag("div");if(styleDiv(s),t==="3d"){(r=n.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var a="50% 50%";r.webkitTransformOrigin=a,r.mozTransformOrigin=a,r.transformOrigin=a;var o="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(i=s.style).transform=o,i.webkitTransform=o}n.appendChild(s);var l={container:s,perspectiveElem:n,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,r=this.layers.length,i="";for(e=0;e<r;e+=1)this.layers[e].ddd&&this.layers[e].ty!==3?(i!=="3d"&&(i="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):(i!=="2d"&&(i="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(r=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var r=0,i=this.threeDElements.length;r<i;){if(t<=this.threeDElements[r].endPos){for(var n,s=this.threeDElements[r].startPos;s<t;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[r].container.insertBefore(e,n):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,i=t.style;i.width=e.w+"px",i.height=e.h+"px",this.resizerElem=t,styleDiv(t),i.transformStyle="flat",i.mozTransformStyle="flat",i.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),i.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var s=createNS("defs");n.appendChild(s),this.data=e,this.setupGlobalData(e,n),this.globalData.defs=s,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var e;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,r,i,n=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,a=n/s;this.globalData.compSize.w/this.globalData.compSize.h>a?(e=n/this.globalData.compSize.w,t=n/this.globalData.compSize.w,r=0,i=(s-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(e=s/this.globalData.compSize.h,t=s/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,i=0);var o=this.resizerElem.style;o.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+i+",0,1)",o.transform=o.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,i=this.threeDElements.length;for(e=0;e<i;e+=1){var n=this.threeDElements[e].perspectiveElem.style;n.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",n.perspective=n.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,r=e.length,i=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var n=this.createComp(e[t],i,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,i=0;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(){return function(e){function t(r){for(var i=0,n=e.layers.length;i<n;){if(e.layers[i].nm===r||e.layers[i].ind===r)return e.elements[i].layerInterface;i+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t}}();function _typeof$2(e){return(_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function seedRandom(e,t){var r=this,i=256,n="random",s=t.pow(i,6),a=t.pow(2,52),o=2*a,l=255;function c(m){var g,f=m.length,y=this,v=0,b=y.i=y.j=0,k=y.S=[];for(f||(m=[f++]);v<i;)k[v]=v++;for(v=0;v<i;v++)k[v]=k[b=l&b+m[v%f]+(g=k[v])],k[b]=g;y.g=function(E){for(var x,S=0,C=y.i,w=y.j,P=y.S;E--;)x=P[C=l&C+1],S=S*i+P[l&(P[C]=P[w=l&w+x])+(P[w]=x)];return y.i=C,y.j=w,S}}function u(m,g){return g.i=m.i,g.j=m.j,g.S=m.S.slice(),g}function h(m,g){var f,y=[],v=_typeof$2(m);if(g&&v=="object")for(f in m)try{y.push(h(m[f],g-1))}catch{}return y.length?y:v=="string"?m:m+"\0"}function d(m,g){for(var f,y=m+"",v=0;v<y.length;)g[l&v]=l&(f^=19*g[l&v])+y.charCodeAt(v++);return p(g)}function p(m){return String.fromCharCode.apply(0,m)}t["seed"+n]=function(m,g,f){var y=[],v=d(h((g=g===!0?{entropy:!0}:g||{}).entropy?[m,p(e)]:m===null?function(){try{var E=new Uint8Array(i);return(r.crypto||r.msCrypto).getRandomValues(E),p(E)}catch{var x=r.navigator,S=x&&x.plugins;return[+new Date,r,S,r.screen,p(e)]}}():m,3),y),b=new c(y),k=function(){for(var E=b.g(6),x=s,S=0;E<a;)E=(E+S)*i,x*=i,S=b.g(1);for(;E>=o;)E/=2,x/=2,S>>>=1;return(E+S)/x};return k.int32=function(){return 0|b.g(4)},k.quick=function(){return b.g(4)/4294967296},k.double=k,d(p(b.S),e),(g.pass||f||function(E,x,S,C){return C&&(C.S&&u(C,b),E.state=function(){return u(b,{})}),S?(t[n]=E,x):E})(k,v,"global"in g?g.global:this==t,g.state)},d(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){return(_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return e==="number"||t instanceof Number||e==="boolean"||e==="string"}function $bm_neg(e){var t=_typeof$1(e);if(t==="number"||e instanceof Number||t==="boolean")return-e;if($bm_isInstanceOfArray(e)){var r,i=e.length,n=[];for(r=0;r<i;r+=1)n[r]=-e[r];return n}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=_typeof$1(e),i=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(i,t)||r==="string"||i==="string")return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(i,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var n=0,s=e.length,a=t.length,o=[];n<s||n<a;)(typeof e[n]=="number"||e[n]instanceof Number)&&(typeof t[n]=="number"||t[n]instanceof Number)?o[n]=e[n]+t[n]:o[n]=t[n]===void 0?e[n]:e[n]||t[n],n+=1;return o}return 0}var add=sum;function sub(e,t){var r=_typeof$1(e),i=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(i,t))return r==="string"&&(e=parseInt(e,10)),i==="string"&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(i,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var n=0,s=e.length,a=t.length,o=[];n<s||n<a;)(typeof e[n]=="number"||e[n]instanceof Number)&&(typeof t[n]=="number"||t[n]instanceof Number)?o[n]=e[n]-t[n]:o[n]=t[n]===void 0?e[n]:e[n]||t[n],n+=1;return o}return 0}function mul(e,t){var r,i,n,s=_typeof$1(e),a=_typeof$1(t);if(isNumerable(s,e)&&isNumerable(a,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t)){for(n=e.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=e[i]*t;return r}if(isNumerable(s,e)&&$bm_isInstanceOfArray(t)){for(n=t.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=e*t[i];return r}return 0}function div(e,t){var r,i,n,s=_typeof$1(e),a=_typeof$1(t);if(isNumerable(s,e)&&isNumerable(a,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t)){for(n=e.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=e[i]/t;return r}if(isNumerable(s,e)&&$bm_isInstanceOfArray(t)){for(n=t.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=e/t[i];return r}return 0}function mod(e,t){return typeof e=="string"&&(e=parseInt(e,10)),typeof t=="string"&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){if(t>r){var i=r;r=t,t=i}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if(typeof e=="number"||e instanceof Number)return t=t||0,Math.abs(e-t);var r;t||(t=helperLengthArray);var i=Math.min(e.length,t.length),n=0;for(r=0;r<i;r+=1)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,r,i=e[0],n=e[1],s=e[2],a=Math.max(i,n,s),o=Math.min(i,n,s),l=(a+o)/2;if(a===o)t=0,r=0;else{var c=a-o;switch(r=l>.5?c/(2-a-o):c/(a+o),a){case i:t=(n-s)/c+(n<s?6:0);break;case n:t=(s-i)/c+2;break;case s:t=(i-n)/c+4}t/=6}return[t,r,l,e[3]]}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t,r,i,n=e[0],s=e[1],a=e[2];if(s===0)t=a,i=a,r=a;else{var o=a<.5?a*(1+s):a+s-a*s,l=2*a-o;t=hue2rgb(l,o,n+1/3),r=hue2rgb(l,o,n),i=hue2rgb(l,o,n-1/3)}return[t,r,i,e[3]]}function linear(e,t,r,i,n){if(i!==void 0&&n!==void 0||(i=t,n=r,t=0,r=1),r<t){var s=r;r=t,t=s}if(e<=t)return i;if(e>=r)return n;var a,o=r===t?0:(e-t)/(r-t);if(!i.length)return i+(n-i)*o;var l=i.length,c=createTypedArray("float32",l);for(a=0;a<l;a+=1)c[a]=i[a]+(n[a]-i[a])*o;return c}function random(e,t){if(t===void 0&&(e===void 0?(e=0,t=1):(t=e,e=void 0)),t.length){var r,i=t.length;e||(e=createTypedArray("float32",i));var n=createTypedArray("float32",i),s=BMMath.random();for(r=0;r<i;r+=1)n[r]=e[r]+s*(t[r]-e[r]);return n}return e===void 0&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,r,i){var n,s=e.length,a=shapePool.newElement();a.setPathData(!!i,s);var o,l,c=[0,0];for(n=0;n<s;n+=1)o=t&&t[n]?t[n]:c,l=r&&r[n]?r[n]:c,a.setTripleAt(e[n][0],e[n][1],l[0]+e[n][0],l[1]+e[n][1],o[0]+e[n][0],o[1]+e[n][1],n,!0);return a}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function(e,t){var r,i,n=this.pv.length?this.pv.length:1,s=createTypedArray("float32",n),a=Math.floor(5*time);for(r=0,i=0;r<a;){for(i=0;i<n;i+=1)s[i]+=-t+2*t*BMMath.random();r+=1}var o=5*time,l=o-Math.floor(o),c=createTypedArray("float32",n);if(n>1){for(i=0;i<n;i+=1)c[i]=this.pv[i]+s[i]+(-t+2*t*BMMath.random())*l;return c}return this.pv+s[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],i=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,i,0]}function easeOut(e,t,r,i,n){return applyEase(easeOutBez,e,t,r,i,n)}function easeIn(e,t,r,i,n){return applyEase(easeInBez,e,t,r,i,n)}function ease(e,t,r,i,n){return applyEase(easeInOutBez,e,t,r,i,n)}function applyEase(e,t,r,i,n,s){n===void 0?(n=r,s=i):t=(t-r)/(i-r),t>1?t=1:t<0&&(t=0);var a=e(t);if($bm_isInstanceOfArray(n)){var o,l=n.length,c=createTypedArray("float32",l);for(o=0;o<l;o+=1)c[o]=(s[o]-n[o])*a+n[o];return c}return(s-n)*a+n}function nearestKey(e){var t,r,i,n=data.k.length;if(data.k.length&&typeof data.k[0]!="number")if(r=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,i=data.k[0].t;else{for(t=0;t<n-1;t+=1){if(e===data.k[t].t){r=t+1,i=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(r=t+2,i=data.k[t+1].t):(r=t+1,i=data.k[t].t);break}}r===-1&&(r=t+1,i=data.k[t].t)}else r=0,i=0;var s={};return s.index=r,s.time=i/elem.comp.globalData.frameRate,s}function key(e){var t,r,i;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var n=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(i=n.length,r=0;r<i;r+=1)t[r]=n[r],t.value[r]=n[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||e===0||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return typeof value=="string"?t===void 0?value.substring(e):value.substring(e,t):""}function substr(e,t){return typeof value=="string"?t===void 0?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=e===0?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={initExpressions:function(t){var r=0,i=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){r+=1},t.renderer.globalData.popExpression=function(){(r-=1)==0&&function(){var n,s=i.length;for(n=0;n<s;n+=1)i[n].release();i.length=0}()},t.renderer.globalData.registerExpressionProperty=function(n){i.indexOf(n)===-1&&i.push(n)}}};return e.resetFrame=ExpressionManager.resetFrame,e}(),MaskManagerInterface=function(){function e(t,r){this._mask=t,this._data=r}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var r,i=createSizedArray(t.viewData.length),n=t.viewData.length;for(r=0;r<n;r+=1)i[r]=new e(t.viewData[r],t.masksProperties[r]);return function(s){for(r=0;r<n;){if(t.masksProperties[r].nm===s)return i[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(n,s,a){Object.defineProperty(n,"velocity",{get:function(){return s.getVelocityAtTime(s.comp.currentFrame)}}),n.numKeys=s.keyframes?s.keyframes.length:0,n.key=function(o){if(!n.numKeys)return 0;var l;l="s"in s.keyframes[o-1]?s.keyframes[o-1].s:"e"in s.keyframes[o-2]?s.keyframes[o-2].e:s.keyframes[o-2].s;var c=a==="unidimensional"?new Number(l):Object.assign({},l);return c.time=s.keyframes[o-1].t/s.elem.comp.globalData.frameRate,c.value=a==="unidimensional"?l[0]:l,c},n.valueAtTime=s.getValueAtTime,n.speedAtTime=s.getSpeedAtTime,n.velocityAtTime=s.getVelocityAtTime,n.propertyGroup=s.propertyGroup}function i(){return e}return function(n){return n?n.propType==="unidimensional"?function(s){s&&"pv"in s||(s=e);var a=1/s.mult,o=s.pv*a,l=new Number(o);return l.value=o,r(l,s,"unidimensional"),function(){return s.k&&s.getValue(),o=s.v*a,l.value!==o&&((l=new Number(o)).value=o,l[0]=o,r(l,s,"unidimensional")),l}}(n):function(s){s&&"pv"in s||(s=t);var a=1/s.mult,o=s.data&&s.data.l||s.pv.length,l=createTypedArray("float32",o),c=createTypedArray("float32",o);return l.value=c,r(l,s,"multidimensional"),function(){s.k&&s.getValue();for(var u=0;u<o;u+=1)c[u]=s.v[u]*a,l[u]=c[u];return l}}(n):i}}(),TransformExpressionInterface=function(){return function(e){function t(a){switch(a){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var r,i,n,s;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?s=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),i=ExpressionPropertyInterface(e.py),e.pz&&(n=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?s():[r(),i(),n?n():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t}}(),LayerExpressionInterface=function(){function e(c){var u=new Matrix;return c!==void 0?this._elem.finalTransform.mProp.getValueAtTime(c).clone(u):this._elem.finalTransform.mProp.applyToMatrix(u),u}function t(c,u){var h=this.getMatrix(u);return h.props[12]=0,h.props[13]=0,h.props[14]=0,this.applyPoint(h,c)}function r(c,u){var h=this.getMatrix(u);return this.applyPoint(h,c)}function i(c,u){var h=this.getMatrix(u);return h.props[12]=0,h.props[13]=0,h.props[14]=0,this.invertPoint(h,c)}function n(c,u){var h=this.getMatrix(u);return this.invertPoint(h,c)}function s(c,u){if(this._elem.hierarchy&&this._elem.hierarchy.length){var h,d=this._elem.hierarchy.length;for(h=0;h<d;h+=1)this._elem.hierarchy[h].finalTransform.mProp.applyToMatrix(c)}return c.applyToPointArray(u[0],u[1],u[2]||0)}function a(c,u){if(this._elem.hierarchy&&this._elem.hierarchy.length){var h,d=this._elem.hierarchy.length;for(h=0;h<d;h+=1)this._elem.hierarchy[h].finalTransform.mProp.applyToMatrix(c)}return c.inversePoint(u)}function o(c){var u=new Matrix;if(u.reset(),this._elem.finalTransform.mProp.applyToMatrix(u),this._elem.hierarchy&&this._elem.hierarchy.length){var h,d=this._elem.hierarchy.length;for(h=0;h<d;h+=1)this._elem.hierarchy[h].finalTransform.mProp.applyToMatrix(u);return u.inversePoint(c)}return u.inversePoint(c)}function l(){return[1,1,1,1]}return function(c){var u;function h(p){switch(p){case"ADBE Root Vectors Group":case"Contents":case 2:return h.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return u;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return h.effect;case"ADBE Text Properties":return h.textInterface;default:return null}}h.getMatrix=e,h.invertPoint=a,h.applyPoint=s,h.toWorld=r,h.toWorldVec=t,h.fromWorld=n,h.fromWorldVec=i,h.toComp=r,h.fromComp=o,h.sampleImage=l,h.sourceRectAtTime=c.sourceRectAtTime.bind(c),h._elem=c;var d=getDescriptor(u=TransformExpressionInterface(c.finalTransform.mProp),"anchorPoint");return Object.defineProperties(h,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(u,"rotation"),scale:getDescriptor(u,"scale"),position:getDescriptor(u,"position"),opacity:getDescriptor(u,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return u}},active:{get:function(){return c.isInRange}}}),h.startTime=c.data.st,h.index=c.data.ind,h.source=c.data.refId,h.height=c.data.ty===0?c.data.h:100,h.width=c.data.ty===0?c.data.w:100,h.inPoint=c.data.ip/c.comp.globalData.frameRate,h.outPoint=c.data.op/c.comp.globalData.frameRate,h._name=c.data.nm,h.registerMaskInterface=function(p){h.mask=new MaskManagerInterface(p,c)},h.registerEffectsInterface=function(p){h.effect=p},h}}(),propertyGroupFactory=function(){return function(e,t){return function(r){return(r=r===void 0?1:r)<=0?e:t(r-1)}}}(),PropertyInterface=function(){return function(e,t){var r={_name:e};return function(i){return(i=i===void 0?1:i)<=0?r:t(i-1)}}}(),EffectsExpressionInterface=function(){function e(r,i,n,s){function a(h){for(var d=r.ef,p=0,m=d.length;p<m;){if(h===d[p].nm||h===d[p].mn||h===d[p].ix)return d[p].ty===5?c[p]:c[p]();p+=1}throw new Error}var o,l=propertyGroupFactory(a,n),c=[],u=r.ef.length;for(o=0;o<u;o+=1)r.ef[o].ty===5?c.push(e(r.ef[o],i.effectElements[o],i.effectElements[o].propertyGroup,s)):c.push(t(i.effectElements[o],r.ef[o].ty,s,l));return r.mn==="ADBE Color Control"&&Object.defineProperty(a,"color",{get:function(){return c[0]()}}),Object.defineProperties(a,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:l}}),a.enabled=r.en!==0,a.active=a.enabled,a}function t(r,i,n,s){var a=ExpressionPropertyInterface(r.p);return r.p.setGroupProperty&&r.p.setGroupProperty(PropertyInterface("",s)),function(){return i===10?n.comp.compInterface(r.p.v):a()}}return{createEffectsInterface:function(r,i){if(r.effectsManager){var n,s=[],a=r.data.ef,o=r.effectsManager.effectElements.length;for(n=0;n<o;n+=1)s.push(e(a[n],r.effectsManager.effectElements[n],i,r));var l=r.data.ef||[],c=function(u){for(n=0,o=l.length;n<o;){if(u===l[n].nm||u===l[n].mn||u===l[n].ix)return s[n];n+=1}return null};return Object.defineProperty(c,"numProperties",{get:function(){return l.length}}),c}return null}}}(),ShapePathInterface=function(){return function(e,t,r){var i=t.sh;function n(a){return a==="Shape"||a==="shape"||a==="Path"||a==="path"||a==="ADBE Vector Shape"||a===2?n.path:null}var s=propertyGroupFactory(n,r);return i.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(n,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),n}}(),ShapeExpressionInterface=function(){function e(p,m,g){var f,y=[],v=p?p.length:0;for(f=0;f<v;f+=1)p[f].ty==="gr"?y.push(t(p[f],m[f],g)):p[f].ty==="fl"?y.push(r(p[f],m[f],g)):p[f].ty==="st"?y.push(s(p[f],m[f],g)):p[f].ty==="tm"?y.push(a(p[f],m[f],g)):p[f].ty==="tr"||(p[f].ty==="el"?y.push(l(p[f],m[f],g)):p[f].ty==="sr"?y.push(c(p[f],m[f],g)):p[f].ty==="sh"?y.push(ShapePathInterface(p[f],m[f],g)):p[f].ty==="rc"?y.push(u(p[f],m[f],g)):p[f].ty==="rd"?y.push(h(p[f],m[f],g)):p[f].ty==="rp"?y.push(d(p[f],m[f],g)):p[f].ty==="gf"?y.push(i(p[f],m[f],g)):y.push(n(p[f],m[f])));return y}function t(p,m,g){var f=function(b){switch(b){case"ADBE Vectors Group":case"Contents":case 2:return f.content;default:return f.transform}};f.propertyGroup=propertyGroupFactory(f,g);var y=function(b,k,E){var x,S=function(w){for(var P=0,T=x.length;P<T;){if(x[P]._name===w||x[P].mn===w||x[P].propertyIndex===w||x[P].ix===w||x[P].ind===w)return x[P];P+=1}return typeof w=="number"?x[w-1]:null};S.propertyGroup=propertyGroupFactory(S,E),x=e(b.it,k.it,S.propertyGroup),S.numProperties=x.length;var C=o(b.it[b.it.length-1],k.it[k.it.length-1],S.propertyGroup);return S.transform=C,S.propertyIndex=b.cix,S._name=b.nm,S}(p,m,f.propertyGroup),v=o(p.it[p.it.length-1],m.it[m.it.length-1],f.propertyGroup);return f.content=y,f.transform=v,Object.defineProperty(f,"_name",{get:function(){return p.nm}}),f.numProperties=p.np,f.propertyIndex=p.ix,f.nm=p.nm,f.mn=p.mn,f}function r(p,m,g){function f(y){return y==="Color"||y==="color"?f.color:y==="Opacity"||y==="opacity"?f.opacity:null}return Object.defineProperties(f,{color:{get:ExpressionPropertyInterface(m.c)},opacity:{get:ExpressionPropertyInterface(m.o)},_name:{value:p.nm},mn:{value:p.mn}}),m.c.setGroupProperty(PropertyInterface("Color",g)),m.o.setGroupProperty(PropertyInterface("Opacity",g)),f}function i(p,m,g){function f(y){return y==="Start Point"||y==="start point"?f.startPoint:y==="End Point"||y==="end point"?f.endPoint:y==="Opacity"||y==="opacity"?f.opacity:null}return Object.defineProperties(f,{startPoint:{get:ExpressionPropertyInterface(m.s)},endPoint:{get:ExpressionPropertyInterface(m.e)},opacity:{get:ExpressionPropertyInterface(m.o)},type:{get:function(){return"a"}},_name:{value:p.nm},mn:{value:p.mn}}),m.s.setGroupProperty(PropertyInterface("Start Point",g)),m.e.setGroupProperty(PropertyInterface("End Point",g)),m.o.setGroupProperty(PropertyInterface("Opacity",g)),f}function n(){return function(){return null}}function s(p,m,g){var f,y=propertyGroupFactory(x,g),v=propertyGroupFactory(E,y);function b(S){Object.defineProperty(E,p.d[S].nm,{get:ExpressionPropertyInterface(m.d.dataProps[S].p)})}var k=p.d?p.d.length:0,E={};for(f=0;f<k;f+=1)b(f),m.d.dataProps[f].p.setGroupProperty(v);function x(S){return S==="Color"||S==="color"?x.color:S==="Opacity"||S==="opacity"?x.opacity:S==="Stroke Width"||S==="stroke width"?x.strokeWidth:null}return Object.defineProperties(x,{color:{get:ExpressionPropertyInterface(m.c)},opacity:{get:ExpressionPropertyInterface(m.o)},strokeWidth:{get:ExpressionPropertyInterface(m.w)},dash:{get:function(){return E}},_name:{value:p.nm},mn:{value:p.mn}}),m.c.setGroupProperty(PropertyInterface("Color",y)),m.o.setGroupProperty(PropertyInterface("Opacity",y)),m.w.setGroupProperty(PropertyInterface("Stroke Width",y)),x}function a(p,m,g){function f(v){return v===p.e.ix||v==="End"||v==="end"?f.end:v===p.s.ix?f.start:v===p.o.ix?f.offset:null}var y=propertyGroupFactory(f,g);return f.propertyIndex=p.ix,m.s.setGroupProperty(PropertyInterface("Start",y)),m.e.setGroupProperty(PropertyInterface("End",y)),m.o.setGroupProperty(PropertyInterface("Offset",y)),f.propertyIndex=p.ix,f.propertyGroup=g,Object.defineProperties(f,{start:{get:ExpressionPropertyInterface(m.s)},end:{get:ExpressionPropertyInterface(m.e)},offset:{get:ExpressionPropertyInterface(m.o)},_name:{value:p.nm}}),f.mn=p.mn,f}function o(p,m,g){function f(v){return p.a.ix===v||v==="Anchor Point"?f.anchorPoint:p.o.ix===v||v==="Opacity"?f.opacity:p.p.ix===v||v==="Position"?f.position:p.r.ix===v||v==="Rotation"||v==="ADBE Vector Rotation"?f.rotation:p.s.ix===v||v==="Scale"?f.scale:p.sk&&p.sk.ix===v||v==="Skew"?f.skew:p.sa&&p.sa.ix===v||v==="Skew Axis"?f.skewAxis:null}var y=propertyGroupFactory(f,g);return m.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",y)),m.transform.mProps.p.setGroupProperty(PropertyInterface("Position",y)),m.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",y)),m.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",y)),m.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",y)),m.transform.mProps.sk&&(m.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",y)),m.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",y))),m.transform.op.setGroupProperty(PropertyInterface("Opacity",y)),Object.defineProperties(f,{opacity:{get:ExpressionPropertyInterface(m.transform.mProps.o)},position:{get:ExpressionPropertyInterface(m.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(m.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(m.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(m.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(m.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(m.transform.mProps.sa)},_name:{value:p.nm}}),f.ty="tr",f.mn=p.mn,f.propertyGroup=g,f}function l(p,m,g){function f(b){return p.p.ix===b?f.position:p.s.ix===b?f.size:null}var y=propertyGroupFactory(f,g);f.propertyIndex=p.ix;var v=m.sh.ty==="tm"?m.sh.prop:m.sh;return v.s.setGroupProperty(PropertyInterface("Size",y)),v.p.setGroupProperty(PropertyInterface("Position",y)),Object.defineProperties(f,{size:{get:ExpressionPropertyInterface(v.s)},position:{get:ExpressionPropertyInterface(v.p)},_name:{value:p.nm}}),f.mn=p.mn,f}function c(p,m,g){function f(b){return p.p.ix===b?f.position:p.r.ix===b?f.rotation:p.pt.ix===b?f.points:p.or.ix===b||b==="ADBE Vector Star Outer Radius"?f.outerRadius:p.os.ix===b?f.outerRoundness:!p.ir||p.ir.ix!==b&&b!=="ADBE Vector Star Inner Radius"?p.is&&p.is.ix===b?f.innerRoundness:null:f.innerRadius}var y=propertyGroupFactory(f,g),v=m.sh.ty==="tm"?m.sh.prop:m.sh;return f.propertyIndex=p.ix,v.or.setGroupProperty(PropertyInterface("Outer Radius",y)),v.os.setGroupProperty(PropertyInterface("Outer Roundness",y)),v.pt.setGroupProperty(PropertyInterface("Points",y)),v.p.setGroupProperty(PropertyInterface("Position",y)),v.r.setGroupProperty(PropertyInterface("Rotation",y)),p.ir&&(v.ir.setGroupProperty(PropertyInterface("Inner Radius",y)),v.is.setGroupProperty(PropertyInterface("Inner Roundness",y))),Object.defineProperties(f,{position:{get:ExpressionPropertyInterface(v.p)},rotation:{get:ExpressionPropertyInterface(v.r)},points:{get:ExpressionPropertyInterface(v.pt)},outerRadius:{get:ExpressionPropertyInterface(v.or)},outerRoundness:{get:ExpressionPropertyInterface(v.os)},innerRadius:{get:ExpressionPropertyInterface(v.ir)},innerRoundness:{get:ExpressionPropertyInterface(v.is)},_name:{value:p.nm}}),f.mn=p.mn,f}function u(p,m,g){function f(b){return p.p.ix===b?f.position:p.r.ix===b?f.roundness:p.s.ix===b||b==="Size"||b==="ADBE Vector Rect Size"?f.size:null}var y=propertyGroupFactory(f,g),v=m.sh.ty==="tm"?m.sh.prop:m.sh;return f.propertyIndex=p.ix,v.p.setGroupProperty(PropertyInterface("Position",y)),v.s.setGroupProperty(PropertyInterface("Size",y)),v.r.setGroupProperty(PropertyInterface("Rotation",y)),Object.defineProperties(f,{position:{get:ExpressionPropertyInterface(v.p)},roundness:{get:ExpressionPropertyInterface(v.r)},size:{get:ExpressionPropertyInterface(v.s)},_name:{value:p.nm}}),f.mn=p.mn,f}function h(p,m,g){function f(b){return p.r.ix===b||b==="Round Corners 1"?f.radius:null}var y=propertyGroupFactory(f,g),v=m;return f.propertyIndex=p.ix,v.rd.setGroupProperty(PropertyInterface("Radius",y)),Object.defineProperties(f,{radius:{get:ExpressionPropertyInterface(v.rd)},_name:{value:p.nm}}),f.mn=p.mn,f}function d(p,m,g){function f(b){return p.c.ix===b||b==="Copies"?f.copies:p.o.ix===b||b==="Offset"?f.offset:null}var y=propertyGroupFactory(f,g),v=m;return f.propertyIndex=p.ix,v.c.setGroupProperty(PropertyInterface("Copies",y)),v.o.setGroupProperty(PropertyInterface("Offset",y)),Object.defineProperties(f,{copies:{get:ExpressionPropertyInterface(v.c)},offset:{get:ExpressionPropertyInterface(v.o)},_name:{value:p.nm}}),f.mn=p.mn,f}return function(p,m,g){var f;function y(v){if(typeof v=="number")return(v=v===void 0?1:v)===0?g:f[v-1];for(var b=0,k=f.length;b<k;){if(f[b]._name===v)return f[b];b+=1}return null}return y.propertyGroup=propertyGroupFactory(y,function(){return g}),f=e(p,m,y.propertyGroup),y.numProperties=f.length,y._name="Contents",y}}(),TextExpressionInterface=function(){return function(e){var t;function r(i){return i==="ADBE Text Document"?r.sourceText:null}return Object.defineProperty(r,"sourceText",{get:function(){e.textProperty.getValue();var i=e.textProperty.currentData.t;return t&&i===t.value||((t=new String(i)).value=i||new String(i),Object.defineProperty(t,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),t}}),r}}();function _typeof(e){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var FootageInterface=function(){return function(e){function t(r){return r==="Data"?t.dataInterface:null}return t._name="Data",t.dataInterface=function(r){function i(n){return n==="Outline"?i.outlineInterface():null}return i._name="Outline",i.outlineInterface=function(n){var s="",a=n.getFootageData();function o(l){if(a[l])return s=l,_typeof(a=a[l])==="object"?o:a;var c=l.indexOf(s);if(c!==-1){var u=parseInt(l.substr(c+s.length),10);return _typeof(a=a[u])==="object"?o:a}return""}return function(){return s="",a=n.getFootageData(),o}}(r),i}(e),t}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers=function(){return{searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),i=0;if(t.length){var n;for(n=0;n<t.length;n+=1)i+=Math.pow(r[n]-t[n],2);i=100*Math.sqrt(i)}else i=0;return i},getVelocityAtTime:function(e){if(this.vel!==void 0)return this.vel;var t,r,i=-.001,n=this.getValueAtTime(e),s=this.getValueAtTime(e+i);if(n.length)for(t=createTypedArray("float32",n.length),r=0;r<n.length;r+=1)t[r]=(s[r]-n[r])/i;else t=(s-n)/i;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}}}();function addPropertyDecorator(){function e(h,d,p){if(!this.k||!this.keyframes)return this.pv;h=h?h.toLowerCase():"";var m,g,f,y,v,b=this.comp.renderedFrame,k=this.keyframes,E=k[k.length-1].t;if(b<=E)return this.pv;if(p?g=E-(m=d?Math.abs(E-this.elem.comp.globalData.frameRate*d):Math.max(0,E-this.elem.data.ip)):((!d||d>k.length-1)&&(d=k.length-1),m=E-(g=k[k.length-1-d].t)),h==="pingpong"){if(Math.floor((b-g)/m)%2!=0)return this.getValueAtTime((m-(b-g)%m+g)/this.comp.globalData.frameRate,0)}else{if(h==="offset"){var x=this.getValueAtTime(g/this.comp.globalData.frameRate,0),S=this.getValueAtTime(E/this.comp.globalData.frameRate,0),C=this.getValueAtTime(((b-g)%m+g)/this.comp.globalData.frameRate,0),w=Math.floor((b-g)/m);if(this.pv.length){for(y=(v=new Array(x.length)).length,f=0;f<y;f+=1)v[f]=(S[f]-x[f])*w+C[f];return v}return(S-x)*w+C}if(h==="continue"){var P=this.getValueAtTime(E/this.comp.globalData.frameRate,0),T=this.getValueAtTime((E-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(y=(v=new Array(P.length)).length,f=0;f<y;f+=1)v[f]=P[f]+(P[f]-T[f])*((b-E)/this.comp.globalData.frameRate)/5e-4;return v}return P+(b-E)/.001*(P-T)}}return this.getValueAtTime(((b-g)%m+g)/this.comp.globalData.frameRate,0)}function t(h,d,p){if(!this.k)return this.pv;h=h?h.toLowerCase():"";var m,g,f,y,v,b=this.comp.renderedFrame,k=this.keyframes,E=k[0].t;if(b>=E)return this.pv;if(p?g=E+(m=d?Math.abs(this.elem.comp.globalData.frameRate*d):Math.max(0,this.elem.data.op-E)):((!d||d>k.length-1)&&(d=k.length-1),m=(g=k[d].t)-E),h==="pingpong"){if(Math.floor((E-b)/m)%2==0)return this.getValueAtTime(((E-b)%m+E)/this.comp.globalData.frameRate,0)}else{if(h==="offset"){var x=this.getValueAtTime(E/this.comp.globalData.frameRate,0),S=this.getValueAtTime(g/this.comp.globalData.frameRate,0),C=this.getValueAtTime((m-(E-b)%m+E)/this.comp.globalData.frameRate,0),w=Math.floor((E-b)/m)+1;if(this.pv.length){for(y=(v=new Array(x.length)).length,f=0;f<y;f+=1)v[f]=C[f]-(S[f]-x[f])*w;return v}return C-(S-x)*w}if(h==="continue"){var P=this.getValueAtTime(E/this.comp.globalData.frameRate,0),T=this.getValueAtTime((E+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(y=(v=new Array(P.length)).length,f=0;f<y;f+=1)v[f]=P[f]+(P[f]-T[f])*(E-b)/.001;return v}return P+(P-T)*(E-b)/.001}}return this.getValueAtTime((m-((E-b)%m+E))/this.comp.globalData.frameRate,0)}function r(h,d){if(!this.k)return this.pv;if(h=.5*(h||.4),(d=Math.floor(d||5))<=1)return this.pv;var p,m,g=this.comp.renderedFrame/this.comp.globalData.frameRate,f=g-h,y=d>1?(g+h-f)/(d-1):1,v=0,b=0;for(p=this.pv.length?createTypedArray("float32",this.pv.length):0;v<d;){if(m=this.getValueAtTime(f+v*y),this.pv.length)for(b=0;b<this.pv.length;b+=1)p[b]+=m[b];else p+=m;v+=1}if(this.pv.length)for(b=0;b<this.pv.length;b+=1)p[b]/=d;else p/=d;return p}function i(h){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var d=this._transformCachingAtTime.v;if(d.cloneFromProps(this.pre.props),this.appliedTransformations<1){var p=this.a.getValueAtTime(h);d.translate(-p[0]*this.a.mult,-p[1]*this.a.mult,p[2]*this.a.mult)}if(this.appliedTransformations<2){var m=this.s.getValueAtTime(h);d.scale(m[0]*this.s.mult,m[1]*this.s.mult,m[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var g=this.sk.getValueAtTime(h),f=this.sa.getValueAtTime(h);d.skewFromAxis(-g*this.sk.mult,f*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var y=this.r.getValueAtTime(h);d.rotate(-y*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var v=this.rz.getValueAtTime(h),b=this.ry.getValueAtTime(h),k=this.rx.getValueAtTime(h),E=this.or.getValueAtTime(h);d.rotateZ(-v*this.rz.mult).rotateY(b*this.ry.mult).rotateX(k*this.rx.mult).rotateZ(-E[2]*this.or.mult).rotateY(E[1]*this.or.mult).rotateX(E[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var x=this.px.getValueAtTime(h),S=this.py.getValueAtTime(h);if(this.data.p.z){var C=this.pz.getValueAtTime(h);d.translate(x*this.px.mult,S*this.py.mult,-C*this.pz.mult)}else d.translate(x*this.px.mult,S*this.py.mult,0)}else{var w=this.p.getValueAtTime(h);d.translate(w[0]*this.p.mult,w[1]*this.p.mult,-w[2]*this.p.mult)}return d}function n(){return this.v.clone(new Matrix)}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(h,d,p){var m=s(h,d,p);return m.dynamicProperties.length?m.getValueAtTime=i.bind(m):m.getValueAtTime=n.bind(m),m.setGroupProperty=expressionHelpers.setGroupProperty,m};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(h,d,p,m,g){var f=a(h,d,p,m,g);f.kf?f.getValueAtTime=expressionHelpers.getValueAtTime.bind(f):f.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(f),f.setGroupProperty=expressionHelpers.setGroupProperty,f.loopOut=e,f.loopIn=t,f.smooth=r,f.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(f),f.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(f),f.numKeys=d.a===1?d.k.length:0,f.propertyIndex=d.ix;var y=0;return p!==0&&(y=createTypedArray("float32",d.a===1?d.k[0].s.length:d.k.length)),f._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:y},expressionHelpers.searchExpressions(h,d,f),f.k&&g.addDynamicProperty(f),f};var o=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(h,d){this.k&&this.getValue();var p,m=this.v;d!==void 0&&(m=this.getValueAtTime(d,0));var g=m._length,f=m[h],y=m.v,v=createSizedArray(g);for(p=0;p<g;p+=1)v[p]=h==="i"||h==="o"?[f[p][0]-y[p][0],f[p][1]-y[p][1]]:[f[p][0],f[p][1]];return v},points:function(h){return this.vertices("v",h)},inTangents:function(h){return this.vertices("i",h)},outTangents:function(h){return this.vertices("o",h)},isClosed:function(){return this.v.c},pointOnPath:function(h,d){var p=this.v;d!==void 0&&(p=this.getValueAtTime(d,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(p));for(var m,g=this._segmentsLength,f=g.lengths,y=g.totalLength*h,v=0,b=f.length,k=0;v<b;){if(k+f[v].addedLength>y){var E=v,x=p.c&&v===b-1?0:v+1,S=(y-k)/f[v].addedLength;m=bez.getPointInSegment(p.v[E],p.v[x],p.o[E],p.i[x],S,f[v]);break}k+=f[v].addedLength,v+=1}return m||(m=p.c?[p.v[0][0],p.v[0][1]]:[p.v[p._length-1][0],p.v[p._length-1][1]]),m},vectorOnPath:function(h,d,p){h==1?h=this.v.c:h==0&&(h=.999);var m=this.pointOnPath(h,d),g=this.pointOnPath(h+.001,d),f=g[0]-m[0],y=g[1]-m[1],v=Math.sqrt(Math.pow(f,2)+Math.pow(y,2));return v===0?[0,0]:p==="tangent"?[f/v,y/v]:[-y/v,f/v]},tangentOnPath:function(h,d){return this.vectorOnPath(h,d,"tangent")},normalOnPath:function(h,d){return this.vectorOnPath(h,d,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],o),extendPrototype([c],l),l.prototype.getValueAtTime=function(h){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),h*=this.elem.globalData.frameRate,(h-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<h?this._caching.lastIndex:0,this._cachingAtTime.lastTime=h,this.interpolateShape(h,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(h,d,p,m,g){var f=u(h,d,p,m,g);return f.propertyIndex=d.ix,f.lock=!1,p===3?expressionHelpers.searchExpressions(h,d.pt,f):p===4&&expressionHelpers.searchExpressions(h,d.ks,f),f.k&&h.addDynamicProperty(f),f}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t!==r){var i={};return this.copyData(i,e),i.t=r.toString(),i.__complete=!1,i}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(e,t){var r,i,n=createNS("feMerge");for(n.setAttribute("result",e),i=0;i<t.length;i+=1)(r=createNS("feMergeNode")).setAttribute("in",t[i]),n.appendChild(r),n.appendChild(r);return n}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,r,i,n){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=s,s.setAttribute("result",i+"_tint_1"),e.appendChild(s),(s=createNS("feColorMatrix")).setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",i+"_tint_2"),e.appendChild(s),this.matrixFilter=s;var a=this.createMergeNode(i,[n,i+"_tint_1",i+"_tint_2"]);e.appendChild(a)}function SVGFillFilter(e,t,r,i){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result",i),e.appendChild(n),this.matrixFilter=n}function SVGStrokeEffect(e,t,r){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}function SVGTritoneFilter(e,t,r,i){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(n);var s=createNS("feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",i),this.matrixFilter=s;var a=createNS("feFuncR");a.setAttribute("type","table"),s.appendChild(a),this.feFuncR=a;var o=createNS("feFuncG");o.setAttribute("type","table"),s.appendChild(o),this.feFuncG=o;var l=createNS("feFuncB");l.setAttribute("type","table"),s.appendChild(l),this.feFuncB=l,e.appendChild(s)}function SVGProLevelsFilter(e,t,r,i){this.filterManager=t;var n=this.filterManager.effectElements,s=createNS("feComponentTransfer");(n[10].p.k||n[10].p.v!==0||n[11].p.k||n[11].p.v!==1||n[12].p.k||n[12].p.v!==1||n[13].p.k||n[13].p.v!==0||n[14].p.k||n[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(n[17].p.k||n[17].p.v!==0||n[18].p.k||n[18].p.v!==1||n[19].p.k||n[19].p.v!==1||n[20].p.k||n[20].p.v!==0||n[21].p.k||n[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(n[24].p.k||n[24].p.v!==0||n[25].p.k||n[25].p.v!==1||n[26].p.k||n[26].p.v!==1||n[27].p.k||n[27].p.v!==0||n[28].p.k||n[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(n[31].p.k||n[31].p.v!==0||n[32].p.k||n[32].p.v!==1||n[33].p.k||n[33].p.v!==1||n[34].p.k||n[34].p.v!==0||n[35].p.k||n[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(s)),(n[3].p.k||n[3].p.v!==0||n[4].p.k||n[4].p.v!==1||n[5].p.k||n[5].p.v!==1||n[6].p.k||n[6].p.v!==0||n[7].p.k||n[7].p.v!==1)&&((s=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",i),e.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}function SVGDropShadowEffect(e,t,r,i,n){var s=t.container.globalData.renderConfig.filterSize,a=t.data.fs||s;e.setAttribute("x",a.x||s.x),e.setAttribute("y",a.y||s.y),e.setAttribute("width",a.width||s.width),e.setAttribute("height",a.height||s.height),this.filterManager=t;var o=createNS("feGaussianBlur");o.setAttribute("in","SourceAlpha"),o.setAttribute("result",i+"_drop_shadow_1"),o.setAttribute("stdDeviation","0"),this.feGaussianBlur=o,e.appendChild(o);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",i+"_drop_shadow_1"),l.setAttribute("result",i+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",i+"_drop_shadow_3"),this.feFlood=c,e.appendChild(c);var u=createNS("feComposite");u.setAttribute("in",i+"_drop_shadow_3"),u.setAttribute("in2",i+"_drop_shadow_2"),u.setAttribute("operator","in"),u.setAttribute("result",i+"_drop_shadow_4"),e.appendChild(u);var h=this.createMergeNode(i,[i+"_drop_shadow_4",n]);e.appendChild(h)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+i+" 0"),this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,i,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(i=this.elem.maskManager.masksProperties.length,r=0):i=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<i;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(this.filterManager.effectElements[10].p.v===3){var s=createNS("mask"),a=createElementID();s.setAttribute("id",a),s.setAttribute("mask-type","alpha"),s.appendChild(t),this.elem.globalData.defs.appendChild(s);var o=createNS("g");for(o.setAttribute("mask","url("+getLocationHref()+"#"+a+")");n[0];)o.appendChild(n[0]);this.elem.layerElement.appendChild(o),this.masker=s,t.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){var t;this.initialized||this.initialize();var r,i,n=this.paths.length;for(t=0;t<n;t+=1)if(this.paths[t].m!==-1&&(r=this.elem.maskManager.viewData[this.paths[t].m],i=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&i.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var s;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var a=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=i.getTotalLength();s="0 0 0 "+l*a+" ";var c,u=l*(o-a),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,d=Math.floor(u/h);for(c=0;c<d;c+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";s+="0 "+10*l+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;i.setAttribute("stroke-dasharray",s)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,n=i[0]+" "+r[0]+" "+t[0],s=i[1]+" "+r[1]+" "+t[1],a=i[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,i,n){for(var s,a,o=0,l=Math.min(e,t),c=Math.max(e,t),u=Array.call(null,{length:256}),h=0,d=n-i,p=t-e;o<=256;)a=(s=o/256)<=l?p<0?n:i:s>=c?p<0?i:n:i+d*Math.pow((s-e)/p,1/r),u[h]=a,h+=1,o+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=r*Math.cos(i),s=r*Math.sin(i);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(e,t,r,i){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var n=createNS("feGaussianBlur");n.setAttribute("result",i),e.appendChild(n),this.feGaussianBlur=n}function TransformEffect(){}function SVGTransformEffect(e,t){this.init(t)}function CVTransformEffect(e){this.init(e)}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var i,n=r.children,s=0,a=n.length;s<a&&n[s]!==e.layerElement;)s+=1;s<=a-2&&(i=n[s+1]);var o=createNS("use");o.setAttribute("href","#"+t),i?r.insertBefore(o,i):r.appendChild(o)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),i=createNS("mask");i.setAttribute("id",t.layerId),i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var n=e.globalData.defs;n.appendChild(i);var s=createNS("symbol");s.setAttribute("id",r),this.replaceInParent(t,r),s.appendChild(t.layerElement),n.appendChild(s);var a=createNS("use");a.setAttribute("href","#"+r),i.appendChild(a),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,i=t.length;r<i;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=r==3?0:t,n=r==2?0:t;this.feGaussianBlur.setAttribute("stdDeviation",i+" "+n);var s=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}},TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var t=this.effectsManager.effectElements,r=t[0].p.v,i=t[1].p.v,n=t[2].p.v===1,s=t[3].p.v,a=n?s:t[4].p.v,o=t[5].p.v,l=t[6].p.v,c=t[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(.01*a,.01*s,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-o*degToRads,(l+90)*degToRads),this.matrix.translate(i[0],i[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())}(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _iterableToArrayLimit(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,n,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(l=(i=s.call(r)).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(u){c=!0,n=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw n}}return o}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(i){_defineProperty(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function _objectWithoutProperties(e,t){if(e==null)return{};var r,i,n=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;r[i]=e[i]}return r}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _toPrimitive(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t=="symbol"?t:t+""}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function(e,t){var r=e.animationData,i=e.loop,n=e.autoplay,s=e.initialSegment,a=e.onComplete,o=e.onLoopComplete,l=e.onEnterFrame,c=e.onSegmentStart,u=e.onConfigReady,h=e.onDataReady,d=e.onDataFailed,p=e.onLoadedImages,m=e.onDOMLoaded,g=e.onDestroy;e.lottieRef,e.renderer,e.name,e.assetsPath,e.rendererSettings;var f=_objectWithoutProperties(e,_excluded$1),y=_slicedToArray(reactExports.useState(!1),2),v=y[0],b=y[1],k=reactExports.useRef(),E=reactExports.useRef(null);return reactExports.useEffect(function(){var x=function(){var S,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(E.current){(S=k.current)===null||S===void 0||S.destroy();var w=_objectSpread2(_objectSpread2(_objectSpread2({},e),C),{},{container:E.current});return k.current=lottie.loadAnimation(w),b(!!k.current),function(){var P;(P=k.current)===null||P===void 0||P.destroy(),k.current=void 0}}}();return function(){return x?.()}},[r,i]),reactExports.useEffect(function(){k.current&&(k.current.autoplay=!!n)},[n]),reactExports.useEffect(function(){k.current&&(s?Array.isArray(s)&&s.length&&((k.current.currentRawFrame<s[0]||k.current.currentRawFrame>s[1])&&(k.current.currentRawFrame=s[0]),k.current.setSegment(s[0],s[1])):k.current.resetSegments(!0))},[s]),reactExports.useEffect(function(){var x=[{name:"complete",handler:a},{name:"loopComplete",handler:o},{name:"enterFrame",handler:l},{name:"segmentStart",handler:c},{name:"config_ready",handler:u},{name:"data_ready",handler:h},{name:"data_failed",handler:d},{name:"loaded_images",handler:p},{name:"DOMLoaded",handler:m},{name:"destroy",handler:g}].filter(function(C){return C.handler!=null});if(x.length){var S=x.map(function(C){var w;return(w=k.current)===null||w===void 0||w.addEventListener(C.name,C.handler),function(){var P;(P=k.current)===null||P===void 0||P.removeEventListener(C.name,C.handler)}});return function(){S.forEach(function(C){return C()})}}},[a,o,l,c,u,h,d,p,m,g]),{View:React.createElement("div",_objectSpread2({style:t,ref:E},f)),play:function(){var x;(x=k.current)===null||x===void 0||x.play()},stop:function(){var x;(x=k.current)===null||x===void 0||x.stop()},pause:function(){var x;(x=k.current)===null||x===void 0||x.pause()},setSpeed:function(x){var S;(S=k.current)===null||S===void 0||S.setSpeed(x)},goToAndStop:function(x,S){var C;(C=k.current)===null||C===void 0||C.goToAndStop(x,S)},goToAndPlay:function(x,S){var C;(C=k.current)===null||C===void 0||C.goToAndPlay(x,S)},setDirection:function(x){var S;(S=k.current)===null||S===void 0||S.setDirection(x)},playSegments:function(x,S){var C;(C=k.current)===null||C===void 0||C.playSegments(x,S)},setSubframe:function(x){var S;(S=k.current)===null||S===void 0||S.setSubframe(x)},getDuration:function(x){var S;return(S=k.current)===null||S===void 0?void 0:S.getDuration(x)},destroy:function(){var x;(x=k.current)===null||x===void 0||x.destroy(),k.current=void 0},animationContainerRef:E,animationLoaded:v,animationItem:k.current}};function getContainerVisibility(e){var t=e.getBoundingClientRect(),r=t.top,i=t.height;return(window.innerHeight-r)/(window.innerHeight+i)}function getContainerCursorPosition(e,t,r){var i=e.getBoundingClientRect(),n=i.top;return{x:(t-i.left)/i.width,y:(r-n)/i.height}}var useInitInteractivity=function(e){var t=e.wrapperRef,r=e.animationItem,i=e.mode,n=e.actions;reactExports.useEffect(function(){var s,a,o,l,c,u=t.current;if(u&&r&&n.length)switch(r.stop(),i){case"scroll":return l=null,c=function(){var h=getContainerVisibility(u),d=n.find(function(m){var g=m.visibility;return g&&h>=g[0]&&h<=g[1]});if(d){if(d.type==="seek"&&d.visibility&&d.frames.length===2){var p=d.frames[0]+Math.ceil((h-d.visibility[0])/(d.visibility[1]-d.visibility[0])*d.frames[1]);r.goToAndStop(p-r.firstFrame-1,!0)}d.type==="loop"&&(l===null||l!==d.frames||r.isPaused)&&(r.playSegments(d.frames,!0),l=d.frames),d.type==="play"&&r.isPaused&&(r.resetSegments(!0),r.play()),d.type==="stop"&&r.goToAndStop(d.frames[0]-r.firstFrame-1,!0)}},document.addEventListener("scroll",c),function(){document.removeEventListener("scroll",c)};case"cursor":return s=function(h,d){var p=h,m=d;if(p!==-1&&m!==-1){var g=getContainerCursorPosition(u,p,m);p=g.x,m=g.y}var f=n.find(function(b){var k=b.position;return k&&Array.isArray(k.x)&&Array.isArray(k.y)?p>=k.x[0]&&p<=k.x[1]&&m>=k.y[0]&&m<=k.y[1]:!(!k||Number.isNaN(k.x)||Number.isNaN(k.y))&&p===k.x&&m===k.y});if(f){if(f.type==="seek"&&f.position&&Array.isArray(f.position.x)&&Array.isArray(f.position.y)&&f.frames.length===2){var y=(p-f.position.x[0])/(f.position.x[1]-f.position.x[0]),v=(m-f.position.y[0])/(f.position.y[1]-f.position.y[0]);r.playSegments(f.frames,!0),r.goToAndStop(Math.ceil((y+v)/2*(f.frames[1]-f.frames[0])),!0)}f.type==="loop"&&r.playSegments(f.frames,!0),f.type==="play"&&(r.isPaused&&r.resetSegments(!1),r.playSegments(f.frames)),f.type==="stop"&&r.goToAndStop(f.frames[0],!0)}},a=function(h){s(h.clientX,h.clientY)},o=function(){s(-1,-1)},u.addEventListener("mousemove",a),u.addEventListener("mouseout",o),function(){u.removeEventListener("mousemove",a),u.removeEventListener("mouseout",o)}}},[i,r])},useLottieInteractivity=function(e){var t=e.actions,r=e.mode,i=e.lottieObj,n=i.animationItem,s=i.View,a=i.animationContainerRef;return useInitInteractivity({actions:t,animationItem:n,mode:r,wrapperRef:a}),s},_excluded=["style","interactivity"],Lottie=function(e){var t,r,i,n=e.style,s=e.interactivity,a=_objectWithoutProperties(e,_excluded),o=useLottie(a,n),l=o.View,c=o.play,u=o.stop,h=o.pause,d=o.setSpeed,p=o.goToAndStop,m=o.goToAndPlay,g=o.setDirection,f=o.playSegments,y=o.setSubframe,v=o.getDuration,b=o.destroy,k=o.animationContainerRef,E=o.animationLoaded,x=o.animationItem;return reactExports.useEffect(function(){e.lottieRef&&(e.lottieRef.current={play:c,stop:u,pause:h,setSpeed:d,goToAndPlay:m,goToAndStop:p,setDirection:g,playSegments:f,setSubframe:y,getDuration:v,destroy:b,animationContainerRef:k,animationLoaded:E,animationItem:x})},[(t=e.lottieRef)===null||t===void 0?void 0:t.current]),useLottieInteractivity({lottieObj:{View:l,play:c,stop:u,pause:h,setSpeed:d,goToAndStop:p,goToAndPlay:m,setDirection:g,playSegments:f,setSubframe:y,getDuration:v,destroy:b,animationContainerRef:k,animationLoaded:E,animationItem:x},actions:(r=s?.actions)!==null&&r!==void 0?r:[],mode:(i=s?.mode)!==null&&i!==void 0?i:"scroll"})},ShareRounded={},hasRequiredShareRounded;function requireShareRounded(){if(hasRequiredShareRounded)return ShareRounded;hasRequiredShareRounded=1;var e=requireInteropRequireDefault();Object.defineProperty(ShareRounded,"__esModule",{value:!0}),ShareRounded.default=void 0;var t=e(requireCreateSvgIcon()),r=requireJsxRuntime();return ShareRounded.default=(0,t.default)((0,r.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"}),"ShareRounded"),ShareRounded}var ShareRoundedExports=requireShareRounded();const ShareRoundedIcon=getDefaultExportFromCjs(ShareRoundedExports),ImageContainer$1=styled(Box)(({theme:e})=>({position:"relative",width:"100%",height:"100%",borderRadius:"8px",overflow:"hidden",cursor:"zoom-in",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#11111C",maxWidth:"100%",transition:"transform 0.2s ease","&:hover":{transform:"scale(1.015)","& .overlay":{opacity:1}}})),BackgroundImage$1=styled("div")({position:"absolute",top:0,left:0,right:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(10px)",opacity:.5,transform:"scale(1.1)"}),Image$2=styled("img")(({isSingle:e})=>({maxWidth:"100%",maxHeight:e?"300px":"100%",width:"auto",height:e?"100%":"auto",objectFit:"contain",position:"relative",zIndex:2,display:"block"})),ImageOverlay=styled(Box)({position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.2)",opacity:0,transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",zIndex:3,className:"overlay","&::after":{content:'"\u{1F50D}"',fontSize:"24px",opacity:.85,filter:"drop-shadow(0px 0px 4px rgba(0,0,0,0.5))",transform:"scale(0.8)",transition:"transform 0.2s ease"},"&:hover::after":{transform:"scale(1.0)"}}),ImageGrid=({images:e,selectedImage:t=null,onImageClick:r,onImageError:i,hideOverlay:n=!1,miniMode:s=!1,maxHeight:a=400})=>{const[o,l]=reactExports.useState(null),[c,u]=reactExports.useState(!1),[h,d]=reactExports.useState([]),[p,m]=reactExports.useState(!0),[g,f]=reactExports.useState({}),y=Array.isArray(e)?e.filter(Boolean):typeof e=="string"&&e?[e]:[],v=y.slice(0,9),b=y.length-9;if(v.length===0)return null;const k=T=>{switch(T){case 1:return{gridTemplateColumns:"1fr",gridTemplateRows:"auto",maxHeight:"300px",height:"auto"};case 2:return{gridTemplateColumns:"1fr 1fr",gridTemplateRows:"350px",maxHeight:"350px"};case 3:return{gridTemplateColumns:"2fr 1fr",gridTemplateRows:"200px 200px",gridTemplateAreas:'"img1 img2" "img1 img3"',maxHeight:"400px"};case 4:return{gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"repeat(2, 200px)",gridTemplateAreas:'"img1 img2" "img3 img4"',maxHeight:"400px"};case 5:return{gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"200px 200px",gridTemplateAreas:'"img1 img1 img2" "img3 img4 img5"',maxHeight:"400px"};case 6:return{gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"180px 180px",gridTemplateAreas:'"img1 img2 img3" "img4 img5 img6"',maxHeight:"360px"};case 7:return{gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 160px)",gridTemplateAreas:'"img1 img1 img2" "img3 img4 img5" "img6 img7 img7"',maxHeight:"480px"};case 8:return{gridTemplateColumns:"repeat(4, 1fr)",gridTemplateRows:"repeat(2, 180px)",gridTemplateAreas:'"img1 img2 img3 img4" "img5 img6 img7 img8"',maxHeight:"360px"};case 9:return{gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 140px)",gridTemplateAreas:'"img1 img2 img3" "img4 img5 img6" "img7 img8 img9"',maxHeight:"420px"};default:if(T>9){const F=T>=12?4:3,I=Math.ceil(T/F);return{gridTemplateColumns:`repeat(${F}, 1fr)`,gridTemplateRows:`repeat(${I}, ${500/I}px)`,maxHeight:I*(500/I)+"px"}}return{gridTemplateColumns:"1fr",gridTemplateRows:"300px",maxHeight:"300px"}}},E=T=>T?T.startsWith("http")||T.startsWith("/")?T:T.includes("post/")?`/static/uploads/${T}`:T:"";reactExports.useEffect(()=>{(async()=>{if(!e||e.length===0)return d([]),void m(!1);m(!0);try{const T=(()=>{try{return"imageRendering"in document.documentElement.style&&!navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Edge/")||document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")===0}catch{return!1}})(),F=await Promise.all(v.map(async I=>{let D=E(I);return T&&D.startsWith("/static/")&&(D=((L,O="webp")=>L&&L.startsWith("/")?`${L}${L.includes("?")?"&":"?"}format=${O}`:L)(D,"webp")),{...await optimizeImage(D,{quality:.85,maxWidth:1200,cacheResults:!0,preferWebP:T}),originalSrc:E(I)}}));d(F)}catch{d(v.map(F=>({src:E(F),originalSrc:E(F)})))}finally{m(!1)}})()},[e]);const x=(T,F)=>{F&&F.stopPropagation(),l(T),u(!0),r&&typeof r=="function"&&r(T)},S=()=>{u(!1)},C=(T,F)=>F===1?"":F===2?"span 1 / span 1 / auto / auto":F===3?T===0?"span 2 / span 1 / auto / auto":"span 1 / span 1 / auto / auto":F===4?"span 1 / span 1 / auto / auto":F===5?T===0?"span 1 / span 2 / auto / auto":"span 1 / span 1 / auto / auto":F===6?"span 1 / span 1 / auto / auto":F===7?T===0||T===6?"span 1 / span 2 / auto / auto":"span 1 / span 1 / auto / auto":F===8||F===9?"span 1 / span 1 / auto / auto":"",w=(T,F,I)=>{const D=E(T),L=((O,W=!1)=>{const A=W?1200:600,j=W?900:600;return O.startsWith("http")?O:O.includes("/static/uploads/")?`${O}?width=${A}&height=${j}&optimize=true`:O})(D,I);return g[D]?jsxRuntimeExports.jsx(Box,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem",padding:"10px",textAlign:"center"},children:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F"}):jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx(BackgroundImage$1,{style:{backgroundImage:`url(${L})`}}),jsxRuntimeExports.jsx(Image$2,{src:L,alt:`\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 ${F+1}`,loading:"lazy",isSingle:I,onError:()=>((O,W)=>{f(A=>({...A,[O]:!0})),i&&typeof i=="function"&&i(O,W)})(D,F)}),!n&&jsxRuntimeExports.jsx(ImageOverlay,{})]})};if(p)return jsxRuntimeExports.jsx(Box,{sx:{display:"grid",gap:1,...k(v.length),opacity:.7},children:v.map((T,F)=>jsxRuntimeExports.jsx(Box,{sx:{bgcolor:"rgba(0, 0, 0, 0.1)",borderRadius:"12px",gridArea:C(F,v.length)}},F))});if(v.length===1){const T=v[0];return jsxRuntimeExports.jsxs(Box,{sx:{position:"relative",borderRadius:"8px",overflow:"hidden",mb:1},children:[jsxRuntimeExports.jsx(ImageContainer$1,{onClick:F=>x(0,F),sx:{height:s?"150px":"auto",maxHeight:s?"150px":a},children:w(T,0,!0)}),c&&jsxRuntimeExports.jsx(SimpleImageViewer,{src:E(v[o]),onClose:S,alt:"\u041F\u043E\u043B\u043D\u043E\u0440\u0430\u0437\u043C\u0435\u0440\u043D\u043E\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435"})]})}const P=k(v.length);return jsxRuntimeExports.jsxs(Box,{sx:{mb:1},children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"grid",gap:"4px",...P,borderRadius:"8px",overflow:"hidden"},children:[v.map((T,F)=>jsxRuntimeExports.jsx(ImageContainer$1,{onClick:I=>x(F,I),sx:{gridArea:C(F,v.length),cursor:"pointer",height:"100%"},children:w(T,F,!1)},`image-${F}`)),b>0&&jsxRuntimeExports.jsxs(Box,{sx:{position:"absolute",right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",color:"#fff",padding:"4px 8px",borderRadius:"8px 0 0 0",fontSize:"0.8rem",fontWeight:"bold"},children:["+",b]})]}),c&&jsxRuntimeExports.jsx(SimpleImageViewer,{src:E(v[o]),onClose:S,alt:"\u041F\u043E\u043B\u043D\u043E\u0440\u0430\u0437\u043C\u0435\u0440\u043D\u043E\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435"})]})};var Flag={},hasRequiredFlag;function requireFlag(){if(hasRequiredFlag)return Flag;hasRequiredFlag=1;var e=requireInteropRequireDefault();Object.defineProperty(Flag,"__esModule",{value:!0}),Flag.default=void 0;var t=e(requireCreateSvgIcon()),r=requireJsxRuntime();return Flag.default=(0,t.default)((0,r.jsx)("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag"),Flag}var FlagExports=requireFlag();const FlagIcon=getDefaultExportFromCjs(FlagExports);var Videocam={},hasRequiredVideocam;function requireVideocam(){if(hasRequiredVideocam)return Videocam;hasRequiredVideocam=1;var e=requireInteropRequireDefault();Object.defineProperty(Videocam,"__esModule",{value:!0}),Videocam.default=void 0;var t=e(requireCreateSvgIcon()),r=requireJsxRuntime();return Videocam.default=(0,t.default)((0,r.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam"),Videocam}var VideocamExports=requireVideocam();const VideocamIcon=getDefaultExportFromCjs(VideocamExports);var PushPin={},hasRequiredPushPin;function requirePushPin(){if(hasRequiredPushPin)return PushPin;hasRequiredPushPin=1;var e=requireInteropRequireDefault();Object.defineProperty(PushPin,"__esModule",{value:!0}),PushPin.default=void 0;var t=e(requireCreateSvgIcon()),r=requireJsxRuntime();return PushPin.default=(0,t.default)((0,r.jsx)("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin"),PushPin}var PushPinExports=requirePushPin();const PushPinIcon=getDefaultExportFromCjs(PushPinExports),ImageContainer=styled(Box)(({theme:e})=>({position:"relative",width:"100%",height:"100%",borderRadius:"8px",overflow:"hidden",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#11111C","&:hover":{"& .overlay":{opacity:1}}})),BackgroundImage=styled("div")({position:"absolute",top:0,left:0,right:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(12px)",opacity:.5,transform:"scale(1.2)"}),Image$1=styled("img")(({isCenter:e})=>({maxWidth:e?"90%":"100%",maxHeight:"100%",width:"auto",height:"auto",objectFit:"contain",position:"relative",zIndex:2,display:"block",borderRadius:"4px"})),MoreImagesOverlay=styled(Box)(({theme:e})=>({position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.5rem",fontWeight:"bold",zIndex:3})),LastImageOverlay=styled(Box)({position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(2px)",zIndex:2}),RepostImageGrid=({images:e,onImageClick:t})=>{if(!e||!Array.isArray(e)||e.length===0)return null;const r=e.filter(Boolean);if(r.length===0)return null;const i=r.slice(0,3),n=r.length-3,s=n>0;return i.length===1?jsxRuntimeExports.jsx(Box,{sx:{position:"relative",width:"100%",height:"250px",borderRadius:"8px",overflow:"hidden"},children:jsxRuntimeExports.jsxs(ImageContainer,{onClick:()=>t&&t(0),sx:{height:"250px"},children:[jsxRuntimeExports.jsx(BackgroundImage,{style:{backgroundImage:`url(${i[0]})`}}),jsxRuntimeExports.jsx(Image$1,{src:i[0],alt:"Repost image",isCenter:!0})]})}):i.length===2?jsxRuntimeExports.jsx(Box,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:1,width:"100%",height:"200px",borderRadius:"8px",overflow:"hidden"},children:i.map((a,o)=>jsxRuntimeExports.jsxs(ImageContainer,{onClick:()=>t&&t(o),children:[jsxRuntimeExports.jsx(BackgroundImage,{style:{backgroundImage:`url(${a})`}}),jsxRuntimeExports.jsx(Image$1,{src:a,alt:`Repost image ${o+1}`,isCenter:!0})]},`repost-img-${o}`))}):jsxRuntimeExports.jsx(Box,{sx:{display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"100px 100px",gridTemplateAreas:'"img1 img2" "img1 img3"',gap:1,width:"100%",height:"200px"},children:i.map((a,o)=>jsxRuntimeExports.jsx(Box,{sx:{position:"relative",gridArea:o===0?"img1":o===1?"img2":"img3",borderRadius:"8px",overflow:"hidden"},children:jsxRuntimeExports.jsxs(ImageContainer,{onClick:()=>t&&t(o),children:[jsxRuntimeExports.jsx(BackgroundImage,{style:{backgroundImage:`url(${a})`}}),jsxRuntimeExports.jsx(Image$1,{src:a,alt:`Repost image ${o+1}`,isCenter:!0}),o===2&&s&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LastImageOverlay,{}),jsxRuntimeExports.jsxs(MoreImagesOverlay,{children:["+",n]})]})]})},`repost-img-${o}`))})},MusicTrackContainer=styled(Box)(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(1,1.5),borderRadius:"12px",backgroundColor:"rgba(255, 255, 255, 0.05)",marginBottom:e.spacing(.3),border:"1px solid rgba(255, 255, 255, 0.07)",cursor:"pointer",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.08)",transform:"translateY(-2px)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.15)"}})),MusicTrack=({children:e,onClick:t,...r})=>jsxRuntimeExports.jsx(MusicTrackContainer,{onClick:t,...r,children:e}),PostCard=styled(Card)(({theme:e,isPinned:t,statusColor:r})=>({marginBottom:e.spacing(2),borderRadius:e.spacing(1),boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",transition:"box-shadow 0.3s ease-in-out",background:"rgba(255, 255, 255, 0.03)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:t?"1px solid "+(r?`${r}33`:"rgba(140, 82, 255, 0.2)"):"1px solid rgba(255, 255, 255, 0.1)","&:hover":{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.12)"}})),MarkdownContent=styled(Box,{shouldForwardProp:e=>e!=="isExpanded"})(({theme:e,isExpanded:t})=>({"& p":{margin:e.spacing(.5,0),lineHeight:1.2},"& h1, & h2, & h3, & h4, & h5, & h6":{marginTop:e.spacing(2),marginBottom:e.spacing(1),fontWeight:600},"& a":{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},"& ul, & ol":{marginLeft:e.spacing(2),lineHeight:1},"& li":{lineHeight:1},"& code":{fontFamily:"monospace",backgroundColor:e.palette.action.hover,padding:e.spacing(0,.6),borderRadius:3},"& pre":{backgroundColor:e.palette.grey[900],color:e.palette.common.white,padding:e.spacing(1.5),borderRadius:e.shape.borderRadius,overflowX:"auto","& code":{backgroundColor:"transparent",padding:0}},maxHeight:t?"none":"450px",overflow:t?"visible":"hidden",position:"relative",transition:"max-height 0.3s ease"}));styled(Menu)(({theme:e})=>({"& .MuiPaper-root":{background:"linear-gradient(135deg, rgb(49 49 49 / 50%) 0%, rgb(62 62 62 / 60%) 100%)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 4px 20px rgba(97, 76, 147, 0.3)",borderRadius:"12px","& .MuiMenuItem-root":{"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}}}}));const ShowMoreButton=styled(Button)(({theme:e})=>({margin:"8px auto 0",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg, rgba(26,26,26,0) 0%, rgba(26,26,26,0.8) 30%, rgba(26,26,26,1) 100%)",color:e.palette.primary.main,borderRadius:"0 0 10px 10px",textTransform:"none",fontWeight:"normal",padding:"8px",width:"100%",position:"absolute",bottom:0,left:0,"&:hover":{background:"linear-gradient(180deg, rgba(26,26,26,0) 0%, rgba(26,26,26,0.9) 30%, rgba(26,26,26,1) 100%)"}})),ActionButton=styled(Box)(({theme:e,active:t})=>({display:"flex",alignItems:"center",gap:"6px",padding:"6px 10px",borderRadius:"14px",cursor:"pointer",color:t?e.palette.primary.main:"rgba(255, 255, 255, 0.8)",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.05)",transform:"translateY(-1px)"},"& .icon":{fontSize:"18px"},"& .count":{fontSize:"0.8rem"}})),ActionsContainer=styled(Box)({display:"flex",alignItems:"center",gap:"4px",marginTop:"16px",padding:"0 8px"});styled(motion.div)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"6px 14px",backgroundColor:"rgba(40, 40, 50, 0.4)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.1)",cursor:"pointer",marginLeft:e.spacing(1),transition:"all 0.25s ease",position:"relative",overflow:"hidden","&:hover":{backgroundColor:"rgba(50, 50, 60, 0.5)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)","&:after":{opacity:1,transform:"translateX(100%)"}},"&:after":{content:'""',position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent)",opacity:0,transition:"all 0.5s ease",zIndex:1}})),styled(motion.div)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"6px 14px",backgroundColor:"rgba(40, 40, 50, 0.4)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.1)",cursor:"pointer",marginLeft:e.spacing(1),transition:"all 0.25s ease",position:"relative",overflow:"hidden","&:hover":{backgroundColor:"rgba(50, 50, 60, 0.5)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)","&:after":{opacity:1,transform:"translateX(100%)"}},"&:after":{content:'""',position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent)",opacity:0,transition:"all 0.5s ease",zIndex:1}})),styled(motion.div)(({theme:e,active:t})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"6px 14px",backgroundColor:t?"rgba(140, 82, 255, 0.08)":"rgba(40, 40, 50, 0.4)",borderRadius:"20px",border:t?"1px solid rgba(140, 82, 255, 0.2)":"1px solid rgba(255, 255, 255, 0.1)",cursor:"pointer",marginRight:e.spacing(1),transition:"all 0.25s ease",position:"relative",overflow:"hidden","&:hover":{backgroundColor:t?"rgba(140, 82, 255, 0.12)":"rgba(50, 50, 60, 0.5)",transform:"translateY(-2px)",boxShadow:t?"0 4px 12px rgba(140, 82, 255, 0.2)":"0 4px 12px rgba(0, 0, 0, 0.2)","&:after":{opacity:1,transform:"translateX(100%)"}},"&:after":{content:'""',position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent)",opacity:0,transition:"all 0.5s ease",zIndex:1}})),styled(motion.div)(({theme:e})=>({display:"flex",alignItems:"center",borderRadius:"20px",overflow:"hidden",backgroundColor:"rgba(40, 40, 50, 0.4)",border:"1px solid rgba(255, 255, 255, 0.1)",marginRight:e.spacing(1),position:"relative",transition:"all 0.25s ease","&:hover":{backgroundColor:"rgba(50, 50, 60, 0.5)",transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)","&:after":{opacity:1,transform:"translateX(100%)"}},"&:after":{content:'""',position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent)",opacity:0,transition:"all 0.5s ease",zIndex:1}})),styled(Box)(({theme:e,active:t,islike:r})=>({display:"flex",alignItems:"center",padding:"6px 14px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:t&&r?"rgba(140, 82, 255, 0.08)":"transparent",position:"relative",zIndex:2,"&:hover":{backgroundColor:t&&r?"rgba(140, 82, 255, 0.12)":"rgba(255, 255, 255, 0.04)"},borderRight:r?"1px solid rgba(255, 255, 255, 0.08)":"none"}));const ChannelTag=styled(Chip)(({theme:e})=>({backgroundColor:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.8)",height:24,borderRadius:12,fontSize:"0.75rem",fontWeight:500,border:"1px solid rgba(255, 255, 255, 0.1)","& .MuiChip-label":{padding:"0 8px"}}));styled(Box)(({theme:e})=>({display:"flex",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"20px",padding:"4px 8px 4px 12px",border:"1px solid rgba(255, 255, 255, 0.08)",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.08)"}}));const HeartAnimation=styled(motion.div)(({theme:e})=>({position:"absolute","& svg":{filter:"drop-shadow(0 0 5px rgba(224, 187, 255, 0.7))",color:"transparent",fill:"url(#heartGradient)"},zIndex:100,pointerEvents:"none"})),MediaErrorContainer=styled(Box)(({theme:e})=>({height:"220px",position:"relative",width:"100%",aspectRatio:"16/9",borderRadius:"24px",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(327deg, rgb(206 188 255 / 77%) 0%, rgb(97 76 147) 100%)",backdropFilter:"blur(20px)",boxShadow:"inset 0 0 0 1px rgba(206, 188, 255, 0.2)",padding:e.spacing(2),textAlign:"center",color:"rgba(255, 255, 255, 0.9)"})),LottieWrapper=styled(Box)(({theme:e})=>({width:"100%",maxWidth:"150px",height:"150px",marginBottom:e.spacing(1),opacity:.8}));styled(Box)(({theme:e,active:t,isLike:r})=>({display:"flex",alignItems:"center",padding:"8px 16px",borderRadius:"12px",cursor:"pointer",backgroundColor:t?"rgba(140, 82, 255, 0.1)":"rgba(255, 255, 255, 0.03)",border:"1px solid "+(t?"rgba(140, 82, 255, 0.2)":"rgba(255, 255, 255, 0.06)"),transition:"all 0.2s ease",gap:"6px","&:hover":{backgroundColor:t?"rgba(140, 82, 255, 0.15)":"rgba(255, 255, 255, 0.06)",transform:"translateY(-2px)",boxShadow:t?"0 4px 12px rgba(140, 82, 255, 0.2)":"0 4px 12px rgba(0, 0, 0, 0.1)"},"& .icon":{fontSize:"20px",color:t?e.palette.primary.main:"rgba(255, 255, 255, 0.8)",transition:"all 0.2s ease"},"& .text":{color:t?e.palette.primary.main:"rgba(255, 255, 255, 0.8)",fontSize:"0.9rem",transition:"all 0.2s ease"}})),styled(Box)(({theme:e})=>({display:"flex",alignItems:"center",gap:"8px",marginTop:"16px",padding:"0 8px"}));const Post=({post:e,onDelete:t,onOpenLightbox:r,isPinned:i,statusColor:n})=>{if(!e||typeof e!="object")return null;const s=useNavigate(),[a,o]=reactExports.useState(e?.user_liked||e?.is_liked||!1),[l,c]=reactExports.useState(e?.likes_count||0),[u,h]=reactExports.useState(e?.views_count||0),[d,p]=reactExports.useState(null),{user:m}=reactExports.useContext(AuthContext),{playTrack:g,currentTrack:f,isPlaying:y,togglePlay:v}=reactExports.useContext(MusicContext),b=m&&e?.user&&m.id===e.user.id,[k,E]=reactExports.useState(null),[x,S]=reactExports.useState(!1),[C,w]=reactExports.useState("\u0421\u0441\u044B\u043B\u043A\u0430 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430"),[P,T]=reactExports.useState([]),[F,I]=reactExports.useState(e?.is_reposted||!1),[D,L]=reactExports.useState([]),[O,W]=reactExports.useState(!1),[A,j]=reactExports.useState(!1),B=reactExports.useRef(null),[G,q]=reactExports.useState(!1),[V,z]=reactExports.useState(""),[U,R]=reactExports.useState(!1),[H,Y]=reactExports.useState(""),[K,ee]=reactExports.useState({open:!1,message:"",severity:"error"}),M=useTheme();M.palette.primary.main;const[Q,te]=reactExports.useState({open:!1,deleting:!1,deleted:!1}),[$,ne]=reactExports.useState({open:!1,reason:"",submitting:!1,submitted:!1,error:null}),[X,re]=reactExports.useState({open:!1,content:e?.content||"",submitting:!1,deleteImages:!1,deleteVideo:!1,deleteMusic:!1,newImages:[],newVideo:null,previews:[],error:null}),[se,he]=reactExports.useState({type:null,url:null}),[ie,de]=reactExports.useState(i);reactExports.useEffect(()=>{if(e){if(o(e.user_liked||e.is_liked||!1),c(e.likes_count||0),h(e.views_count||0),I(e.is_reposted||!1),W(!1),re(_=>({..._,content:e.content||""})),e.content){let _=e.content;USERNAME_MENTION_REGEX.lastIndex=0,HASHTAG_REGEX.lastIndex=0,_=_.replace(USERNAME_MENTION_REGEX,(N,J)=>`[${N}](/profile/${J})`),_=_.replace(HASHTAG_REGEX,(N,J)=>`[${N}](https://k-connect.ru/search?q=${encodeURIComponent(J)}&type=posts)`),Y(_)}else Y("");if(e.id&&e.likes_count>0){const _=(window._postLikesCache||{})[e.id],N=Date.now();_&&_.timestamp&&N-_.timestamp<3e5?T(_.users):le(e.id)}try{if(e.music){let _;if(typeof e.music=="string")try{_=JSON.parse(e.music)}catch{_=[]}else _=Array.isArray(e.music)?e.music:[];L(Array.isArray(_)?_:[])}else L([])}catch{L([])}}},[e]);const ce=_=>_&&_.cover_path?_.cover_path.startsWith("/static/")?_.cover_path:_.cover_path.startsWith("static/")?`/${_.cover_path}`:_.cover_path.startsWith("http")?_.cover_path:`/static/music/${_.cover_path}`:"/uploads/system/album_placeholder.jpg";reactExports.useEffect(()=>{const _=setTimeout(()=>{(()=>{if(B.current){const N=B.current.scrollHeight;j(N>450)}})()},100);return()=>clearTimeout(_)},[e?.content]);const le=async _=>{try{const N=await axios.get(`/api/posts/${_}/likes`,{params:{limit:3},forceRefresh:!0});N.data&&Array.isArray(N.data.users)&&T(N.data.users)}catch{}},[ue,ae]=reactExports.useState(!1),[me,ye]=reactExports.useState(0),ve=()=>se.type==="image"?[]:e?.images&&Array.isArray(e.images)&&e.images.length>0?e.images:e?.image&&typeof e.image=="string"?e.image.includes("||")||e.image.includes(",")?e.image.split(/[||,]/).map(_=>_.trim()).filter(Boolean):[e.image]:[],be=_=>_?_.startsWith("http")||_.startsWith("//")||_.startsWith("/static/uploads/post/")?_:`/static/uploads/post/${e.id}/${_}`:"",pe=ve(),Ce=e?.video&&typeof e.video=="string"&&e.video.trim()!==""?be(e.video):null,we=async _=>{_&&_.stopPropagation();const N=a,J=l;try{o(!N),c(N?Math.max(0,J-1):J+1);const Z=await axios.post(`/api/posts/${e.id}/like`);Z.data&&(o(Z.data.liked),c(Z.data.likes_count))}catch(Z){if(o(N),c(J),Z.response&&Z.response.status===429){const oe=Z.response.data.rate_limit;let ge=Z.response.data.error||"\u0421\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u043D\u043E\u0433\u043E \u043B\u0430\u0439\u043A\u043E\u0432. ";if(oe&&oe.reset){const Re=new Date(1e3*oe.reset),Ae=new Date,Se=Math.round((Re-Ae)/1e3);ge.includes("\u043F\u043E\u0434\u043E\u0436\u0434\u0438\u0442\u0435")||(ge+=Se>60?` \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u0434\u043E\u0436\u0434\u0438\u0442\u0435 ${Math.floor(Se/60)} \u043C\u0438\u043D. ${Se%60} \u0441\u0435\u043A.`:` \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u0434\u043E\u0436\u0434\u0438\u0442\u0435 ${Se} \u0441\u0435\u043A.`)}window.dispatchEvent(new CustomEvent("rate-limit-error",{detail:{message:ge,shortMessage:"\u041B\u0438\u043C\u0438\u0442 \u043B\u0430\u0439\u043A\u043E\u0432",notificationType:"warning",animationType:"bounce",retryAfter:oe?.reset?Math.round((new Date(1e3*oe.reset)-new Date)/1e3):60}}))}}},Pe=()=>{E(null)},Me=()=>{re({...X,open:!1,error:null,previews:[]})},Ie=()=>{q(!1)},Be=()=>{try{const _=`https://k-connect.ru/post/${e.id}`;navigator.clipboard.writeText(_),window.dispatchEvent(new CustomEvent("show-error",{detail:{message:"\u0421\u0441\u044B\u043B\u043A\u0430 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430",shortMessage:"\u0421\u0441\u044B\u043B\u043A\u0430 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430",notificationType:"success",animationType:"pill"}}))}catch{window.dispatchEvent(new CustomEvent("show-error",{detail:{message:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443",shortMessage:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F",notificationType:"error",animationType:"pill"}}))}},Ve=()=>{Ee(e.id)},Fe=_=>{_.stopPropagation(),W(!O)};reactExports.useEffect(()=>{e&&e.id},[e]),reactExports.useEffect(()=>{D.length},[D,e.id]);const Te=()=>{if(!e?.timestamp)return!1;const _=new Date(e.timestamp);return(new Date-_)/36e5<=3},qe=async()=>{if(e&&e.id)try{const _=`post_viewed_${e.id}`;if(sessionStorage.getItem(_))return;sessionStorage.setItem(_,"true");const N=async(J=3)=>{try{const Z=await axios.post(`/api/posts/${e.id}/view`);Z.data&&Z.data.success&&h(Z.data.views_count)}catch{J>1&&setTimeout(()=>N(J-1),1e3)}};N()}catch{}},xe=reactExports.useRef(null);reactExports.useEffect(()=>{const _=new IntersectionObserver(N=>{const[J]=N;J.isIntersecting&&(qe(),_.unobserve(J.target))},{threshold:.5});return xe.current&&_.observe(xe.current),()=>{xe.current&&_.unobserve(xe.current)}},[e?.id]);const{openPostDetail:Ee}=usePostDetail(),{contextMenuState:ke,handleContextMenu:Oe,closeContextMenu:ze}=useContextMenu(),[$e,De]=reactExports.useState([]),[_e,Ne]=reactExports.useState({time:0,x:0,y:0}),He=()=>{const _=[-60,-50,-45,-40,-35,35,40,45,50,60];return _[Math.floor(Math.random()*_.length)]},Le=(_,N)=>{const J={id:Date.now()+Math.random(),x:_,y:N,rotation:He(),size:Math.floor(40*Math.random())+60};De(Z=>[...Z,J]),setTimeout(()=>{De(Z=>Z.filter(oe=>oe.id!==J.id))},1e3)},je=({type:_})=>{const[N,J]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{const Z=await fetch("/static/json/error/spider.json?_nocache="+Date.now()),oe=await Z.json();J(oe)}catch{}})()},[]),jsxRuntimeExports.jsxs(MediaErrorContainer,{children:[N&&jsxRuntimeExports.jsx(LottieWrapper,{children:jsxRuntimeExports.jsx(Lottie,{animationData:N,loop:!0,autoplay:!0})}),jsxRuntimeExports.jsx(Typography,{variant:"h6",gutterBottom:!0,children:_==="image"?"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435":"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0432\u0438\u0434\u0435\u043E"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",children:_==="image"?"\u0424\u0430\u0439\u043B \u0431\u044B\u043B \u0443\u0434\u0430\u043B\u0435\u043D \u0438\u043B\u0438 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D.":"\u0412\u0438\u0434\u0435\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E \u0438\u043B\u0438 \u0444\u043E\u0440\u043C\u0430\u0442 \u043D\u0435 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044F \u0432\u0430\u0448\u0438\u043C \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043E\u043C."})]})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("svg",{style:{position:"absolute",width:0,height:0},children:jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"heartGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#e0bbff"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#d1aaff"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#c299ff"})]})})}),jsxRuntimeExports.jsxs(PostCard,{isPinned:ie,statusColor:n,onClick:_=>{_.target.closest("a, button")||qe()},onContextMenu:_=>{_.stopPropagation(),Oe(_,{postId:e.id})},onDoubleClick:_=>{if(_.stopPropagation(),d&&(clearTimeout(d),p(null)),_.target.closest("[data-no-navigate]")||_.target.closest(".MuiMenu-root")||_.target.closest(".MuiMenuItem-root")||_.target.closest(".MuiDialog-root")||_.target.closest(".post-action-button")||_.target.closest(".lightbox-trigger")||_.target.closest("a")||_.target.closest("button"))return;const N=_.currentTarget.getBoundingClientRect(),J=_.clientX-N.left,Z=_.clientY-N.top;Le(J,Z),a||we(_)},onTouchStart:_=>{if(_.target.closest("[data-no-navigate]")||_.target.closest(".MuiMenu-root")||_.target.closest(".MuiMenuItem-root")||_.target.closest(".MuiDialog-root")||_.target.closest(".post-action-button")||_.target.closest(".lightbox-trigger")||_.target.closest("a")||_.target.closest("button"))return;const N=_.touches[0],J=new Date().getTime();if(J-_e.time<300){d&&(clearTimeout(d),p(null));const Z=_.currentTarget.getBoundingClientRect(),oe=N.clientX-Z.left,ge=N.clientY-Z.top,Re=Math.abs(oe-_e.x),Ae=Math.abs(ge-_e.y);Re<30&&Ae<30&&(_.preventDefault(),Le(oe,ge),a||we())}Ne({time:J,x:N.clientX-_.currentTarget.getBoundingClientRect().left,y:N.clientY-_.currentTarget.getBoundingClientRect().top})},ref:xe,elevation:0,sx:{overflow:"visible",mb:1,borderRadius:1,border:ie?"1px solid "+(n?`${n}33`:"rgba(140, 82, 255, 0.2)"):"1px solid rgba(255, 255, 255, 0.1)",borderColor:ie?n||"primary.main":"divider",cursor:"auto",position:"relative"},children:[jsxRuntimeExports.jsx(AnimatePresence,{children:$e.map(_=>jsxRuntimeExports.jsx(HeartAnimation,{initial:{opacity:0,scale:0},animate:{opacity:[0,1,1,0],scale:[0,1.2,1.5,.8],y:[0,-10,-20]},exit:{opacity:0,scale:0},transition:{duration:1,times:[0,.2,.8,1]},style:{left:_.x-_.size/2+"px",top:_.y-_.size/2+"px",transform:`rotate(${_.rotation}deg)`},children:jsxRuntimeExports.jsx(FavoriteIcon,{style:{fontSize:_.size}})},_.id))}),jsxRuntimeExports.jsxs(Box,{sx:{px:2,pt:2,pb:1.5},children:[jsxRuntimeExports.jsx(Box,{sx:{display:"flex",justifyContent:"space-between",mb:1.5},children:jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(Avatar,{src:e.user?(fe=e.user?.avatar_url||`/static/uploads/avatar/${e.user?.id}/${e.user?.photo}`,fe?fe.includes("format=webp")?fe:"imageRendering"in document.documentElement.style&&(fe.startsWith("/static/")||fe.startsWith("/uploads/"))?`${fe}${fe.includes("?")?"&":"?"}format=webp`:fe:"/static/uploads/avatar/system/avatar.png"):"/static/uploads/avatar/system/avatar.png",alt:e.user?.name||"User",component:Link,to:`/profile/${e.user?.username||"unknown"}`,onClick:_=>_.stopPropagation(),sx:{width:40,height:40,mr:1.5,border:"2px solid #D0BCFF"}}),jsxRuntimeExports.jsxs(Box,{sx:{flex:1,whiteSpace:"nowrap"},children:[jsxRuntimeExports.jsxs(Typography,{variant:"subtitle1",component:Link,to:`/profile/${e.user?.username}`,onClick:_=>_.stopPropagation(),sx:{fontWeight:"bold",textDecoration:"none",color:"text.primary","&:hover":{color:"primary.main"},display:"flex",alignItems:"center"},children:[e.user?.name,ie&&jsxRuntimeExports.jsx(Box,{sx:{display:"flex",alignItems:"center",ml:1},children:jsxRuntimeExports.jsx(Tooltip,{title:"\u0417\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043D\u044B\u0439 \u043F\u043E\u0441\u0442",children:jsxRuntimeExports.jsx(PushPinIcon,{sx:{fontSize:16,color:n||"primary.main"}})})}),(e.user?.account_type==="channel"||e.user?.is_channel===!0)&&jsxRuntimeExports.jsx(ChannelTag,{label:"\u041A\u0430\u043D\u0430\u043B",size:"small",sx:{ml:1,height:20}}),e.user?.verification&&e.user?.verification.status>0&&(e.user.verification.status===6?jsxRuntimeExports.jsx(Icon,{icon:"material-symbols:verified-rounded",style:{fontSize:"24px",color:"#1e88e5",marginLeft:"4px"}}):e.user.verification.status===7?jsxRuntimeExports.jsx(Icon,{icon:"material-symbols:verified-user-rounded",style:{fontSize:"24px",color:"#7c4dff",marginLeft:"4px"}}):jsxRuntimeExports.jsx(VerificationBadge,{status:e.user.verification.status,size:"small"})),e.user?.achievement&&jsxRuntimeExports.jsx(Box,{component:"img",sx:{width:"auto",height:20,ml:.5},src:`/static/images/bages/${e.user.achievement.image_path}`,alt:e.user.achievement.bage,onError:_=>{_.target&&_.target instanceof HTMLImageElement&&(_.target.style.display="none")}})]}),jsxRuntimeExports.jsx(Typography,{variant:"caption",color:"text.secondary",sx:{display:"block",fontSize:"0.75rem"},children:formatTimeAgo(e.timestamp)})]})]})}),jsxRuntimeExports.jsxs(Box,{sx:{position:"relative"},children:[jsxRuntimeExports.jsx(MarkdownContent,{ref:B,isExpanded:O,sx:{mb:2,whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"break-word"},children:H&&jsxRuntimeExports.jsx(ReactMarkdown,{components:linkRenderers,skipHtml:!1,transformLinkUri:null,remarkPlugins:[],rehypePlugins:[],children:H})}),A&&!O&&jsxRuntimeExports.jsxs(ShowMoreButton,{onClick:Fe,children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{mr:1},children:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043F\u043E\u043B\u043D\u043E\u0441\u0442\u044C\u044E"}),jsxRuntimeExports.jsx(Icon,{icon:"solar:alt-arrow-down-bold",width:"20",height:"20"})]}),O&&jsxRuntimeExports.jsx(Button,{variant:"text",size:"small",onClick:Fe,startIcon:jsxRuntimeExports.jsx(Icon,{icon:"solar:alt-arrow-up-bold",width:"20",height:"20"}),sx:{display:"flex",mt:1,color:"primary.main",textTransform:"none"},children:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C"})]}),e.type==="repost"&&e.original_post&&jsxRuntimeExports.jsxs(Box,{sx:{mb:2,mt:1,px:2,py:1.5,borderRadius:"12px",border:_=>"1px solid "+(_.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.12)"),backgroundColor:_=>_.palette.mode==="dark"?"rgba(255, 255, 255, 0.03)":"rgba(0, 0, 0, 0.03)",transition:"all 0.3s ease","&:hover":{backgroundColor:_=>_.palette.mode==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",borderColor:_=>_.palette.mode==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"}},children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[jsxRuntimeExports.jsx(RepeatIcon,{sx:{fontSize:16,mr:.5,color:M.palette.primary.main}}),jsxRuntimeExports.jsx(Typography,{variant:"caption",color:"text.secondary",component:Link,to:`/profile/${e.original_post.user?.username}`,onClick:_=>{_.stopPropagation()},sx:{textDecoration:"none","&:hover":{color:"primary.main",textDecoration:"underline"}},children:"\u0420\u0435\u043F\u043E\u0441\u0442 \u043E\u0442"}),jsxRuntimeExports.jsx(Avatar,{src:e.original_post.user?.photo&&e.original_post.user?.photo!=="avatar.png"?e.original_post.user?.avatar_url:"/static/uploads/avatar/system/avatar.png",alt:e.original_post.user?.name||"User",component:Link,to:`/profile/${e.original_post.user?.username}`,onClick:_=>_.stopPropagation(),sx:{width:18,height:18,ml:.5,mr:.5,border:"1px solid rgba(255, 255, 255, 0.1)"}}),jsxRuntimeExports.jsxs(Typography,{variant:"caption",color:"text.primary",component:Link,to:`/profile/${e.original_post.user?.username}`,onClick:_=>{_.stopPropagation()},sx:{fontWeight:"medium",textDecoration:"none",display:"flex",alignItems:"center","&:hover":{color:"primary.main",textDecoration:"underline"}},children:[e.original_post.user?.name||"Unknown",e.original_post.user?.verification&&e.original_post.user?.verification.status>0&&jsxRuntimeExports.jsx(VerificationBadge,{status:e.original_post.user?.verification.status,size:"small"})]})]}),jsxRuntimeExports.jsxs(Box,{onClick:_=>{_.stopPropagation(),Ee(e.original_post.id)},sx:{textDecoration:"none",color:"inherit",display:"block",cursor:"pointer","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.03)"}},children:[e.original_post.content&&jsxRuntimeExports.jsxs(Typography,{variant:"body2",sx:{mb:1,color:"text.primary",fontSize:"0.9rem",whiteSpace:"pre-wrap"},children:[((_,N=500)=>!_||_.length<=N?_:_.slice(0,N)+"...")(e.original_post.content,500),e.original_post.content.length>500&&jsxRuntimeExports.jsx(Box,{component:"span",sx:{color:"primary.main",cursor:"pointer",display:"inline-block",fontSize:"0.85rem",ml:.5},onClick:_=>{_.stopPropagation(),Ee(e.original_post.id)},children:"\u0427\u0438\u0442\u0430\u0442\u044C \u0434\u0430\u043B\u0435\u0435"})]}),e.original_post.image&&jsxRuntimeExports.jsx(Box,{sx:{mb:1},children:jsxRuntimeExports.jsx(RepostImageGrid,{images:e.original_post.images||[e.original_post.image],onImageClick:_=>{ye(_),setLightboxImages(e.original_post.images||[e.original_post.image]),ae(!0)}})}),e.original_post.video&&jsxRuntimeExports.jsx(Box,{sx:{mt:1},children:jsxRuntimeExports.jsx(VideoPlayer,{videoUrl:e.original_post.video,sx:{maxHeight:"200px"},onError:()=>{}})}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:1,pt:1,borderTop:"1px solid rgba(255, 255, 255, 0.05)",opacity:.7},children:[jsxRuntimeExports.jsx(Typography,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:formatTimeAgo(e.original_post.timestamp)}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(FavoriteBorderIcon,{sx:{fontSize:12,mr:.5,color:"text.secondary"}}),jsxRuntimeExports.jsx(Typography,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:e.original_post.likes_count||0})]}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(ChatBubbleOutlineIcon,{sx:{fontSize:12,mr:.5,color:"text.secondary"}}),jsxRuntimeExports.jsx(Typography,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:e.original_post.comments_count||0})]}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(VisibilityIcon,{sx:{fontSize:12,mr:.5,color:"text.secondary"}}),jsxRuntimeExports.jsx(Typography,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:e.original_post.views_count||0})]})]})]})]})]}),Ce&&se.type!=="video"?jsxRuntimeExports.jsx(Box,{sx:{mb:2,position:"relative",borderRadius:"8px",overflow:"hidden",transition:"transform 0.2s ease","&:hover":{transform:"scale(1.01)"}},"data-no-navigate":!0,children:jsxRuntimeExports.jsx(VideoPlayer,{videoUrl:Ce,poster:pe.length>0?be(pe[0]):void 0,onError:()=>{he({type:"video",url:Ce})}})}):se.type==="video"&&jsxRuntimeExports.jsx(Box,{sx:{mb:2},children:jsxRuntimeExports.jsx(je,{type:"video"})}),pe.length>0&&se.type!=="image"?jsxRuntimeExports.jsx(Box,{sx:{mb:2,width:"100%",position:"relative","&:hover::after":{opacity:.7}},"data-no-navigate":!0,children:jsxRuntimeExports.jsx(ImageGrid,{images:pe,onImageClick:async _=>{if(window.event&&window.event.stopPropagation(),r&&typeof r=="function"){const J=ve();return void(J.length>0&&r(J[_],J,_))}const N=ve();if(N.length>0)try{N[_],ye(_),ae(!0)}catch{ye(_),ae(!0)}},onImageError:_=>{he({type:"image",url:_})}})}):se.type==="image"&&jsxRuntimeExports.jsx(Box,{sx:{mb:2},children:jsxRuntimeExports.jsx(je,{type:"image"})}),D.length>0&&jsxRuntimeExports.jsx(Box,{sx:{mt:0,mb:0},children:D.map((_,N)=>{return jsxRuntimeExports.jsxs(MusicTrack,{onClick:Z=>((oe,ge)=>{ge&&ge.stopPropagation(),f&&f.id===oe.id?v():g(oe,"post")})(_,Z),children:[jsxRuntimeExports.jsxs(Box,{sx:{width:40,height:40,borderRadius:"8px",overflow:"hidden",position:"relative",mr:2,flexShrink:0,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.15)",bgcolor:"rgba(0, 0, 0, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsx("img",{src:ce(_),alt:_.title,style:{width:"100%",height:"100%",objectFit:"cover"},onError:Z=>{Z.target.src="/uploads/system/album_placeholder.jpg"}}),jsxRuntimeExports.jsx(Box,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(145deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.3))",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:f&&f.id===_.id&&y?jsxRuntimeExports.jsx(PauseIcon,{sx:{color:"white",fontSize:18,filter:"drop-shadow(0 1px 1px rgba(0,0,0,0.3))"}}):jsxRuntimeExports.jsx(PlayArrowIcon,{sx:{color:"white",fontSize:18,filter:"drop-shadow(0 1px 1px rgba(0,0,0,0.3))"}})})]}),jsxRuntimeExports.jsxs(Box,{sx:{flex:1,minWidth:0},children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",noWrap:!0,sx:{fontWeight:f&&f.id===_.id?"medium":"normal",color:f&&f.id===_.id?"primary.main":"text.primary",fontSize:"0.85rem"},children:_.title}),jsxRuntimeExports.jsx(Typography,{variant:"caption",color:"text.secondary",noWrap:!0,children:_.artist})]}),jsxRuntimeExports.jsx(Typography,{variant:"caption",color:"text.secondary",sx:{py:.4,px:1,borderRadius:"12px",backgroundColor:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.05)",fontSize:"0.7rem",ml:1},children:(J=_.duration,J?`${Math.floor(J/60)}:${Math.floor(J%60).toString().padStart(2,"0")}`:"0:00")})]},`track-${N}`);var J})}),jsxRuntimeExports.jsxs(ActionsContainer,{children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsxs(ActionButton,{onClick:we,active:a,children:[jsxRuntimeExports.jsx(Box,{className:"icon",children:a?jsxRuntimeExports.jsx(FavoriteIcon,{}):jsxRuntimeExports.jsx(FavoriteBorderIcon,{})}),l>0&&jsxRuntimeExports.jsx("span",{className:"count",children:l})]}),jsxRuntimeExports.jsxs(ActionButton,{onClick:_=>{_.preventDefault(),_.stopPropagation(),Ee(e.id,_)},children:[jsxRuntimeExports.jsx(Box,{className:"icon",children:e?.total_comments_count>0||e?.comments_count>0?jsxRuntimeExports.jsx(ChatBubbleIcon,{}):jsxRuntimeExports.jsx(ChatBubbleOutlineIcon,{})}),(e?.total_comments_count>0||e?.comments_count>0)&&jsxRuntimeExports.jsx("span",{className:"count",children:e?.total_comments_count||e?.comments_count})]}),jsxRuntimeExports.jsx(ActionButton,{onClick:_=>{_.stopPropagation(),m?(z(""),q(!0)):s("/login")},active:F,children:jsxRuntimeExports.jsx(Box,{className:"icon",children:jsxRuntimeExports.jsx(RepeatIcon,{})})}),jsxRuntimeExports.jsx(ActionButton,{onClick:_=>{_.stopPropagation();const N=`${window.location.origin}/post/${e.id}`;navigator.clipboard.writeText(N).then(()=>{window.dispatchEvent(new CustomEvent("show-error",{detail:{message:"\u0421\u0441\u044B\u043B\u043A\u0430 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430",shortMessage:"\u0421\u0441\u044B\u043B\u043A\u0430 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430",notificationType:"success",animationType:"pill"}}))}).catch(J=>{window.dispatchEvent(new CustomEvent("show-error",{detail:{message:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443",shortMessage:"\u041E\u0448\u0438\u0431\u043A\u0430",notificationType:"error",animationType:"pill"}}))})},children:jsxRuntimeExports.jsx(Box,{className:"icon",children:jsxRuntimeExports.jsx(ShareRoundedIcon,{})})})]}),jsxRuntimeExports.jsxs(Box,{sx:{marginLeft:"auto",display:"flex",alignItems:"center",gap:1},children:[jsxRuntimeExports.jsxs(ActionButton,{children:[jsxRuntimeExports.jsx(Box,{className:"icon",children:jsxRuntimeExports.jsx(VisibilityIcon,{})}),jsxRuntimeExports.jsx("span",{className:"count",children:u})]}),jsxRuntimeExports.jsx(ActionButton,{onClick:_=>{_.stopPropagation(),E(_.currentTarget)},"data-no-navigate":!0,children:jsxRuntimeExports.jsx(Box,{className:"icon",children:jsxRuntimeExports.jsx(Icon,{icon:"solar:menu-dots-bold"})})})]})]})]})]}),jsxRuntimeExports.jsx(Snackbar,{open:x,autoHideDuration:3e3,onClose:()=>S(!1),message:C,anchorOrigin:{vertical:"bottom",horizontal:"center"}}),jsxRuntimeExports.jsxs(Dialog,{open:G,onClose:Ie,onClick:_=>_.stopPropagation(),PaperProps:{sx:{bgcolor:"rgba(32, 32, 36, 0.8)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",width:"100%",maxWidth:"500px",borderRadius:"16px",border:"1px solid rgba(100, 90, 140, 0.1)","&:before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"16px",background:"linear-gradient(145deg, rgba(30, 30, 30, 0.6), rgba(20, 20, 20, 0.75))",backdropFilter:"blur(30px)",zIndex:-1}}},children:[jsxRuntimeExports.jsx(DialogTitle,{sx:{borderBottom:"1px solid rgba(100, 90, 140, 0.1)",px:3,py:2,color:"white",fontWeight:500,fontSize:"1.1rem",display:"flex",alignItems:"center","&:before":{content:'""',display:"inline-block",width:"18px",height:"18px",marginRight:"10px",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%237B68EE'%3E%3Cpath d='M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}},children:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F \u043F\u043E\u0441\u0442\u043E\u043C"}),jsxRuntimeExports.jsxs(DialogContent,{sx:{pt:3,px:3},children:[e.type==="repost"&&jsxRuntimeExports.jsxs(Box,{sx:{mb:2,p:1.5,borderRadius:"8px",bgcolor:"rgba(123, 104, 238, 0.08)",border:"1px solid rgba(123, 104, 238, 0.15)",fontSize:"0.85rem",color:"rgba(255, 255, 255, 0.85)",display:"flex",alignItems:"flex-start"},children:[jsxRuntimeExports.jsx(RepeatIcon,{sx:{mr:1,fontSize:"18px",color:"#7B68EE",mt:"2px"}}),jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{fontSize:"0.85rem"},children:"\u0420\u0435\u043F\u043E\u0441\u0442 \u0431\u0443\u0434\u0435\u0442 \u0441\u0441\u044B\u043B\u0430\u0442\u044C\u0441\u044F \u043D\u0430 \u043E\u0440\u0438\u0433\u0438\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u043E\u0441\u0442, \u0430 \u043D\u0435 \u043D\u0430 \u044D\u0442\u043E\u0442 \u0440\u0435\u043F\u043E\u0441\u0442."})]}),jsxRuntimeExports.jsxs(Box,{sx:{position:"relative"},children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!0,multiline:!0,rows:3,fullWidth:!0,placeholder:"\u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u043A \u0440\u0435\u043F\u043E\u0441\u0442\u0443 (\u043D\u0435\u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E)",value:V,onChange:_=>z(_.target.value),variant:"outlined",helperText:"\u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0443\u043F\u043E\u043C\u044F\u043D\u0443\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439 \u0441 \u043F\u043E\u043C\u043E\u0449\u044C\u044E @username",sx:{mb:2.5,"& .MuiOutlinedInput-root":{bgcolor:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(10px)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.09)",transition:"all 0.2s ease","&:hover":{bgcolor:"rgba(255, 255, 255, 0.1)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(100, 90, 140, 0.3)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#7B68EE",borderWidth:"1px"},"& .MuiOutlinedInput-input":{fontSize:"0.95rem",color:"transparent",caretColor:"rgba(255, 255, 255, 0.9)"}},"& .MuiFormHelperText-root":{color:"rgba(255, 255, 255, 0.5)",fontSize:"0.75rem",marginTop:"4px"}}}),(()=>{if(!V)return null;const _=[];let N,J=0;for(USERNAME_MENTION_REGEX.lastIndex=0;(N=USERNAME_MENTION_REGEX.exec(V))!==null;)N.index>J&&_.push(jsxRuntimeExports.jsx("span",{children:V.substring(J,N.index)},`text-${J}`)),_.push(jsxRuntimeExports.jsx("span",{style:{color:"#7B68EE",fontWeight:"bold",background:"rgba(123, 104, 238, 0.08)",padding:"0 4px",borderRadius:"4px"},children:N[0]},`mention-${N.index}`)),J=N.index+N[0].length;return J<V.length&&_.push(jsxRuntimeExports.jsx("span",{children:V.substring(J)},"text-end")),jsxRuntimeExports.jsx(Box,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,padding:"16.5px 14px",color:"rgba(255, 255, 255, 0.9)",fontSize:"0.95rem",pointerEvents:"none",overflow:"hidden",display:"flex",flexWrap:"wrap",alignContent:"flex-start"},children:_})})()]}),jsxRuntimeExports.jsxs(Box,{sx:{p:2.5,border:"1px solid rgba(255, 255, 255, 0.09)",borderRadius:"12px",bgcolor:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(5px)",boxShadow:"inset 0 0 0 1px rgba(255, 255, 255, 0.05)",position:"relative",overflow:"hidden","&:before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(100, 90, 140, 0.02)",backdropFilter:"blur(5px)",borderRadius:"12px",zIndex:0}},children:[jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",alignItems:"center",mb:1.5,position:"relative",zIndex:1},children:[jsxRuntimeExports.jsx(Avatar,{src:e?.user?.avatar_url,alt:e?.user?.name,sx:{width:35,height:35,mr:1.5,border:"2px solid rgba(100, 90, 140, 0.4)"},children:e?.user?.name?e?.user?.name[0]:"?"}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",fontWeight:"medium",sx:{color:"rgba(255, 255, 255, 0.95)",lineHeight:1.2},children:e?.user?.name}),jsxRuntimeExports.jsx(Typography,{variant:"caption",sx:{color:"rgba(255, 255, 255, 0.6)",fontSize:"0.7rem",display:"block"},children:formatTimeAgo(e?.timestamp)})]})]}),jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{mb:1,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",color:"rgba(255, 255, 255, 0.85)",position:"relative",zIndex:1,fontSize:"0.9rem",lineHeight:1.5},children:e?.content}),e?.image&&jsxRuntimeExports.jsx(Box,{component:"img",src:e.image,alt:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430",sx:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px",mt:1,opacity:.9,position:"relative",zIndex:1}})]})]}),jsxRuntimeExports.jsxs(DialogActions,{sx:{p:1.5,justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Button,{onClick:Ie,sx:{borderRadius:"10px",color:"rgba(255, 255, 255, 0.7)",px:2,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.9)"}},children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),jsxRuntimeExports.jsx(Button,{onClick:async()=>{if(!U)try{R(!0);const _=await axios.post(`/api/posts/${e.id}/repost`,{text:V});_.data.success?(q(!1),I(!0),window.dispatchEvent(new CustomEvent("show-error",{detail:{message:"\u041F\u043E\u0441\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D \u0432 \u0432\u0430\u0448\u0443 \u043B\u0435\u043D\u0442\u0443",shortMessage:"\u0420\u0435\u043F\u043E\u0441\u0442 \u0441\u043E\u0437\u0434\u0430\u043D",notificationType:"success",animationType:"pill"}})),t&&t(e.id,null,"repost")):(w(_.data.error||"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0440\u0435\u043F\u043E\u0441\u0442\u0435"),S(!0))}catch(_){w(_.response?.data?.error||"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0440\u0435\u043F\u043E\u0441\u0442\u0435"),S(!0)}finally{R(!1)}},variant:"contained",disabled:U,sx:{borderRadius:"10px",bgcolor:"#7B68EE",boxShadow:"none",px:3,"&:hover":{bgcolor:"#8778F0",boxShadow:"none"},"&.Mui-disabled":{bgcolor:"rgba(100, 90, 140, 0.3)",color:"rgba(255, 255, 255, 0.5)"}},endIcon:U?jsxRuntimeExports.jsx(CircularProgress,{size:16,color:"inherit"}):null,children:"\u0420\u0435\u043F\u043E\u0441\u0442\u043D\u0443\u0442\u044C"})]})]}),ue&&!r&&jsxRuntimeExports.jsx(SimpleImageViewer,{isOpen:ue,onClose:()=>{ae(!1)},images:pe,initialIndex:me}),jsxRuntimeExports.jsx(Dialog,{open:Q.open,onClose:()=>!Q.deleting&&!Q.deleted&&te({...Q,open:!1}),PaperProps:{sx:{bgcolor:"rgba(32, 32, 36, 0.8)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",width:"100%",maxWidth:"400px",borderRadius:"16px",border:"1px solid rgba(100, 90, 140, 0.1)","&:before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"16px",background:"linear-gradient(145deg, rgba(30, 30, 30, 0.6), rgba(20, 20, 20, 0.75))",backdropFilter:"blur(30px)",zIndex:-1}}},children:jsxRuntimeExports.jsx(Box,{sx:{p:3},children:Q.deleted?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Box,{sx:{textAlign:"center",py:2},children:[jsxRuntimeExports.jsx(CheckCircleIcon,{sx:{fontSize:56,color:"#4CAF50",mb:2}}),jsxRuntimeExports.jsx(Typography,{variant:"h6",sx:{mb:1,color:"white"},children:"\u041F\u043E\u0441\u0442 \u0443\u0434\u0430\u043B\u0435\u043D"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"\u041F\u043E\u0441\u0442 \u0431\u044B\u043B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D"})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Typography,{variant:"h6",sx:{mb:2,color:"#f44336",fontWeight:"medium",display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx(DeleteIcon,{sx:{mr:1}})," \u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430"]}),jsxRuntimeExports.jsx(Typography,{sx:{mb:3,color:"rgba(255, 255, 255, 0.7)"},children:"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u043E\u0442 \u043F\u043E\u0441\u0442? \u042D\u0442\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043D\u0435\u043B\u044C\u0437\u044F \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C."}),jsxRuntimeExports.jsxs(Box,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[jsxRuntimeExports.jsx(Button,{onClick:()=>te({...Q,open:!1}),disabled:Q.deleting,sx:{borderRadius:"10px",color:"rgba(255, 255, 255, 0.7)",px:2,"&:hover":{bgcolor:"rgba(255, 255, 255, 0.08)",color:"rgba(255, 255, 255, 0.9)"}},children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),jsxRuntimeExports.jsx(Button,{onClick:async()=>{try{te({...Q,deleting:!0}),t&&t(e.id),axios.cache&&(axios.cache.clearPostsCache(),axios.cache.clearByUrlPrefix("/api/profile/pinned_post"),axios.cache.clearByUrlPrefix(`/api/posts/${e.id}`)),await axios.delete(`/api/posts/${e.id}`),te({open:!1,deleting:!1,deleted:!1})}catch{te({open:!1,deleting:!1,deleted:!1}),ee({open:!0,message:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u043E\u0441\u0442. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.",severity:"error"})}},disabled:Q.deleting,variant:"contained",color:"error",sx:{borderRadius:"10px",boxShadow:"none",px:2},endIcon:Q.deleting?jsxRuntimeExports.jsx(CircularProgress,{size:16,color:"inherit"}):null,children:Q.deleting?"\u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435...":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"})]})]})})}),jsxRuntimeExports.jsxs(Dialog,{open:$.open,onClose:()=>!$.submitting&&!$.submitted&&ne({...$,open:!1}),PaperProps:{sx:{bgcolor:"rgba(32, 32, 36, 0.8)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",width:"100%",maxWidth:"450px",borderRadius:"16px",border:"1px solid rgba(100, 90, 140, 0.1)","&:before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"16px",background:"linear-gradient(145deg, rgba(30, 30, 30, 0.6), rgba(20, 20, 20, 0.75))",backdropFilter:"blur(30px)",zIndex:-1}}},children:[jsxRuntimeExports.jsx(DialogTitle,{sx:{borderBottom:"1px solid rgba(100, 90, 140, 0.1)",px:3,py:2,color:"white",fontWeight:500,fontSize:"1.1rem",display:"flex",alignItems:"center","&:before":{content:'""',display:"inline-block",width:"18px",height:"18px",marginRight:"10px",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FF9800'%3E%3Cpath d='M14.4 6l-.24-1.2c-.09-.46-.5-.8-.98-.8H6c-.55 0-1 .45-1 1v15c0 .55.45 1 1 1s1-.45 1-1v-6h5.6l.24 1.2c.09.47.5.8.98.8H19c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1h-4.6z'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}},children:"\u041F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u043D\u0430 \u043F\u043E\u0441\u0442"}),$.submitted?jsxRuntimeExports.jsxs(Box,{sx:{p:3,textAlign:"center"},children:[jsxRuntimeExports.jsx(CheckCircleIcon,{sx:{fontSize:56,color:"#4CAF50",mb:2}}),jsxRuntimeExports.jsx(Typography,{variant:"h6",sx:{mb:1,color:"white"},children:"\u0416\u0430\u043B\u043E\u0431\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0430"}),jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"\u0421\u043F\u0430\u0441\u0438\u0431\u043E \u0437\u0430 \u0432\u0430\u0448\u0443 \u0431\u0434\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C! \u041C\u043E\u0434\u0435\u0440\u0430\u0442\u043E\u0440\u044B \u0440\u0430\u0441\u0441\u043C\u043E\u0442\u0440\u044F\u0442 \u0432\u0430\u0448\u0443 \u0436\u0430\u043B\u043E\u0431\u0443."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(DialogContent,{sx:{pt:3,px:3},children:[jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{mb:3,color:"rgba(255, 255, 255, 0.7)"},children:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0440\u0438\u0447\u0438\u043D\u0443 \u0436\u0430\u043B\u043E\u0431\u044B, \u0438 \u043D\u0430\u0448\u0438 \u043C\u043E\u0434\u0435\u0440\u0430\u0442\u043E\u0440\u044B \u0440\u0430\u0441\u0441\u043C\u043E\u0442\u0440\u044F\u0442 \u044D\u0442\u043E\u0442 \u043F\u043E\u0441\u0442. \u0421\u043F\u0430\u0441\u0438\u0431\u043E \u0437\u0430 \u043F\u043E\u043C\u043E\u0449\u044C \u0432 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0430\u043D\u0438\u0438 \u043F\u043E\u0440\u044F\u0434\u043A\u0430!"}),$.error&&jsxRuntimeExports.jsx(Alert,{severity:"error",sx:{mb:2},children:$.error}),jsxRuntimeExports.jsx(Box,{sx:{display:"flex",flexDirection:"column",gap:1.5,mb:2},children:["\u0421\u043F\u0430\u043C","\u041E\u0441\u043A\u043E\u0440\u0431\u043B\u0435\u043D\u0438\u044F","\u041D\u0435\u043F\u0440\u0438\u0435\u043C\u043B\u0435\u043C\u044B\u0439 \u043A\u043E\u043D\u0442\u0435\u043D\u0442","\u041D\u0430\u0440\u0443\u0448\u0435\u043D\u0438\u0435 \u043F\u0440\u0430\u0432\u0438\u043B","\u0414\u0435\u0437\u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F","\u0412\u0440\u0435\u0434\u043E\u043D\u043E\u0441\u043D\u044B\u0439 \u043A\u043E\u043D\u0442\u0435\u043D\u0442","\u0414\u0440\u0443\u0433\u043E\u0435"].map(_=>jsxRuntimeExports.jsx(Button,{variant:$.reason===_?"contained":"outlined",color:$.reason===_?"warning":"inherit",onClick:()=>ne({...$,reason:_,error:null}),sx:{borderRadius:"10px",justifyContent:"flex-start",textTransform:"none",py:1,backgroundColor:$.reason===_?"rgba(255, 152, 0, 0.1)":"rgba(255, 255, 255, 0.05)",borderColor:$.reason===_?"rgba(255, 152, 0, 0.5)":"rgba(255, 255, 255, 0.1)","&:hover":{backgroundColor:$.reason===_?"rgba(255, 152, 0, 0.15)":"rgba(255, 255, 255, 0.1)",borderColor:$.reason===_?"rgba(255, 152, 0, 0.6)":"rgba(255, 255, 255, 0.2)"}},children:_},_))}),$.reason==="\u0414\u0440\u0443\u0433\u043E\u0435"&&jsxRuntimeExports.jsx(TextField,{fullWidth:!0,multiline:!0,rows:3,placeholder:"\u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043F\u0440\u0438\u0447\u0438\u043D\u0443 \u0436\u0430\u043B\u043E\u0431\u044B",variant:"outlined",value:$.customReason||"",onChange:_=>ne({...$,customReason:_.target.value}),sx:{mb:2,"& .MuiOutlinedInput-root":{bgcolor:"rgba(255, 255, 255, 0.05)",borderRadius:"10px","&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 152, 0, 0.5)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#ff9800",borderWidth:"1px"}}}}),jsxRuntimeExports.jsxs(Box,{sx:{p:2,border:"1px solid rgba(255, 152, 0, 0.3)",borderRadius:"10px",bgcolor:"rgba(255, 152, 0, 0.05)"},children:[jsxRuntimeExports.jsxs(Typography,{variant:"caption",sx:{display:"block",color:"rgba(255, 255, 255, 0.5)",mb:1},children:["\u041F\u043E\u0441\u0442 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F ",e?.user?.name]}),jsxRuntimeExports.jsx(Typography,{variant:"body2",sx:{color:"rgba(255, 255, 255, 0.7)",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",fontSize:"0.8rem"},children:e?.content})]})]}),jsxRuntimeExports.jsxs(DialogActions,{sx:{p:2,justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Button,{onClick:()=>ne({...$,open:!1}),disabled:$.submitting,sx:{color:"rgba(255, 255, 255, 0.7)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.05)"}},children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),jsxRuntimeExports.jsx(Button,{onClick:async()=>{if($.reason){ne({...$,submitting:!0,error:null});try{const _=`\u{1F6A8} *\u0416\u0410\u041B\u041E\u0411\u0410 \u041D\u0410 \u041F\u041E\u0421\u0422*

\u{1F4DD} *ID \u043F\u043E\u0441\u0442\u0430*: ${e.id}
\u{1F464} *\u0410\u0432\u0442\u043E\u0440*: ${e.user?.name} (@${e.user?.username})
\u{1F6A9} *\u041F\u0440\u0438\u0447\u0438\u043D\u0430*: ${$.reason}
\u{1F46E} *\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u0435\u043B\u044C*: ${m?.name} (@${m?.username})
\u23F0 *\u0412\u0440\u0435\u043C\u044F*: ${new Date().toLocaleString()}`+(e.content?`

\u{1F4C4} *\u0422\u0435\u043A\u0441\u0442 \u043F\u043E\u0441\u0442\u0430*:
${e.content?.substring(0,300)}${e.content?.length>300?"...":""}`:`

\u{1F4C4} *\u041F\u043E\u0441\u0442 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u0442 \u043C\u0435\u0434\u0438\u0430-\u043A\u043E\u043D\u0442\u0435\u043D\u0442 \u0431\u0435\u0437 \u0442\u0435\u043A\u0441\u0442\u0430*`),N=await axios.post("/api/report/send-to-telegram",{message:_,post_id:e.id,reason:$.reason,post_author:e.user?.username,reporter:m?.username});if(!N.data||!N.data.success)throw new Error(N.data?.error||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0436\u0430\u043B\u043E\u0431\u044B");ne({...$,submitting:!1,submitted:!0}),setTimeout(()=>{ne({open:!1,reason:"",submitting:!1,submitted:!1,error:null})},2e3)}catch(_){ne({...$,submitting:!1,error:_.response?.data?.error||"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0436\u0430\u043B\u043E\u0431\u0443. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."})}}else ne({...$,error:"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0440\u0438\u0447\u0438\u043D\u0443 \u0436\u0430\u043B\u043E\u0431\u044B"})},disabled:$.submitting||!$.reason,variant:"contained",color:"warning",startIcon:$.submitting?jsxRuntimeExports.jsx(CircularProgress,{size:16,color:"inherit"}):jsxRuntimeExports.jsx(ReportProblemIcon,{}),sx:{bgcolor:"#ff9800","&:hover":{bgcolor:"#f57c00"}},children:$.submitting?"\u041E\u0442\u043F\u0440\u0430\u0432\u043A\u0430...":"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0436\u0430\u043B\u043E\u0431\u0443"})]})]})]}),jsxRuntimeExports.jsx(Snackbar,{open:K.open,autoHideDuration:5e3,onClose:()=>ee(_=>({..._,open:!1})),anchorOrigin:{vertical:"top",horizontal:"center"},children:jsxRuntimeExports.jsx(Alert,{onClose:()=>ee(_=>({..._,open:!1})),severity:K.severity,sx:{width:"100%"},children:K.message})}),jsxRuntimeExports.jsxs(Dialog,{open:X.open,onClose:()=>!X.submitting&&Me(),PaperProps:{sx:{borderRadius:"16px",bgcolor:"rgba(32, 32, 36, 0.8)",backdropFilter:"blur(20px)",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",width:"95%",maxWidth:"600px",border:"1px solid rgba(100, 90, 140, 0.1)","&:before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"16px",background:"linear-gradient(145deg, rgba(30, 30, 30, 0.6), rgba(20, 20, 20, 0.75))",backdropFilter:"blur(30px)",zIndex:-1}}},fullWidth:!0,maxWidth:"md",children:[jsxRuntimeExports.jsx(DialogTitle,{sx:{borderBottom:"1px solid rgba(100, 90, 140, 0.1)",px:3,py:2,color:"white",fontWeight:500,fontSize:"1.1rem",display:"flex",alignItems:"center","&:before":{content:'""',display:"inline-block",width:"18px",height:"18px",marginRight:"10px",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%232196f3'%3E%3Cpath d='M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}},children:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0441\u0442"}),jsxRuntimeExports.jsxs(DialogContent,{sx:{pt:3,px:3},children:[jsxRuntimeExports.jsx(Typography,{variant:"caption",sx:{display:"block",color:"rgba(255, 255, 255, 0.6)",mb:2},children:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u043E \u0442\u043E\u043B\u044C\u043A\u043E \u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435 3 \u0447\u0430\u0441\u043E\u0432 \u043F\u043E\u0441\u043B\u0435 \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u0438"}),X.error&&jsxRuntimeExports.jsx(Alert,{severity:"error",sx:{mb:2},children:X.error}),jsxRuntimeExports.jsx(TextField,{fullWidth:!0,multiline:!0,minRows:3,maxRows:8,label:"\u0422\u0435\u043A\u0441\u0442 \u043F\u043E\u0441\u0442\u0430",value:X.content,onChange:_=>{re({...X,content:_.target.value})},margin:"normal",disabled:X.submitting,sx:{"& .MuiOutlinedInput-root":{bgcolor:"rgba(255, 255, 255, 0.08)",backdropFilter:"blur(10px)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.09)",transition:"all 0.2s ease","&:hover":{bgcolor:"rgba(255, 255, 255, 0.1)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(100, 90, 140, 0.3)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#2196f3",borderWidth:"1px"}},"& .MuiInputLabel-root":{color:"rgba(255, 255, 255, 0.7)"},"& .MuiInputBase-input":{color:"rgba(255, 255, 255, 0.9)"}}}),(e.images?.length>0||e.image)&&!X.deleteImages&&jsxRuntimeExports.jsxs(Box,{sx:{mt:2,mb:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"\u0422\u0435\u043A\u0443\u0449\u0438\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F"}),jsxRuntimeExports.jsx(Box,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:e.images?e.images.map((_,N)=>jsxRuntimeExports.jsx(Box,{component:"img",src:_,alt:`\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 ${N+1}`,sx:{width:80,height:80,objectFit:"cover",borderRadius:1}},`current-img-${N}`)):e.image&&jsxRuntimeExports.jsx(Box,{component:"img",src:e.image,alt:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u0430",sx:{width:80,height:80,objectFit:"cover",borderRadius:1}})}),jsxRuntimeExports.jsx(FormControlLabel,{control:jsxRuntimeExports.jsx(Checkbox,{checked:X.deleteImages,onChange:()=>{re({...X,deleteImages:!X.deleteImages})},disabled:X.submitting,sx:{color:"rgba(255, 255, 255, 0.5)","&.Mui-checked":{color:"#2196f3"}}}),label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",sx:{mt:1,color:"rgba(255, 255, 255, 0.8)","& .MuiFormControlLabel-label":{fontSize:"0.9rem"}}})]}),e.video&&!X.deleteVideo&&jsxRuntimeExports.jsxs(Box,{sx:{mt:2,mb:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"\u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0432\u0438\u0434\u0435\u043E"}),jsxRuntimeExports.jsx(Box,{component:"video",src:e.video,controls:!0,sx:{maxWidth:"100%",height:120,borderRadius:1}}),jsxRuntimeExports.jsx(FormControlLabel,{control:jsxRuntimeExports.jsx(Checkbox,{checked:X.deleteVideo,onChange:()=>{re({...X,deleteVideo:!X.deleteVideo})},disabled:X.submitting,sx:{color:"rgba(255, 255, 255, 0.5)","&.Mui-checked":{color:"#2196f3"}}}),label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0435\u0435 \u0432\u0438\u0434\u0435\u043E",sx:{mt:1,display:"block",color:"rgba(255, 255, 255, 0.8)","& .MuiFormControlLabel-label":{fontSize:"0.9rem"}}})]}),e.music&&e.music.length>0&&!X.deleteMusic&&jsxRuntimeExports.jsxs(Box,{sx:{mt:2,mb:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"subtitle2",gutterBottom:!0,children:"\u0422\u0435\u043A\u0443\u0449\u0438\u0435 \u0430\u0443\u0434\u0438\u043E\u0442\u0440\u0435\u043A\u0438"}),jsxRuntimeExports.jsx(List,{dense:!0,children:e.music.map((_,N)=>jsxRuntimeExports.jsxs(ListItem,{sx:{py:.5},children:[jsxRuntimeExports.jsx(ListItemIcon,{sx:{minWidth:36},children:jsxRuntimeExports.jsx(MusicNoteIcon,{fontSize:"small"})}),jsxRuntimeExports.jsx(ListItemText,{primary:_.title,secondary:_.artist,primaryTypographyProps:{noWrap:!0,variant:"body2"},secondaryTypographyProps:{noWrap:!0,variant:"caption"}})]},`music-${N}`))}),jsxRuntimeExports.jsx(FormControlLabel,{control:jsxRuntimeExports.jsx(Checkbox,{checked:X.deleteMusic,onChange:()=>{re({...X,deleteMusic:!X.deleteMusic})},disabled:X.submitting,sx:{color:"rgba(255, 255, 255, 0.5)","&.Mui-checked":{color:"#2196f3"}}}),label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043C\u0443\u0437\u044B\u043A\u0443",sx:{mt:.5,color:"rgba(255, 255, 255, 0.8)","& .MuiFormControlLabel-label":{fontSize:"0.9rem"}}})]}),jsxRuntimeExports.jsxs(Box,{sx:{mt:2},children:[jsxRuntimeExports.jsxs(Button,{variant:"outlined",component:"label",startIcon:jsxRuntimeExports.jsx(PhotoIcon,{}),disabled:X.submitting,sx:{mr:1,mb:1,borderRadius:"10px",backdropFilter:"blur(5px)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.8)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)"}},children:["\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:"image/*",hidden:!0,onChange:_=>{const N=Array.from(_.target.files),J=N.map(Z=>({file:Z,preview:URL.createObjectURL(Z)}));re({...X,newImages:[...X.newImages,...N],previews:[...X.previews,...J.map(Z=>Z.preview)]})}})]}),jsxRuntimeExports.jsxs(Button,{variant:"outlined",component:"label",startIcon:jsxRuntimeExports.jsx(VideocamIcon,{}),disabled:X.submitting||e.video&&!X.deleteVideo,sx:{mb:1,borderRadius:"10px",backdropFilter:"blur(5px)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderColor:"rgba(255, 255, 255, 0.1)",color:"rgba(255, 255, 255, 0.8)","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)",borderColor:"rgba(255, 255, 255, 0.2)"}},children:[e.video&&!X.deleteVideo?"\u0423\u0434\u0430\u043B\u0438\u0442\u0435 \u0442\u0435\u043A\u0443\u0449\u0435\u0435 \u0432\u0438\u0434\u0435\u043E":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432\u0438\u0434\u0435\u043E",jsxRuntimeExports.jsx("input",{type:"file",accept:"video/*",hidden:!0,onChange:_=>{if(_.target.files&&_.target.files[0]){const N=_.target.files[0];re({...X,newVideo:N})}},disabled:e.video&&!X.deleteVideo})]})]}),X.previews.length>0&&jsxRuntimeExports.jsx(Box,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:1},children:X.previews.map((_,N)=>jsxRuntimeExports.jsx(Box,{sx:{width:80,height:80,borderRadius:"10px",overflow:"hidden",position:"relative",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:jsxRuntimeExports.jsx("img",{src:_,alt:`Preview ${N+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},`preview-${N}`))}),X.newVideo&&jsxRuntimeExports.jsx(Box,{sx:{mt:2,p:1.5,borderRadius:"10px",backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:jsxRuntimeExports.jsxs(Typography,{variant:"caption",color:"rgba(255, 255, 255, 0.7)",children:["\u041D\u043E\u0432\u043E\u0435 \u0432\u0438\u0434\u0435\u043E \u0432\u044B\u0431\u0440\u0430\u043D\u043E: ",X.newVideo.name]})})]}),jsxRuntimeExports.jsxs(DialogActions,{sx:{px:3,pb:2},children:[jsxRuntimeExports.jsx(Button,{onClick:Me,variant:"outlined",color:"primary",disabled:X.submitting,sx:{borderRadius:"10px",borderColor:"rgba(33, 150, 243, 0.3)",color:"rgba(255, 255, 255, 0.8)","&:hover":{borderColor:"rgba(33, 150, 243, 0.5)",backgroundColor:"rgba(33, 150, 243, 0.05)"}},children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),jsxRuntimeExports.jsx(Button,{onClick:async()=>{try{if(!Te())return void re({...X,error:"\u0412\u0440\u0435\u043C\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0438\u0441\u0442\u0435\u043A\u043B\u043E. \u041F\u043E\u0441\u0442\u044B \u043C\u043E\u0436\u043D\u043E \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435 3 \u0447\u0430\u0441\u043E\u0432 \u043F\u043E\u0441\u043B\u0435 \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u0438."});re({...X,submitting:!0,error:null});const _=new FormData;_.append("content",X.content),_.append("delete_images",X.deleteImages),_.append("delete_video",X.deleteVideo),_.append("delete_music",X.deleteMusic),X.newImages.forEach((J,Z)=>{_.append(`images[${Z}]`,J)}),X.newVideo&&_.append("video",X.newVideo);const N=await axios.post(`/api/posts/${e.id}/edit`,_,{headers:{"Content-Type":"multipart/form-data"}});if(!N.data.success)throw new Error(N.data.error||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u043F\u043E\u0441\u0442\u0430");{const J=N.data.post;t?t(e.id,J):window.location.reload(),re({open:!1,content:"",submitting:!1,deleteImages:!1,deleteVideo:!1,deleteMusic:!1,newImages:[],newVideo:null,previews:[],error:null}),ee({open:!0,message:"\u041F\u043E\u0441\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D",severity:"success"})}}catch(_){re({...X,submitting:!1,error:_.response?.data?.error||_.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u043F\u043E\u0441\u0442\u0430"})}},variant:"contained",color:"primary",disabled:X.submitting,startIcon:X.submitting?jsxRuntimeExports.jsx(CircularProgress,{size:16,color:"inherit"}):null,sx:{borderRadius:"10px",backgroundColor:"#2196f3","&:hover":{backgroundColor:"#1976d2"}},children:X.submitting?"\u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0435...":"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"})]})]}),jsxRuntimeExports.jsx(ContextMenu,{items:(()=>{const _=[];return _.push({id:"share",label:"\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443",icon:jsxRuntimeExports.jsx(ShareIcon,{fontSize:"small"}),onClick:Be}),_.push({id:"comment",label:"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",icon:jsxRuntimeExports.jsx(ChatBubbleOutlineIcon,{fontSize:"small"}),onClick:Ve}),b?(Te()&&_.push({id:"edit",label:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",icon:jsxRuntimeExports.jsx(EditIcon,{fontSize:"small"}),onClick:()=>(Pe(),void(Te()?re({...X,open:!0,content:e.content||"",deleteImages:!1,deleteVideo:!1,deleteMusic:!1,newImages:[],newVideo:null,previews:[],error:null}):ee({open:!0,message:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u043E \u0442\u043E\u043B\u044C\u043A\u043E \u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435 3 \u0447\u0430\u0441\u043E\u0432 \u043F\u043E\u0441\u043B\u0435 \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u0438",severity:"warning"})))}),_.push({id:"delete",label:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",icon:jsxRuntimeExports.jsx(DeleteIcon,{fontSize:"small"}),onClick:()=>(Pe(),void te({...Q,open:!0}))})):_.push({id:"report",label:"\u041F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C\u0441\u044F",icon:jsxRuntimeExports.jsx(FlagIcon,{fontSize:"small"}),onClick:()=>(Pe(),void ne({...$,open:!0}))}),_})(),x:ke.x,y:ke.y,show:ke.show&&ke.data?.postId===e.id,onClose:ze})]});var fe};export{FavoriteBorderIcon as F,Post as P,ReactMarkdown as R,VideocamIcon as V};
