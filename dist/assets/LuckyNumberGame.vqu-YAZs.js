import{b as O,j as t,h as K,s as c,i as l,w as L,T as i,q as T,d as r,l as m,bb as Q,o as Y,D as U,E as V,H as X,J as Z,P as W,G as E,m as _}from"./vendor-mui.08p3AH88.js";import{u as ee,r as d}from"./vendor-router.BRqU_Zs2.js";import{a as I,j as R}from"./vendor.CL98q8z6.js";import{A as te}from"./ArrowBack.DeCcUwS3.js";import{A as ae}from"./AccountBalanceWallet.DfnSQtMa.js";import{s as re}from"./index.CdVNWeFt.js";import"./vendor-react.DF-_cTkv.js";c(l)(({theme:e})=>({minHeight:"80vh",display:"flex",flexDirection:"column"}));const oe=c(l)(({theme:e})=>({marginBottom:e.spacing(4),padding:e.spacing(3,2),background:`linear-gradient(135deg, ${r(e.palette.primary.dark,.7)}, ${r(e.palette.primary.main,.4)})`,borderRadius:e.spacing(2),backdropFilter:"blur(10px)",boxShadow:`0 4px 20px ${r(e.palette.primary.main,.2)}`,position:"relative",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"space-between","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 30% 50%, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 60%)",zIndex:0}}));c(W)(({theme:e})=>({padding:e.spacing(2),display:"flex",alignItems:"center",borderRadius:e.spacing(2),background:`linear-gradient(135deg, ${r(e.palette.secondary.dark,.6)}, ${r(e.palette.secondary.main,.3)})`,backdropFilter:"blur(10px)",boxShadow:`0 4px 20px ${r(e.palette.common.black,.1)}`,marginBottom:e.spacing(4),position:"relative",overflow:"hidden",border:`1px solid ${r(e.palette.divider,.05)}`,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 70% 50%, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%)",zIndex:0}}));const H=c(W)(({theme:e})=>({padding:e.spacing(4),borderRadius:e.spacing(2),background:"linear-gradient(135deg, #4b2d73, #3c2361)",position:"relative",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",marginBottom:e.spacing(4),border:"1px solid rgba(255,255,255,0.1)","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 60%)",zIndex:0}})),ie=c(m)(({selected:e,theme:o})=>({width:60,height:60,borderRadius:30,margin:o.spacing(.5),fontWeight:"bold",fontSize:"1.2rem",transition:"all 0.3s ease",background:e?`linear-gradient(135deg, ${o.palette.primary.main}, ${o.palette.primary.dark})`:r(o.palette.background.paper,.2),color:e?o.palette.common.white:"rgba(255,255,255,0.7)",border:e?`2px solid ${o.palette.primary.light}`:"1px solid rgba(255,255,255,0.1)",boxShadow:e?`0 0 15px ${r(o.palette.primary.main,.7)}`:"none","&:hover":{background:e?`linear-gradient(135deg, ${o.palette.primary.main}, ${o.palette.primary.dark})`:`linear-gradient(135deg, ${r(o.palette.primary.main,.3)}, ${r(o.palette.primary.dark,.3)})`,transform:"translateY(-3px)",boxShadow:`0 6px 12px ${r(o.palette.common.black,.2)}`}})),ne=c(_)(({theme:e})=>({"& .MuiOutlinedInput-root":{borderRadius:e.spacing(4),backgroundColor:r(e.palette.background.paper,.6),backdropFilter:"blur(5px)","& fieldset":{borderColor:r(e.palette.primary.main,.5)},"&:hover fieldset":{borderColor:e.palette.primary.main},"&.Mui-focused fieldset":{borderColor:e.palette.primary.main}}})),se=c(l)(({factor:e,selected:o,theme:n})=>({padding:n.spacing(1.5),borderRadius:n.spacing(2),backgroundColor:o?r(n.palette.success.main,.2):r(n.palette.background.paper,.1),border:`1px solid ${o?r(n.palette.success.main,.5):r(n.palette.divider,.2)}`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",cursor:"pointer",boxShadow:o?`0 4px 12px ${r(n.palette.success.main,.3)}`:"none","&:hover":{backgroundColor:r(o?n.palette.success.main:n.palette.background.paper,.2),transform:"translateY(-2px)"}})),le=c(l)(({theme:e})=>({width:120,height:120,borderRadius:60,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"3rem",fontWeight:"bold",margin:"0 auto",marginBottom:e.spacing(3),background:`linear-gradient(135deg, ${e.palette.primary.dark}, ${e.palette.primary.main})`,boxShadow:`0 5px 20px ${r(e.palette.primary.main,.4)}`,color:e.palette.common.white,position:"relative","&::before":{content:'""',position:"absolute",top:-5,left:-5,right:-5,bottom:-5,borderRadius:70,background:`linear-gradient(135deg, ${e.palette.primary.light}, transparent 70%)`,opacity:.5,zIndex:-1}}));c(m)(({theme:e})=>({borderRadius:e.spacing(4),padding:e.spacing(1.5,3),fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.2)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 16px rgba(0,0,0,0.25)"}})),c(W)(({result:e,theme:o})=>({padding:o.spacing(3),textAlign:"center",borderRadius:o.spacing(2),backgroundColor:r(e==="win"?o.palette.success.main:o.palette.error.main,.1),border:`1px solid ${r(e==="win"?o.palette.success.main:o.palette.error.main,.3)}`,marginBottom:o.spacing(4)}));const de=()=>{const e=O(),o=ee(),[n,f]=d.useState(0),[h,N]=d.useState(10),[q,b]=d.useState(!1),[g,z]=d.useState(!1),[u,j]=d.useState(null),[y,A]=d.useState(2),[w,v]=d.useState(null),[G,k]=d.useState(""),[B,$]=d.useState(null),[P,F]=d.useState(!1),[p,M]=d.useState(!1),[D,C]=d.useState(0);return d.useEffect(()=>{(async()=>{try{const a=await I.get("/api/user/points");a?.data?.points!==void 0&&f(parseInt(a.data.points))}catch{R.error("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0431\u0430\u043B\u0430\u043D\u0441")}})()},[]),t.jsxs(K,{maxWidth:"md",sx:{mt:{xs:2,sm:3},mb:{xs:10,sm:8},pb:{xs:"80px",sm:0}},children:[t.jsxs(oe,{children:[t.jsxs(l,{sx:{zIndex:1,position:"relative"},children:[t.jsx(L,{onClick:()=>o("/minigames"),sx:{color:e.palette.common.white,bgcolor:"rgba(0,0,0,0.1)","&:hover":{bgcolor:"rgba(0,0,0,0.2)"},mr:2},children:t.jsx(te,{})}),t.jsx(i,{variant:"h5",component:"h1",sx:{display:"inline-flex",fontWeight:"bold",color:e.palette.common.white},children:"\u0421\u0447\u0430\u0441\u0442\u043B\u0438\u0432\u043E\u0435 \u0427\u0438\u0441\u043B\u043E"})]}),t.jsx(T,{icon:t.jsx(ae,{}),label:`${n} \u0431\u0430\u043B\u043B\u043E\u0432`,sx:{zIndex:1,bgcolor:r(e.palette.background.paper,.2),backdropFilter:"blur(5px)",color:e.palette.common.white,fontWeight:"bold",border:"1px solid rgba(255,255,255,0.2)","& .MuiChip-icon":{color:e.palette.common.white}}})]}),!g&&t.jsx(H,{children:t.jsxs(l,{sx:{textAlign:"center",color:e.palette.common.white,mb:4},children:[t.jsx(i,{variant:"h4",sx:{mb:2,fontWeight:"bold",color:e.palette.common.white},children:"\u0421\u0447\u0430\u0441\u0442\u043B\u0438\u0432\u043E\u0435 \u0427\u0438\u0441\u043B\u043E"}),t.jsx(i,{variant:"body1",sx:{mb:4,color:e.palette.common.white},children:"\u0423\u0433\u0430\u0434\u0430\u0439\u0442\u0435 \u0447\u0438\u0441\u043B\u043E \u043E\u0442 0 \u0434\u043E 9 \u0438 \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 \u0432\u044B\u0438\u0433\u0440\u044B\u0448 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043C\u043E\u0441\u0442\u0438 \u043E\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u043C\u043D\u043E\u0436\u0438\u0442\u0435\u043B\u044F!"}),t.jsx(i,{variant:"h6",sx:{mb:2,fontWeight:"bold",color:e.palette.common.white},children:"\u041F\u0440\u0430\u0432\u0438\u043B\u0430 \u0438\u0433\u0440\u044B:"}),t.jsx(i,{variant:"body2",sx:{mb:1,color:e.palette.common.white},children:"\u2022 \u0421\u0434\u0435\u043B\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0432\u043A\u0443 \u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0447\u0438\u0441\u043B\u043E \u043E\u0442 0 \u0434\u043E 9"}),t.jsx(i,{variant:"body2",sx:{mb:1,color:e.palette.common.white},children:"\u2022 \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043C\u043D\u043E\u0436\u0438\u0442\u0435\u043B\u044C, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442 \u0440\u0430\u0437\u043C\u0435\u0440 \u0432\u044B\u0438\u0433\u0440\u044B\u0448\u0430"}),t.jsx(i,{variant:"body2",sx:{mb:1,color:e.palette.common.white},children:"\u2022 \u0427\u0435\u043C \u0432\u044B\u0448\u0435 \u043C\u043D\u043E\u0436\u0438\u0442\u0435\u043B\u044C, \u0442\u0435\u043C \u0441\u043B\u043E\u0436\u043D\u0435\u0435 \u0432\u044B\u0438\u0433\u0440\u0430\u0442\u044C, \u043D\u043E \u0431\u043E\u043B\u044C\u0448\u0435 \u043D\u0430\u0433\u0440\u0430\u0434\u0430"}),t.jsx(i,{variant:"body2",sx:{mb:4,color:e.palette.common.white},children:"\u2022 \u0415\u0441\u043B\u0438 \u0432\u044B\u043F\u0430\u0432\u0448\u0435\u0435 \u0447\u0438\u0441\u043B\u043E \u0441\u043E\u0432\u043F\u0430\u0434\u0435\u0442 \u0441 \u0432\u0430\u0448\u0438\u043C, \u0432\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 \u0441\u0442\u0430\u0432\u043A\u0443 \xD7 \u043C\u043D\u043E\u0436\u0438\u0442\u0435\u043B\u044C"}),t.jsx(m,{variant:"contained",size:"large",onClick:()=>b(!0),sx:{bgcolor:e.palette.common.white,color:e.palette.primary.dark,fontWeight:"bold","&:hover":{bgcolor:r(e.palette.common.white,.9)}},children:"\u041D\u0430\u0447\u0430\u0442\u044C \u0438\u0433\u0440\u0443"})]})}),g&&t.jsx(H,{children:t.jsxs(l,{sx:{color:e.palette.common.white,textAlign:"center"},children:[t.jsxs(l,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.2)",pb:2},children:[t.jsxs(i,{variant:"h6",sx:{fontWeight:"bold",color:e.palette.common.white},children:["\u0412\u0430\u0448\u0430 \u0441\u0442\u0430\u0432\u043A\u0430: ",h," \u0431\u0430\u043B\u043B\u043E\u0432"]}),t.jsx(T,{label:`\u041C\u043D\u043E\u0436\u0438\u0442\u0435\u043B\u044C: x${y}`,sx:{bgcolor:r(e.palette.success.main,.2),color:e.palette.success.light,fontWeight:"bold",border:`1px solid ${r(e.palette.success.main,.4)}`}})]}),w!==null&&t.jsxs(l,{sx:{mb:4},children:[t.jsx(le,{children:w}),t.jsx(i,{variant:"h5",sx:{mb:2,fontWeight:"bold",color:B==="win"?e.palette.success.light:e.palette.error.light},children:B==="win"?"\u0412\u044B \u0432\u044B\u0438\u0433\u0440\u0430\u043B\u0438!":"\u0412\u044B \u043F\u0440\u043E\u0438\u0433\u0440\u0430\u043B\u0438"}),t.jsx(i,{variant:"body1",sx:{mb:3,color:e.palette.common.white},children:G}),t.jsx(m,{variant:"contained",color:"primary",onClick:()=>{z(!1),j(null),A(2),v(null),$(null),k(""),b(!0)},sx:{px:4,py:1.5,borderRadius:4,fontWeight:"bold"},children:"\u0421\u044B\u0433\u0440\u0430\u0442\u044C \u0435\u0449\u0451"})]}),w===null&&t.jsxs(t.Fragment,{children:[t.jsx(i,{variant:"h6",sx:{mb:3,fontWeight:"bold",textAlign:"left",borderBottom:"1px solid rgba(255,255,255,0.2)",pb:1,color:e.palette.common.white},children:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0447\u0438\u0441\u043B\u043E \u043E\u0442 0 \u0434\u043E 9:"}),(()=>{const a=Array.from({length:10},(s,x)=>x);return t.jsx(l,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",mb:4},children:a.map(s=>t.jsx(ie,{selected:u===s,onClick:()=>(x=>{g&&!p&&j(x)})(s),disabled:p,children:s},s))})})(),t.jsx(i,{variant:"h6",sx:{mb:3,fontWeight:"bold",textAlign:"left",borderBottom:"1px solid rgba(255,255,255,0.2)",pb:1,color:e.palette.common.white},children:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043C\u043D\u043E\u0436\u0438\u0442\u0435\u043B\u044C:"}),t.jsxs(l,{sx:{mb:4},children:[t.jsx(i,{variant:"h6",sx:{color:e.palette.common.white,mb:2,textAlign:"center"},children:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043C\u043D\u043E\u0436\u0438\u0442\u0435\u043B\u044C:"}),t.jsx(E,{container:!0,spacing:2,justifyContent:"center",children:[2,3,5,10].map(a=>t.jsx(E,{item:!0,xs:6,sm:3,children:t.jsxs(se,{factor:a,selected:y===a,onClick:()=>(s=>{g&&!p&&A(s)})(a),children:[t.jsxs(i,{variant:"h6",sx:{fontWeight:"bold",color:e.palette.common.white},children:["x",a]}),t.jsx(i,{variant:"caption",color:"text.secondary",children:a===2?"\u041B\u0435\u0433\u043A\u043E":a===3?"\u0421\u0440\u0435\u0434\u043D\u0435":a===5?"\u0421\u043B\u043E\u0436\u043D\u043E":"\u042D\u043A\u0441\u0442\u0440\u0438\u043C"}),t.jsxs(i,{variant:"body2",sx:{mt:1,color:e.palette.common.white},children:["\u0448\u0430\u043D\u0441 1/",10*a/2]})]})},a))})]}),t.jsx(l,{sx:{textAlign:"center",mt:4},children:D>0?t.jsxs(l,{sx:{mb:4,textAlign:"center"},children:[t.jsx(i,{variant:"h3",sx:{fontWeight:"bold",mb:2},children:D}),t.jsx(Q,{color:"secondary",sx:{maxWidth:200,mx:"auto",height:8,borderRadius:4,bgcolor:r(e.palette.background.paper,.2)}})]}):t.jsx(m,{variant:"contained",disabled:u===null||p,onClick:async()=>{if(g&&!p&&u!==null)try{M(!0),C(3);for(let S=3;S>0;S--)C(S),await new Promise(J=>setTimeout(J,1e3));const a=Math.floor(10*Math.random()),s=a===u;v(a),$(s?"win":"lose"),k(s?`\u0412\u044B\u043F\u0430\u043B\u043E \u0447\u0438\u0441\u043B\u043E ${a}! \u0412\u044B \u0432\u044B\u0438\u0433\u0440\u0430\u043B\u0438 ${h*y} \u0431\u0430\u043B\u043B\u043E\u0432!`:`\u0412\u044B\u043F\u0430\u043B\u043E \u0447\u0438\u0441\u043B\u043E ${a}. \u0412\u044B \u0432\u044B\u0431\u0440\u0430\u043B\u0438 ${u}. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437!`);const x=await I.get("/api/user/points");x?.data?.points!==void 0&&f(parseInt(x.data.points))}catch(a){R.error(a.response?.data?.error||"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430")}finally{M(!1),C(0)}},size:"large",startIcon:p?t.jsx(Y,{size:20,color:"inherit"}):t.jsx(re,{}),sx:{px:6,py:1.5,borderRadius:4,fontWeight:"bold",boxShadow:`0 4px 20px ${r(e.palette.primary.main,.5)}`},children:p?"\u0412\u0440\u0430\u0449\u0435\u043D\u0438\u0435...":"\u0418\u0433\u0440\u0430\u0442\u044C"})})]})]})}),t.jsxs(U,{open:q,onClose:()=>b(!1),PaperProps:{sx:{borderRadius:3,width:"100%",maxWidth:400,"@media (max-width: 600px)":{width:"100%",maxWidth:"100%",margin:0,borderRadius:0}}},children:[t.jsx(V,{children:"\u0421\u0434\u0435\u043B\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0432\u043A\u0443"}),t.jsx(X,{children:t.jsxs(l,{sx:{p:1},children:[t.jsxs(i,{variant:"body2",sx:{mb:2},children:["\u0412\u0430\u0448 \u0431\u0430\u043B\u0430\u043D\u0441: ",t.jsxs("strong",{children:[n," \u0431\u0430\u043B\u043B\u043E\u0432"]})]}),t.jsx(ne,{label:"\u0420\u0430\u0437\u043C\u0435\u0440 \u0441\u0442\u0430\u0432\u043A\u0438",variant:"outlined",fullWidth:!0,value:h,onChange:a=>{const s=parseInt(a.target.value);!isNaN(s)&&s>0&&N(s)},type:"number",InputProps:{inputProps:{min:10,max:n}},helperText:`\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u0430\u044F \u0441\u0442\u0430\u0432\u043A\u0430: 10, \u043C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u0430\u044F: ${n}`})]})}),t.jsxs(Z,{children:[t.jsx(m,{onClick:()=>b(!1),color:"inherit",children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),t.jsx(m,{onClick:async()=>{try{F(!0),z(!0),j(null),v(null),$(null),k("");const a=await I.get("/api/user/points");a?.data?.points!==void 0&&f(parseInt(a.data.points)),b(!1)}catch(a){R.error(a.response?.data?.error||"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043D\u0430\u0447\u0430\u0442\u044C \u0438\u0433\u0440\u0443")}finally{F(!1)}},color:"primary",variant:"contained",disabled:P||h<10||h>n,children:P?t.jsx(Y,{size:24}):"\u0421\u0434\u0435\u043B\u0430\u0442\u044C \u0441\u0442\u0430\u0432\u043A\u0443"})]})]})]})};export{de as default};
