import{j as e,h as b,i as h,T as t,m as C,l as S,P as v,C as U,bh as K,p as L,O as R,Q as n,U as a}from"./vendor-mui.08p3AH88.js";import{r as m}from"./vendor-router.BRqU_Zs2.js";import"./vendor-react.DF-_cTkv.js";const $=()=>{const[s,f]=m.useState(""),[i,w]=m.useState(null),[j,u]=m.useState(!1),[g,y]=m.useState(null);return e.jsx(b,{maxWidth:"md",children:e.jsxs(h,{sx:{my:4},children:[e.jsx(t,{variant:"h4",component:"h1",gutterBottom:!0,children:"\u0422\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u043F\u0440\u0435\u0434\u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0430 \u0441\u0441\u044B\u043B\u043E\u043A"}),e.jsx(t,{variant:"body1",paragraph:!0,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B K-Connect, \u0447\u0442\u043E\u0431\u044B \u0443\u0432\u0438\u0434\u0435\u0442\u044C, \u043A\u0430\u043A \u043E\u043D\u0430 \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C\u0441\u044F \u043F\u0440\u0438 \u0448\u0430\u0440\u0438\u043D\u0433\u0435 \u0432 \u043C\u0435\u0441\u0441\u0435\u043D\u0434\u0436\u0435\u0440\u0430\u0445 \u0438 \u0441\u043E\u0446\u0441\u0435\u0442\u044F\u0445."}),e.jsxs(h,{sx:{display:"flex",mb:3},children:[e.jsx(C,{fullWidth:!0,label:"URL \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",value:s,onChange:r=>{f(r.target.value)},placeholder:"\u041D\u0430\u043F\u0440\u0438\u043C\u0435\u0440: /post/123 \u0438\u043B\u0438 /profile/username",variant:"outlined",sx:{mr:2}}),e.jsx(S,{variant:"contained",onClick:async()=>{if(s){u(!0),y(null);try{await new Promise(p=>setTimeout(p,1e3));const r=s.startsWith("http")?s:`${window.location.origin}${s.startsWith("/")?"":"/"}${s}`,o=new URL(r).pathname;let l="website",c="K-Connect",d="\u0421\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u0430\u044F \u0441\u0435\u0442\u044C \u043E\u0442 \u043D\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043C\u043E\u0433\u043E \u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u0447\u0438\u043A\u0430",x="/icon-512.png";if(o.includes("/post/"))l="article",c="\u041F\u043E\u0441\u0442 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",d="\u0418\u043D\u0442\u0435\u0440\u0435\u0441\u043D\u044B\u0439 \u043F\u043E\u0441\u0442 \u0432 \u0441\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0439 \u0441\u0435\u0442\u0438 K-Connect",x="/static/images/post_preview.jpg";else if(o.includes("/profile/")){l="profile";const p=o.split("/").pop();c=`\u041F\u0440\u043E\u0444\u0438\u043B\u044C @${p}`,d=`\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F ${p} \u0432 K-Connect`,x="/static/images/profile_preview.jpg"}else o.includes("/music")&&(l="music",c="\u041C\u0443\u0437\u044B\u043A\u0430 \u0432 K-Connect",d="\u0421\u043B\u0443\u0448\u0430\u0439\u0442\u0435 \u043C\u0443\u0437\u044B\u043A\u0443 \u0432 \u0441\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0439 \u0441\u0435\u0442\u0438 K-Connect",x="/static/images/music_preview.jpg");w({url:r,title:c,description:d,image:x,type:l})}catch{y("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435 \u0434\u043B\u044F \u043F\u0440\u0435\u0434\u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u0430. \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 URL \u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0441\u043D\u043E\u0432\u0430.")}finally{u(!1)}}},disabled:!s||j,children:j?"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...":"\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C"})]}),g&&e.jsx(t,{color:"error",sx:{mb:2},children:g}),i&&e.jsxs(h,{children:[e.jsx(t,{variant:"h6",gutterBottom:!0,children:"\u041F\u0440\u0435\u0432\u044C\u044E \u0441\u0441\u044B\u043B\u043A\u0438:"}),e.jsxs(v,{sx:{mb:3,overflow:"hidden"},children:[e.jsx(h,{sx:{p:2,bgcolor:"#f5f5f5"},children:e.jsx(t,{variant:"caption",color:"textSecondary",children:"\u0422\u0430\u043A \u0431\u0443\u0434\u0435\u0442 \u0432\u044B\u0433\u043B\u044F\u0434\u0435\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0430 \u043F\u0440\u0438 \u0448\u0430\u0440\u0438\u043D\u0433\u0435:"})}),e.jsxs(U,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},border:"1px solid #eee"},children:[e.jsx(K,{component:"img",sx:{width:{xs:"100%",sm:200},height:{xs:200,sm:"auto"}},image:i.image,alt:i.title}),e.jsxs(L,{sx:{flex:"1 0 auto"},children:[e.jsx(t,{variant:"subtitle2",color:"textSecondary",gutterBottom:!0,children:new URL(i.url).hostname}),e.jsx(t,{variant:"h6",component:"div",children:i.title}),e.jsx(t,{variant:"body2",color:"textSecondary",sx:{mt:1},children:i.description})]})]})]}),e.jsx(t,{variant:"h6",gutterBottom:!0,children:"\u041C\u0435\u0442\u0430-\u0442\u0435\u0433\u0438:"}),e.jsx(v,{children:e.jsxs(R,{children:[e.jsx(n,{divider:!0,children:e.jsx(a,{primary:"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A (og:title)",secondary:i.title})}),e.jsx(n,{divider:!0,children:e.jsx(a,{primary:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 (og:description)",secondary:i.description})}),e.jsx(n,{divider:!0,children:e.jsx(a,{primary:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 (og:image)",secondary:i.image})}),e.jsx(n,{divider:!0,children:e.jsx(a,{primary:"URL (og:url)",secondary:i.url})}),e.jsx(n,{children:e.jsx(a,{primary:"\u0422\u0438\u043F (og:type)",secondary:i.type})})]})})]})]})})};export{$ as default};
