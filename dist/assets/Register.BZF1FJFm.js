import{b as B,g as I,j as e,h as A,i as o,T as i,P as S,A as v,m as p,I as T,w as z,a1 as P,a2 as R,F as H,L as w,n as M,l as $,o as _,V as E}from"./vendor-mui.08p3AH88.js";import{u as L,r as m,L as G}from"./vendor-router.BRqU_Zs2.js";import{a as U}from"./index.CdVNWeFt.js";import{m as u}from"./vendor.CL98q8z6.js";import"./vendor-react.DF-_cTkv.js";const V=({setUser:Y})=>{const F=B(),t=I(F.breakpoints.down("sm")),C=L(),[a,D]=m.useState({username:"",email:"",password:"",confirmPassword:"",agreeTerms:!1}),[h,k]=m.useState(!1),[l,f]=m.useState(!1),[d,s]=m.useState(""),[y,j]=m.useState(""),x=g=>{const{name:r,value:n,checked:b}=g.target,c=r==="agreeTerms"?b:n;D(W=>({...W,[r]:c})),s("")};return e.jsxs(A,{disableGutters:!0,maxWidth:!1,sx:{display:"flex",minHeight:"100vh",width:"100%",overflow:"hidden",position:"relative"},children:[!t&&e.jsxs(o,{sx:{flex:"0 0 45%",background:"linear-gradient(135deg, rgba(20, 20, 30, 1) 0%, rgba(40, 40, 60, 0.95) 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",p:6},children:[e.jsx(o,{sx:{position:"absolute",width:"200%",height:"200%",top:"-50%",left:"-50%",background:"radial-gradient(circle, rgba(208, 188, 255, 0.05) 0%, rgba(208, 188, 255, 0) 70%)",zIndex:0}}),e.jsx(u.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.7,delay:.2},style:{position:"relative",zIndex:1},children:e.jsx("img",{src:"/static/icons/clear-logonew.svg",alt:"\u041A-\u041A\u043E\u043D\u043D\u0435\u043A\u0442 \u041B\u043E\u0433\u043E",style:{width:180,marginBottom:40}})}),e.jsxs(u.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.5},style:{position:"relative",zIndex:1,textAlign:"center"},children:[e.jsxs(i,{variant:"h3",sx:{fontWeight:700,mb:2},children:[e.jsx("span",{style:{color:"#D0BCFF"},children:"\u041A"}),"-\u041A\u041E\u041D\u041D\u0415\u041A\u0422"]}),e.jsx(i,{variant:"h6",color:"text.secondary",sx:{maxWidth:400},children:"\u0421\u043E\u0437\u0434\u0430\u0439\u0442\u0435 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u0438 \u0441\u0442\u0430\u043D\u044C\u0442\u0435 \u0447\u0430\u0441\u0442\u044C\u044E \u043D\u0430\u0448\u0435\u0433\u043E \u0441\u043E\u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0430"})]}),e.jsx(o,{sx:{position:"absolute",bottom:40,left:0,right:0,display:"flex",justifyContent:"center",gap:2},children:[...Array(3)].map((g,r)=>e.jsx(u.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:.8+.2*r},children:e.jsx(o,{sx:{width:12+4*r,height:12+4*r,borderRadius:"50%",background:`rgba(208, 188, 255, ${.6-.15*r})`}})},r))})]}),e.jsx(o,{sx:{flex:t?1:"0 0 55%",display:"flex",alignItems:"center",justifyContent:"center",p:0,background:t?"linear-gradient(135deg, rgba(20, 20, 30, 1) 0%, rgba(40, 40, 60, 0.95) 100%)":"transparent"},children:e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:t?"16px":"40px"},children:[t&&e.jsxs(o,{sx:{position:"absolute",top:"24px",left:0,width:"100%",textAlign:"center"},children:[e.jsx("img",{src:"/static/icons/clear-logonew.svg",alt:"\u041A-\u041A\u043E\u043D\u043D\u0435\u043A\u0442 \u041B\u043E\u0433\u043E",style:{width:80,marginBottom:12}}),e.jsxs(i,{variant:"h5",component:"h1",sx:{fontWeight:700},children:[e.jsx("span",{style:{color:"#D0BCFF"},children:"\u041A"}),"-\u041A\u041E\u041D\u041D\u0415\u041A\u0422"]})]}),e.jsxs(S,{elevation:t?0:6,sx:{p:t?3:4,width:"100%",maxWidth:"480px",borderRadius:4,background:t?"transparent":"rgba(30, 30, 40, 0.85)",backdropFilter:"blur(10px)",border:t?"none":"1px solid rgba(255, 255, 255, 0.1)",mt:t?"140px":0,overflowY:"auto",maxHeight:t?"calc(100vh - 200px)":"fit-content",minHeight:t?"auto":"0",display:"flex",flexDirection:"column"},children:[e.jsx(i,{variant:"h5",component:"h2",sx:{mb:1,fontWeight:600},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"}),e.jsx(i,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"\u0421\u043E\u0437\u0434\u0430\u0439\u0442\u0435 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u0432 \u041A-\u041A\u043E\u043D\u043D\u0435\u043A\u0442 \u0438 \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 \u0434\u043E\u0441\u0442\u0443\u043F \u043A\u043E \u0432\u0441\u0435\u043C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044F\u043C"}),d&&e.jsx(v,{severity:"error",sx:{mb:3,borderRadius:2,"& .MuiAlert-icon":{alignItems:"center"}},children:d}),y&&e.jsx(v,{severity:"success",sx:{mb:3,borderRadius:2,"& .MuiAlert-icon":{alignItems:"center"}},children:y}),e.jsxs("form",{onSubmit:async g=>{if(g.preventDefault(),a.username&&a.email&&a.password&&a.confirmPassword?/^[a-zA-Z0-9._-]+$/.test(a.username)?a.username.length>16?(s("\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043D\u0435 \u0434\u043E\u043B\u0436\u043D\u043E \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0442\u044C 16 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"),0):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)?a.password.length<6?(s("\u041F\u0430\u0440\u043E\u043B\u044C \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u043C\u0438\u043D\u0438\u043C\u0443\u043C 6 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"),0):a.password!==a.confirmPassword?(s("\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442"),0):a.agreeTerms||(s("\u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0441\u043E\u0433\u043B\u0430\u0441\u0438\u0442\u044C\u0441\u044F \u0441 \u043F\u0440\u0430\u0432\u0438\u043B\u0430\u043C\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F"),0):(s("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 email"),0):(s("\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043C\u043E\u0436\u0435\u0442 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u043B\u0430\u0442\u0438\u043D\u0441\u043A\u0438\u0435 \u0431\u0443\u043A\u0432\u044B, \u0446\u0438\u0444\u0440\u044B, ., _ \u0438 -"),0):(s("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F"),0)){f(!0),s(""),j("");try{const{username:r,email:n,password:b}=a,c=await U.register(r,n,b);c.success?(j(c.message||"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u0430! \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0441\u0432\u043E\u044E \u043F\u043E\u0447\u0442\u0443 \u0434\u043B\u044F \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430. \u041F\u043E\u0441\u043B\u0435 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0432\u044B \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u043E\u0437\u0434\u0430\u0442\u044C \u043F\u0440\u043E\u0444\u0438\u043B\u044C."),setTimeout(()=>{C("/login")},5e3)):c.error&&s(c.error)}catch(r){if(r.response&&r.response.data){const n=r.response.data.error||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438";n.includes("username \u0443\u0436\u0435 \u0437\u0430\u043D\u044F\u0442")?s("\u042D\u0442\u043E \u0438\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0443\u0436\u0435 \u0437\u0430\u043D\u044F\u0442\u043E. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043E\u0435."):n.includes("email \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D")?s("\u042D\u0442\u0430 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430 \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u0430. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0432\u043E\u0439\u0442\u0438 \u0438\u043B\u0438 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u043F\u0430\u0440\u043E\u043B\u044C."):s(n)}else s("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.")}finally{f(!1)}}},style:{width:"100%"},children:[e.jsx(p,{fullWidth:!0,label:"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",name:"username",value:a.username,onChange:x,error:!!d,disabled:l,sx:{mb:2}}),e.jsx(p,{fullWidth:!0,label:"Email",name:"email",type:"email",value:a.email,onChange:x,error:!!d,disabled:l,sx:{mb:2}}),e.jsx(p,{fullWidth:!0,label:"\u041F\u0430\u0440\u043E\u043B\u044C",name:"password",type:h?"text":"password",value:a.password,onChange:x,error:!!d,disabled:l,InputProps:{endAdornment:e.jsx(T,{position:"end",children:e.jsx(z,{onClick:()=>{k(!h)},edge:"end",children:h?e.jsx(P,{}):e.jsx(R,{})})})},sx:{mb:2}}),e.jsx(p,{fullWidth:!0,label:"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C",name:"confirmPassword",type:h?"text":"password",value:a.confirmPassword,onChange:x,error:!!d,disabled:l,sx:{mb:2}}),e.jsx(H,{control:e.jsx(M,{name:"agreeTerms",checked:a.agreeTerms,onChange:x,color:"primary",sx:{color:"#D0BCFF","&.Mui-checked":{color:"#D0BCFF"}}}),label:e.jsxs(i,{variant:"body2",children:["\u042F \u0441\u043E\u0433\u043B\u0430\u0441\u0435\u043D \u0441"," ",e.jsx(w,{href:"/terms-of-service",target:"_blank",sx:{color:"#D0BCFF",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"\u043F\u0440\u0430\u0432\u0438\u043B\u0430\u043C\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F"})]}),sx:{mb:2}}),e.jsx($,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{py:1.5,borderRadius:2,fontSize:"1rem",textTransform:"none",background:"linear-gradient(90deg, #B69DF8 0%, #D0BCFF 100%)",boxShadow:"0 4px 12px rgba(182, 157, 248, 0.3)","&:hover":{background:"linear-gradient(90deg, #D0BCFF 0%, #E9DDFF 100%)",boxShadow:"0 6px 16px rgba(182, 157, 248, 0.4)"}},disabled:l,children:l?e.jsx(_,{size:24,color:"inherit"}):"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"})]}),e.jsx(E,{sx:{my:3,"&::before, &::after":{borderColor:"rgba(255,255,255,0.1)"}},children:e.jsx(i,{variant:"body2",color:"text.secondary",children:"\u0438\u043B\u0438"})}),e.jsx(o,{sx:{textAlign:"center"},children:e.jsxs(i,{variant:"body2",children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442?"," ",e.jsx(w,{component:G,to:"/login",sx:{color:"#D0BCFF",fontWeight:500,textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"\u0412\u043E\u0439\u0442\u0438"})]})})]})]})})]})};export{V as default};
