import{b as M,j as t,h as T,s as i,i as c,d as o,T as x,O as g,U as n,q as _,V as L,k as A,l as F,P as D,Q as E,R as O}from"./vendor-mui.08p3AH88.js";import{r as m,u as X,L as r}from"./vendor-router.BRqU_Zs2.js";import{A as N,I as a,G as V}from"./index.CdVNWeFt.js";import{a as C}from"./vendor.CL98q8z6.js";import{S as U}from"./Settings.DGZpUNrl.js";import"./TransferMenu.2g5UFehs.js";import{V as Y}from"./index.CJUnh1z7.js";import"./vendor-react.DF-_cTkv.js";import"./thumbnails.CEJMDkxh.js";import"./Close.BG2YHWMj.js";import"./History.BL_2VNvs.js";import"./dateUtils.JaLtthGQ.js";import"./Delete.C47j6PO2.js";import"./Save.D4JlNQm5.js";import"./MoreVert.C0-1U5Ci.js";import"./Person.B_G_dVGx.js";import"./Send.DjUSpM3V.js";const q=i(c)(({theme:e})=>({position:"relative",height:140,width:"100vw",left:"50%",right:"50%",marginLeft:"-50vw",marginRight:"-50vw",marginBottom:e.spacing(4),backgroundColor:e.palette.primary.dark,backgroundImage:"linear-gradient(135deg, #6f57bd 0%, #8c54ff 100%)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",padding:0,"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url(/static/img/pattern.png)",backgroundSize:"200px",backgroundRepeat:"repeat",opacity:.08,zIndex:1}})),G=i(c)({position:"absolute",bottom:-2,left:0,right:0,height:"40px",borderRadius:"50% 50% 0 0",zIndex:3}),Q=i(c)(({theme:e})=>({position:"absolute",bottom:"-25px",left:"50%",transform:"translateX(-50%)",zIndex:10,padding:"3px",borderRadius:"50%",backgroundColor:e.palette.background.paper,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"})),H=i(A)(({theme:e})=>({width:125,height:125,border:"3px solid",borderColor:e.palette.background.paper,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",backgroundColor:e.palette.primary.main})),J=i(x)(({theme:e})=>({fontWeight:"bold",fontSize:"1.1rem",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"})),b=i(D)(({theme:e})=>({borderRadius:e.spacing(3),overflow:"hidden",marginBottom:e.spacing(1.5),boxShadow:"none",border:`1px solid ${o(e.palette.divider,.07)}`,backgroundColor:e.palette.mode==="dark"?o(e.palette.background.paper,.6):"rgba(250, 250, 252, 0.8)",boxSizing:"border-box",width:"100%"})),u=i(x)(({theme:e})=>({fontSize:"0.7rem",fontWeight:600,color:o(e.palette.text.secondary,.7),padding:e.spacing(1.5,2,.7),textTransform:"none",letterSpacing:"0.2px"})),d=i(E)(({theme:e})=>({padding:e.spacing(1,1.5),borderRadius:e.spacing(2.5),transition:"all 0.15s ease",maxWidth:"calc(100% - 8px)",margin:e.spacing(0,.5),marginBottom:2,width:"auto",boxSizing:"border-box","&:hover":{backgroundColor:e.palette.mode==="dark"?o(e.palette.primary.main,.08):o(e.palette.primary.main,.05),transform:"translateX(2px)"},"& .MuiListItemText-root":{margin:0,overflow:"hidden",flexShrink:1,minWidth:0},"& .MuiTypography-primary":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.9rem",fontWeight:500},"& .MuiTypography-secondary":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:"0.7rem",color:o(e.palette.text.secondary,.8)}})),w=i(d)(({theme:e,color:h="primary"})=>({backgroundColor:o(e.palette[h].main,.06),margin:e.spacing(0,.5),marginBottom:2,maxWidth:"calc(100% - 8px)","&:hover":{backgroundColor:o(e.palette[h].main,.1),transform:"translateX(2px)"}})),s=i(O)(({theme:e})=>({minWidth:"36px",color:e.palette.text.primary,opacity:.85,"& .MuiSvgIcon-root":{fontSize:"1.2rem"}})),k=i(F)(({theme:e})=>({borderRadius:e.spacing(2.5),padding:e.spacing(.8,1.5),flex:1,minWidth:0,marginBottom:2,fontSize:"0.75rem",fontWeight:500,color:e.palette.mode==="dark"?o(e.palette.common.white,.9):e.palette.text.primary,backgroundColor:e.palette.mode==="dark"?o(e.palette.background.paper,.2):o(e.palette.background.paper,.7),border:`1px solid ${o(e.palette.divider,.08)}`,textTransform:"none",boxShadow:e.palette.mode==="dark"?"none":"0 1px 2px rgba(0, 0, 0, 0.03)",backdropFilter:"blur(8px)","&:hover":{backgroundColor:e.palette.mode==="dark"?o(e.palette.background.paper,.25):o(e.palette.background.paper,.85),boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",border:`1px solid ${o(e.palette.divider,.12)}`},"& .MuiButton-startIcon":{marginRight:6,opacity:.8,minWidth:18},"& .MuiButton-endIcon":{marginLeft:0,marginRight:0,opacity:.7}})),K=i(k)(({theme:e})=>({"& .number":{fontWeight:600,color:e.palette.primary.main},"& .unit":{marginLeft:3,fontWeight:500}})),Z=i(c)(({theme:e})=>({marginTop:e.spacing(3),marginBottom:e.spacing(8),padding:e.spacing(1.5),textAlign:"center",opacity:.8}));i(c)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:o(e.palette.primary.main,.06),borderRadius:e.spacing(2),padding:e.spacing(1.5),flex:1,transition:"all 0.2s ease","&:hover":{backgroundColor:o(e.palette.primary.main,.1),transform:"translateY(-2px)"}})),i(x)(({theme:e})=>({fontWeight:"bold",fontSize:"1.2rem",color:e.palette.primary.main})),i(x)(({theme:e})=>({fontSize:"0.75rem",color:e.palette.text.secondary}));const tt=e=>{if(e==null)return"0";if(e<1e3)return e.toString();const h=Math.floor((e.toFixed(0).length-1)/3),j=(e/Math.pow(1e3,h)).toFixed(1);return`${parseFloat(j)}${["","k","M","B"][h]}`},et=()=>{const{user:e,logout:h}=m.useContext(N),j=X(),p=M(),[W,v]=m.useState(0),S=e?.id===3,f=e?.account_type==="channel",[z,y]=m.useState(!1),[$,R]=m.useState(0);m.useEffect(()=>{e&&(P(),B())},[e]);const P=async()=>{try{if(window._moderatorCheckInProgress)return;const l=Date.now();if(l-$<9e5)return;window._moderatorCheckInProgress=!0;const I=await C.get("/api/moderator/status");I.data&&I.data.is_moderator?y(!0):y(!1),R(l)}catch{y(!1)}finally{window._moderatorCheckInProgress=!1}},B=async()=>{try{const l=await C.get("/api/user/points");v(l.data.points)}catch{v(0)}};return t.jsxs(T,{maxWidth:"sm",sx:{pb:10,position:"relative",overflow:"hidden",px:{xs:1.5,sm:2}},children:[t.jsxs(q,{children:[e?.banner?t.jsx(c,{component:"img",src:e.banner_url||`/static/uploads/banner/${e.id}/${e.banner}`,alt:"\u0411\u0430\u043D\u043D\u0435\u0440",sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0},onError:l=>{l.target.style.display="none"}}):t.jsx(c,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundImage:`linear-gradient(135deg, 
                ${o(p.palette.primary.dark,.9)} 0%, 
                ${o(p.palette.primary.main,.8)} 50%,
                ${o(p.palette.primary.light,.7)} 100%)`,backgroundSize:"cover",zIndex:0}}),t.jsx(G,{sx:{backgroundColor:p.palette.mode==="dark"?"#121212":"#ffffff"}}),t.jsx(Q,{children:t.jsx(H,{src:e?.avatar_url||e?.photo&&`/static/uploads/avatar/${e.id}/${e.photo}`,alt:e?.name,onError:l=>{l.target.src="/static/uploads/avatar/system/avatar.png"},children:e?.name?e.name.charAt(0):"?"})})]}),t.jsxs(c,{sx:{mb:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[t.jsxs(J,{variant:"h5",children:[e?.name||"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C",e?.verification&&e.verification.status>0&&t.jsx(Y,{status:e.verification.status,size:"small"})]}),t.jsxs(x,{variant:"body2",color:"textSecondary",align:"center",children:["@",e?.username||"username"]}),t.jsxs(c,{sx:{display:"flex",width:"100%",gap:1.2,mt:1.5,mb:.5,px:{xs:1,sm:1.5},maxWidth:"100%",boxSizing:"border-box",overflow:"hidden"},children:[t.jsxs(K,{component:r,to:"/balance",startIcon:t.jsx(a,{icon:"solar:wallet-money-bold",width:"18",height:"18"}),sx:{px:1},children:[t.jsx("span",{className:"number",children:tt(W)}),t.jsx("span",{className:"unit",children:"\u0431\u0430\u043B\u043B\u043E\u0432"})]}),t.jsx(k,{component:r,to:"/badge-shop",startIcon:t.jsx(a,{icon:"solar:shop-bold",width:"18",height:"18"}),sx:{px:1},children:"\u041C\u0430\u0433\u0430\u0437\u0438\u043D"}),t.jsx(k,{component:r,to:"/settings",startIcon:t.jsx(U,{sx:{fontSize:"1rem"}}),sx:{px:1},children:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"})]})]}),t.jsxs(b,{children:[t.jsx(u,{children:"\u0421\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0435"}),t.jsxs(g,{disablePadding:!0,sx:{width:"100%",overflow:"hidden",px:.5,boxSizing:"border-box"},children:[t.jsxs(d,{button:!0,component:r,to:"/search",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:magnifer-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u041F\u043E\u0438\u0441\u043A"})]}),t.jsxs(d,{button:!0,component:r,to:"/subscriptions",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:users-group-rounded-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u041F\u043E\u0434\u043F\u0438\u0441\u043A\u0438"})]}),t.jsxs(d,{button:!0,component:r,to:"/channels",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:play-stream-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u041A\u0430\u043D\u0430\u043B\u044B"})]}),t.jsxs(d,{button:!0,component:r,to:"/leaderboard",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:chart-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u0420\u0435\u0439\u0442\u0438\u043D\u0433"})]})]})]}),t.jsxs(b,{children:[t.jsx(u,{children:"\u0420\u0430\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u044F"}),t.jsxs(g,{disablePadding:!0,sx:{width:"100%",overflow:"hidden",px:.5,boxSizing:"border-box"},children:[!f&&t.jsxs(w,{button:!0,component:r,to:"/minigames",color:"secondary",children:[t.jsx(s,{sx:{color:p.palette.secondary.main},children:t.jsx(a,{icon:"solar:gamepad-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u041C\u0438\u043D\u0438-\u0438\u0433\u0440\u044B"})]}),t.jsxs(w,{button:!0,component:r,to:"/username-auction",children:[t.jsx(s,{children:t.jsx(V,{sx:{fontSize:"1.1rem"}})}),t.jsx(n,{primary:"\u0410\u0443\u043A\u0446\u0438\u043E\u043D \u044E\u0437\u0435\u0440\u043D\u0435\u0439\u043C\u043E\u0432",sx:{flexShrink:1,minWidth:0}}),t.jsx(_,{label:"\u041D\u043E\u0432\u043E\u0435",size:"small",color:"primary",sx:{height:18,fontSize:"0.6rem",fontWeight:"bold",flexShrink:0,ml:.5,maxWidth:55}})]}),!f&&t.jsxs(d,{button:!0,component:r,to:"/sub-planes",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:star-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u041F\u043B\u0430\u043D\u044B \u043F\u043E\u0434\u043F\u0438\u0441\u043E\u043A"})]})]})]}),(S||z)&&t.jsxs(b,{children:[t.jsx(u,{children:"\u0410\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435"}),t.jsxs(g,{disablePadding:!0,sx:{width:"100%",overflow:"hidden",px:.5,boxSizing:"border-box"},children:[z&&t.jsxs(w,{button:!0,component:r,to:"/moderator",color:"error",children:[t.jsx(s,{sx:{color:p.palette.error.main},children:t.jsx(a,{icon:"solar:shield-star-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u041C\u043E\u0434\u0435\u0440\u0430\u0446\u0438\u044F"})]}),S&&t.jsxs(d,{button:!0,component:r,to:"/admin",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:shield-user-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u0410\u0434\u043C\u0438\u043D-\u043F\u0430\u043D\u0435\u043B\u044C"})]})]})]}),t.jsxs(b,{children:[t.jsx(u,{children:"\u041F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430"}),t.jsxs(g,{disablePadding:!0,sx:{width:"100%",overflow:"hidden",px:.5,boxSizing:"border-box"},children:[!f&&t.jsxs(d,{button:!0,component:r,to:"/bugs",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:bug-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u0411\u0430\u0433-\u0440\u0435\u043F\u043E\u0440\u0442\u044B"})]}),t.jsxs(d,{button:!0,component:r,to:"/about",target:"_blank",rel:"noopener noreferrer",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:info-circle-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u041E \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0435"})]}),t.jsxs(d,{button:!0,component:r,to:"/rules",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:document-text-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u041F\u0440\u0430\u0432\u0438\u043B\u0430"})]}),t.jsxs(d,{button:!0,component:r,to:"/messenger",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:code-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u041C\u0435\u0441\u0441\u0435\u043D\u0434\u0436\u0435\u0440"})]}),t.jsxs(d,{button:!0,component:r,to:"/api-docs",children:[t.jsx(s,{children:t.jsx(a,{icon:"solar:code-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"API \u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430\u0446\u0438\u044F"})]}),t.jsx(L,{sx:{my:1,mx:2}}),t.jsxs(d,{button:!0,onClick:async()=>{try{await h()}catch{j("/login")}},children:[t.jsx(s,{sx:{color:p.palette.error.main},children:t.jsx(a,{icon:"solar:logout-3-bold",width:"20",height:"20"})}),t.jsx(n,{primary:"\u0412\u044B\u0439\u0442\u0438",primaryTypographyProps:{sx:{color:p.palette.error.main}}})]})]})]}),t.jsxs(Z,{children:[t.jsx(x,{variant:"caption",display:"block",color:"primary",sx:{fontWeight:500,mb:.5},children:"\u041A-\u041A\u043E\u043D\u043D\u0435\u043A\u0442 v2.8"}),t.jsx(x,{variant:"caption",display:"block",color:"textSecondary",children:"verif@k-connect.ru"})]})]})};export{et as default};
