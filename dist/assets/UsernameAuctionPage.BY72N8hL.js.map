{"version":3,"file":"UsernameAuctionPage.BY72N8hL.js","sources":["../../node_modules/@mui/icons-material/LocalOffer.js","../../node_modules/@mui/icons-material/Schedule.js","../../node_modules/@mui/icons-material/ArrowUpward.js","../../node_modules/@mui/icons-material/InfoOutlined.js","../../src/pages/Economic/UsernameAuctionPage.js"],"sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7\"\n}), 'LocalOffer');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)([/*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8\"\n}, \"0\"), /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\"\n}, \"1\")], 'Schedule');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z\"\n}), 'ArrowUpward');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8\"\n}), 'InfoOutlined');","import React, { useState, useEffect, useContext, useCallback, useRef } from 'react';\nimport {\n  Container,\n  Typography,\n  Box,\n  Paper,\n  Grid,\n  Divider,\n  Card,\n  CardContent,\n  Chip,\n  CircularProgress,\n  List,\n  ListItem,\n  Button,\n  TextField,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Alert,\n  Tabs,\n  Tab,\n  Avatar,\n  IconButton,\n  Snackbar,\n  Badge,\n  alpha,\n  useTheme,\n  InputAdornment,\n  Fade,\n  useMediaQuery,\n  Stack,\n  ListItemText,\n  ListItemAvatar\n} from '@mui/material';\nimport { styled } from '@mui/material/styles';\nimport { AuthContext } from '../../context/AuthContext';\nimport axios from 'axios';\nimport GavelIcon from '@mui/icons-material/Gavel';\nimport TagIcon from '@mui/icons-material/Tag';\nimport LocalOfferIcon from '@mui/icons-material/LocalOffer';\nimport MonetizationOnIcon from '@mui/icons-material/MonetizationOn';\nimport ScheduleIcon from '@mui/icons-material/Schedule';\nimport PersonIcon from '@mui/icons-material/Person';\nimport HistoryIcon from '@mui/icons-material/History';\nimport AddIcon from '@mui/icons-material/Add';\nimport SearchIcon from '@mui/icons-material/Search';\nimport ClearIcon from '@mui/icons-material/Clear';\nimport CloseIcon from '@mui/icons-material/Close';\nimport ArrowUpwardIcon from '@mui/icons-material/ArrowUpward';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport format from 'date-fns/format';\nimport { ru } from 'date-fns/locale';\n\n\nconst PageHeader = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  marginBottom: theme.spacing(4),\n  textAlign: 'center',\n}));\n\nconst AuctionCard = styled(Card)(({ theme }) => ({\n  borderRadius: 16,\n  marginBottom: theme.spacing(2),\n  overflow: 'hidden',\n  transition: 'transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out',\n  background: theme.palette.mode === 'dark' \n    ? alpha(theme.palette.background.paper, 0.8)\n    : alpha(theme.palette.background.paper, 0.9),\n  backdropFilter: 'blur(10px)',\n  border: theme.palette.mode === 'dark' \n    ? '1px solid rgba(255, 255, 255, 0.1)'\n    : '1px solid rgba(208, 188, 255, 0.3)',\n  '&:hover': {\n    transform: 'translateY(-5px)',\n    boxShadow: '0 12px 40px -12px rgba(0,0,0,0.3)',\n  },\n}));\n\nconst SearchBar = styled(TextField)(({ theme }) => ({\n  marginBottom: theme.spacing(3),\n  '& .MuiOutlinedInput-root': {\n    borderRadius: 30,\n    backgroundColor: theme.palette.mode === 'dark' \n      ? alpha(theme.palette.background.paper, 0.6)\n      : alpha(theme.palette.background.paper, 0.7),\n    backdropFilter: 'blur(10px)',\n    transition: 'all 0.3s',\n    '&:hover': {\n      boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n    },\n    '&.Mui-focused': {\n      boxShadow: '0 4px 20px rgba(0,0,0,0.12)',\n    }\n  }\n}));\n\nconst EmptyStateBox = styled(Box)(({ theme }) => ({\n  textAlign: 'center',\n  padding: theme.spacing(6, 2),\n  background: theme.palette.mode === 'dark' \n    ? alpha(theme.palette.background.paper, 0.4)\n    : alpha(theme.palette.background.paper, 0.7),\n  backdropFilter: 'blur(10px)',\n  borderRadius: 16,\n  boxShadow: '0 4px 20px rgba(0,0,0,0.03)',\n  border: theme.palette.mode === 'dark' \n    ? '1px solid rgba(255, 255, 255, 0.08)'\n    : '1px solid rgba(208, 188, 255, 0.2)',\n}));\n\nconst StatusChip = styled(Chip)(({ theme, status }) => {\n  let statusColor = theme.palette.primary.main;\n  \n  if (status === 'active') {\n    statusColor = theme.palette.success.main;\n  } else if (status === 'cancelled') {\n    statusColor = theme.palette.error.main;\n  } else if (status === 'completed') {\n    statusColor = theme.palette.primary.main;\n  }\n  \n  return {\n    borderRadius: 12,\n    fontWeight: 600,\n    fontSize: '0.75rem',\n    backgroundColor: alpha(statusColor, 0.15),\n    color: statusColor,\n    border: `1px solid ${alpha(statusColor, 0.3)}`,\n    '& .MuiChip-label': {\n      padding: '0 8px',\n    }\n  };\n});\n\nconst TabPanel = ({ children, value, index, ...other }) => (\n  <div\n    role=\"tabpanel\"\n    hidden={value !== index}\n    id={`tabpanel-${index}`}\n    aria-labelledby={`tab-${index}`}\n    {...other}\n  >\n    {value === index && <Box sx={{ pt: 3 }}>{children}</Box>}\n  </div>\n);\n\nconst StyledDialog = styled(Dialog)(({ theme }) => ({\n  \"& .MuiDialog-paper\": {\n    borderRadius: 16,\n    background: theme.palette.mode === 'dark' \n      ? 'rgba(18, 18, 18, 0.8)' \n      : 'rgba(255, 255, 255, 0.8)',\n    backdropFilter: 'blur(10px)',\n    boxShadow: '0 8px 32px rgba(0, 0, 0, 0.2)',\n    border: theme.palette.mode === 'dark' \n      ? '1px solid rgba(255, 255, 255, 0.1)'\n      : '1px solid rgba(208, 188, 255, 0.3)',\n  }\n}));\n\nconst DetailDialog = styled(Dialog)(({ theme }) => ({\n  \"& .MuiDialog-paper\": {\n    borderRadius: theme.shape.borderRadius,\n    [theme.breakpoints.down('sm')]: {\n      margin: 0,\n      width: '100%',\n      maxHeight: '100%',\n      height: '100%',\n      maxWidth: '100%',\n      borderRadius: 0,\n    },\n    background: theme.palette.mode === 'dark' \n      ? alpha(theme.palette.background.paper, 0.95)\n      : alpha(theme.palette.background.paper, 0.95),\n    backdropFilter: 'blur(8px)',\n  }\n}));\n\nconst BidHistoryItem = styled(ListItem)(({ theme, isWinning }) => ({\n  borderRadius: theme.shape.borderRadius,\n  marginBottom: theme.spacing(1),\n  background: isWinning \n    ? alpha(theme.palette.success.main, 0.1)\n    : alpha(theme.palette.background.paper, 0.5),\n  border: isWinning\n    ? `1px solid ${alpha(theme.palette.success.main, 0.3)}`\n    : `1px solid ${alpha(theme.palette.divider, 0.1)}`,\n}));\n\nconst UsernameAuctionPage = () => {\n  const { user } = useContext(AuthContext);\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const [loading, setLoading] = useState(true);\n  const [auctions, setAuctions] = useState([]);\n  const [filteredAuctions, setFilteredAuctions] = useState([]);\n  const [completedAuctions, setCompletedAuctions] = useState([]);\n  const [userAuctions, setUserAuctions] = useState([]);\n  const [userBids, setUserBids] = useState([]);\n  const [usernames, setUsernames] = useState([]);\n  const [tabValue, setTabValue] = useState(0);\n  const [createDialogOpen, setCreateDialogOpen] = useState(false);\n  const [bidDialogOpen, setBidDialogOpen] = useState(false);\n  const [selectedAuction, setSelectedAuction] = useState(null);\n  const [detailDialogOpen, setDetailDialogOpen] = useState(false);\n  const [detailAuction, setDetailAuction] = useState(null);\n  const [detailLoading, setDetailLoading] = useState(false);\n  const [loadingButtons, setLoadingButtons] = useState({\n    bid: false,\n    buy: null,\n    accept: null,\n    cancel: null,\n    create: false\n  });\n  const [newAuctionData, setNewAuctionData] = useState({\n    username: '',\n    min_price: '',\n    duration_hours: 24\n  });\n  const [bidAmount, setBidAmount] = useState('');\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'info' });\n  const [errors, setErrors] = useState({});\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchTimeout, setSearchTimeout] = useState(null);\n  const [sessionActive, setSessionActive] = useState(true);\n  const [sessionExpired, setSessionExpired] = useState(false);\n  const sessionStartTime = useRef(Date.now());\n  const broadcastChannel = useRef(null);\n  const lastFetchTime = useRef(null);\n  const updateInterval = useRef(null);\n  const SESSION_TIMEOUT = 60 * 60 * 1000;\n  const MIN_UPDATE_INTERVAL = 15000;\n\n\n  useEffect(() => {\n\n    if (typeof BroadcastChannel !== 'undefined') {\n      broadcastChannel.current = new BroadcastChannel('username_auction_channel');\n      \n\n      broadcastChannel.current.onmessage = (event) => {\n        const { type, data, timestamp } = event.data;\n        \n\n        if (!lastFetchTime.current || timestamp > lastFetchTime.current) {\n          lastFetchTime.current = timestamp;\n          \n\n          if (type === 'auctions') {\n            const activeAuctions = (data.auctions || []).filter(\n              auction => auction.status !== 'completed'\n            );\n            const completed = (data.auctions || []).filter(\n              auction => auction.status === 'completed'\n            );\n            \n            setAuctions(activeAuctions);\n            setFilteredAuctions(activeAuctions);\n            setCompletedAuctions(completed);\n          } else if (type === 'user_auctions') {\n            setUserAuctions(data.active_auctions || []);\n          } else if (type === 'transaction_complete') {\n\n            console.log(`Получено уведомление о транзакции: ${data.type} для аукциона ${data.auctionId}`);\n            \n\n            if (data.type === 'buy_now' || data.type === 'accept_bid' || data.type === 'place_bid') {\n\n              fetchAuctions(true);\n              fetchUserAuctions(true);\n              \n\n              if (detailAuction && detailAuction.id === data.auctionId) {\n                handleOpenAuctionDetail(detailAuction);\n              }\n              \n\n              if (data.source !== 'current_tab') {\n                setSnackbar({\n                  open: true,\n                  message: 'Данные аукционов были обновлены',\n                  severity: 'info'\n                });\n              }\n            }\n          }\n        }\n      };\n    }\n    \n    return () => {\n      if (broadcastChannel.current) {\n        broadcastChannel.current.close();\n      }\n    };\n  }, []);\n\n\n  useEffect(() => {\n    const checkSessionExpiration = () => {\n      const currentTime = Date.now();\n      const sessionDuration = currentTime - sessionStartTime.current;\n      \n      if (sessionDuration >= SESSION_TIMEOUT && !sessionExpired) {\n        setSessionExpired(true);\n        setSessionActive(false);\n        \n\n        setSnackbar({\n          open: true,\n          message: 'Сессия устарела. Пожалуйста, обновите страницу для получения актуальных данных.',\n          severity: 'warning'\n        });\n        \n\n        if (updateInterval.current) {\n          clearInterval(updateInterval.current);\n          updateInterval.current = null;\n        }\n      }\n    };\n    \n\n    const expirationInterval = setInterval(checkSessionExpiration, 60000);\n    \n    return () => clearInterval(expirationInterval);\n  }, [sessionExpired]);\n\n\n  useEffect(() => {\n    if (user && sessionActive) {\n      fetchAuctions();\n      fetchUserAuctions();\n      fetchUsernames();\n      \n\n      updateInterval.current = setInterval(() => {\n        if (sessionActive && document.visibilityState === 'visible') {\n\n          const currentTime = Date.now();\n          if (!lastFetchTime.current || (currentTime - lastFetchTime.current) > MIN_UPDATE_INTERVAL) {\n            fetchAuctions(true);\n            fetchUserAuctions(true);\n          }\n        }\n      }, 30000);\n      \n      return () => {\n        if (updateInterval.current) {\n          clearInterval(updateInterval.current);\n        }\n      };\n    }\n  }, [user, sessionActive]);\n\n\n  useEffect(() => {\n    if (searchTimeout) {\n      clearTimeout(searchTimeout);\n    }\n\n    const timer = setTimeout(() => {\n      if (searchQuery.trim() === '') {\n        setFilteredAuctions(auctions);\n      } else {\n        const query = searchQuery.toLowerCase();\n        const filtered = auctions.filter(auction => \n          auction.username.toLowerCase().includes(query) || \n          (auction.seller && auction.seller.username.toLowerCase().includes(query))\n        );\n        setFilteredAuctions(filtered);\n      }\n    }, 1500);\n\n    setSearchTimeout(timer);\n\n    return () => {\n      if (timer) clearTimeout(timer);\n    };\n  }, [searchQuery, auctions]);\n\n  const broadcastUpdate = (type, data) => {\n    if (broadcastChannel.current) {\n      try {\n\n        const message = {\n          type,\n          data: { ...data, source: 'current_tab' },\n          timestamp: Date.now()\n        };\n        \n        broadcastChannel.current.postMessage(message);\n        console.log('Отправлено обновление в другие вкладки:', type, message);\n      } catch (error) {\n        console.error('Ошибка при отправке обновления:', error);\n      }\n    }\n  };\n\n  const fetchAuctions = async (silent = false) => {\n    if (!sessionActive) return;\n    \n    try {\n      if (!silent) setLoading(true);\n      const response = await axios.get('/api/username/auctions');\n      \n\n      lastFetchTime.current = Date.now();\n      \n      const auctionsData = response.data.auctions || [];\n\n      const activeAuctions = auctionsData.filter(auction => auction.status !== 'completed');\n      const completedAuctionsData = auctionsData.filter(auction => auction.status === 'completed');\n      \n      setAuctions(activeAuctions);\n      setFilteredAuctions(activeAuctions);\n      setCompletedAuctions(completedAuctionsData);\n      \n\n      broadcastUpdate('auctions', response.data);\n    } catch (error) {\n      console.error('Error fetching auctions:', error);\n      if (!silent) {\n        setSnackbar({\n          open: true,\n          message: 'Не удалось загрузить аукционы',\n          severity: 'error'\n        });\n      }\n    } finally {\n      if (!silent) setLoading(false);\n    }\n  };\n\n  const fetchUserAuctions = async (silent = false) => {\n    if (!sessionActive) return;\n    \n    try {\n      const response = await axios.get('/api/username/my-auctions');\n      \n\n      lastFetchTime.current = Date.now();\n      \n\n      setUserAuctions(response.data.active_auctions || []);\n      setUserBids(response.data.my_bids || []);\n      \n\n      const completedAuctionsData = [\n        ...(response.data.completed_auctions || []),\n        ...(response.data.completed_bids || [])\n      ];\n      \n\n      setCompletedAuctions(prev => {\n\n        const existingMap = new Map(prev.map(auction => [auction.id, auction]));\n        \n\n        completedAuctionsData.forEach(auction => {\n          if (!existingMap.has(auction.id)) {\n            existingMap.set(auction.id, auction);\n          }\n        });\n        \n        return Array.from(existingMap.values());\n      });\n      \n\n      broadcastUpdate('user_auctions', response.data);\n    } catch (error) {\n      console.error('Error fetching user auctions:', error);\n      if (!silent) {\n        setSnackbar({\n          open: true,\n          message: 'Не удалось загрузить информацию о ваших аукционах',\n          severity: 'error'\n        });\n      }\n    }\n  };\n\n  const fetchUsernames = async (silent = false) => {\n    if (!sessionActive) return;\n    \n    try {\n      const response = await axios.get('/api/username/purchased');\n      \n\n      lastFetchTime.current = Date.now();\n      \n      setUsernames(response.data.usernames || []);\n      \n\n      broadcastUpdate('usernames', response.data);\n    } catch (error) {\n      console.error('Error fetching usernames:', error);\n      if (!silent) {\n        setSnackbar({\n          open: true,\n          message: 'Не удалось загрузить ваши юзернеймы',\n          severity: 'error'\n        });\n      }\n    }\n  };\n\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n\n  const handleCreateAuction = async () => {\n    const errors = {};\n    if (!newAuctionData.username) errors.username = 'Выберите юзернейм';\n    if (!newAuctionData.min_price) {\n      errors.min_price = 'Введите минимальную цену';\n    } else if (isNaN(newAuctionData.min_price) || parseInt(newAuctionData.min_price) <= 0) {\n      errors.min_price = 'Цена должна быть положительным числом';\n    } else if (parseInt(newAuctionData.min_price) > 15000000) {\n      errors.min_price = 'Максимальная начальная цена: 15 000 000 баллов';\n    }\n    \n    if (Object.keys(errors).length > 0) {\n      setErrors(errors);\n      return;\n    }\n    \n    setErrors({});\n    setLoadingButtons(prev => ({ ...prev, create: true }));\n    \n    try {\n      const response = await axios.post('/api/username/create-auction', {\n        username: newAuctionData.username,\n        min_price: parseInt(newAuctionData.min_price),\n        duration_hours: parseFloat(newAuctionData.duration_hours)\n      });\n      \n      if (response.data.success) {\n        setSnackbar({\n          open: true,\n          message: 'Аукцион успешно создан!',\n          severity: 'success'\n        });\n        \n\n        fetchAuctions();\n        fetchUserAuctions();\n        \n\n        setCreateDialogOpen(false);\n        setNewAuctionData({\n          username: '',\n          min_price: '',\n          duration_hours: 24\n        });\n      }\n    } catch (error) {\n      console.error('Error creating auction:', error);\n      setSnackbar({\n        open: true,\n        message: error.response?.data?.message || 'Ошибка при создании аукциона',\n        severity: 'error'\n      });\n    } finally {\n      setLoadingButtons(prev => ({ ...prev, create: false }));\n    }\n  };\n\n  const handlePlaceBid = async () => {\n    if (!bidAmount || isNaN(bidAmount) || parseInt(bidAmount) <= 0) {\n      setErrors({ bidAmount: 'Введите корректную сумму ставки' });\n      return;\n    }\n    \n    setLoadingButtons(prev => ({ ...prev, bid: true }));\n    \n    if (!selectedAuction) {\n      setSnackbar({\n        open: true,\n        message: 'Не выбран аукцион, обновите страницу',\n        severity: 'warning'\n      });\n      setLoadingButtons(prev => ({ ...prev, bid: false }));\n      return;\n    }\n    \n    if (selectedAuction.status === 'completed') {\n      setSnackbar({\n        open: true,\n        message: 'Аукцион уже завершен, ставки больше не принимаются',\n        severity: 'warning'\n      });\n      setLoadingButtons(prev => ({ ...prev, bid: false }));\n      setBidDialogOpen(false);\n      return;\n    }\n\n    const transactionId = `bid-${selectedAuction.id}-${Date.now()}`;\n    \n    if (localStorage.getItem(transactionId)) {\n      console.log('Операция уже выполняется, предотвращение дублирования');\n      setLoadingButtons(prev => ({ ...prev, bid: false }));\n      return;\n    }\n    \n    localStorage.setItem(transactionId, 'pending');\n    \n    setErrors({});\n    try {\n      const response = await axios.post(`/api/username/auctions/${selectedAuction.id}/bid`, {\n        amount: parseInt(bidAmount),\n        transaction_id: transactionId\n      });\n      \n      if (response.data.success) {\n        localStorage.removeItem(transactionId);\n        \n        lastFetchTime.current = Date.now();\n        broadcastUpdate('transaction_complete', { \n          type: 'place_bid', \n          auctionId: selectedAuction.id,\n          result: response.data \n        });\n        \n        setSnackbar({\n          open: true,\n          message: 'Ставка успешно размещена!',\n          severity: 'success'\n        });\n        \n        fetchAuctions();\n        fetchUserAuctions();\n        \n        setBidDialogOpen(false);\n        setBidAmount('');\n        setSelectedAuction(null);\n      }\n    } catch (error) {\n      console.error('Error placing bid:', error);\n      \n      localStorage.removeItem(transactionId);\n      \n      setSnackbar({\n        open: true,\n        message: error.response?.data?.message || 'Ошибка при размещении ставки',\n        severity: 'error'\n      });\n    } finally {\n      setLoadingButtons(prev => ({ ...prev, bid: false }));\n    }\n  };\n\n  const handleCancelAuction = async (auctionId) => {\n    setLoadingButtons(prev => ({ ...prev, cancel: auctionId }));\n    \n    try {\n      const response = await axios.post(`/api/username/auctions/${auctionId}/cancel`);\n      \n      if (response.data.success) {\n        setSnackbar({\n          open: true,\n          message: 'Аукцион успешно отменен',\n          severity: 'success'\n        });\n        \n        fetchAuctions();\n        fetchUserAuctions();\n      }\n    } catch (error) {\n      console.error('Error cancelling auction:', error);\n      setSnackbar({\n        open: true,\n        message: error.response?.data?.message || 'Ошибка при отмене аукциона',\n        severity: 'error'\n      });\n    } finally {\n      setLoadingButtons(prev => ({ ...prev, cancel: null }));\n    }\n  };\n\n  const formatTimeRemaining = (endDate) => {\n    const end = new Date(endDate);\n    const now = new Date();\n    const diffMs = end - now;\n    \n    if (diffMs <= 0) return \"Завершен\";\n    \n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n    const diffHours = Math.floor((diffMs % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n    const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));\n    \n    if (diffDays > 0) {\n      return `${diffDays} д ${diffHours} ч`;\n    } else if (diffHours > 0) {\n      return `${diffHours} ч ${diffMinutes} мин`;\n    } else {\n      return `${diffMinutes} мин`;\n    }\n  };\n\n  const handleSearchChange = (event) => {\n    setSearchQuery(event.target.value);\n  };\n\n  const clearSearch = () => {\n    setSearchQuery('');\n    setFilteredAuctions(auctions);\n  };\n\n  const handleOpenAuctionDetail = async (auction) => {\n    setDetailAuction({ ...auction, bids: [] });\n    setDetailDialogOpen(true);\n    setDetailLoading(true);\n    \n    try {\n\n      const response = await axios.get(`/api/username/auctions/${auction.id}`);\n      if (response.data.success) {\n        setDetailAuction(response.data.auction);\n      }\n    } catch (error) {\n      console.error('Error fetching auction details:', error);\n      setSnackbar({\n        open: true,\n        message: 'Не удалось загрузить детали аукциона',\n        severity: 'error'\n      });\n    } finally {\n      setDetailLoading(false);\n    }\n  };\n\n  const handleCloseAuctionDetail = () => {\n    setDetailDialogOpen(false);\n    setTimeout(() => setDetailAuction(null), 300);\n  };\n\n  const formatDate = (dateString) => {\n    try {\n      const date = new Date(dateString);\n      return format(date, 'dd MMM yyyy, HH:mm', { locale: ru });\n    } catch (e) {\n      return dateString;\n    }\n  };\n\n  const handleBuyNow = async (auctionId) => {\n    setLoadingButtons(prev => ({ ...prev, buy: auctionId }));\n    \n    if (!auctionId) {\n      setSnackbar({\n        open: true,\n        message: 'Не выбран аукцион, обновите страницу',\n        severity: 'warning'\n      });\n      setLoadingButtons(prev => ({ ...prev, buy: null }));\n      return;\n    }\n\n    const transactionId = `buy-${auctionId}-${Date.now()}`;\n    \n    if (localStorage.getItem(transactionId)) {\n      console.log('Операция уже выполняется, предотвращение дублирования');\n      setLoadingButtons(prev => ({ ...prev, buy: null }));\n      return;\n    }\n    \n    localStorage.setItem(transactionId, 'pending');\n    \n    try {\n      const response = await axios.post(`/api/username/auctions/${auctionId}/buy-now`, {\n        transaction_id: transactionId\n      });\n      \n      if (response.data.success) {\n        localStorage.removeItem(transactionId);\n        \n        lastFetchTime.current = Date.now();\n        broadcastUpdate('transaction_complete', { \n          type: 'buy_now', \n          auctionId,\n          result: response.data \n        });\n        \n        setSnackbar({\n          open: true,\n          message: response.data.message || 'Юзернейм успешно куплен!',\n          severity: 'success'\n        });\n        \n        fetchAuctions();\n        fetchUserAuctions();\n      }\n    } catch (error) {\n      console.error('Error buying username:', error);\n      \n      localStorage.removeItem(transactionId);\n      \n      setSnackbar({\n        open: true,\n        message: error.response?.data?.message || 'Ошибка при покупке юзернейма',\n        severity: 'error'\n      });\n    } finally {\n      setLoadingButtons(prev => ({ ...prev, buy: null }));\n    }\n  };\n\n  const handleAcceptBid = async (auction) => {\n    if (!auction || !auction.id) return;\n    \n    setLoadingButtons(prev => ({ ...prev, accept: auction.id }));\n    \n    if (!auction.id) {\n      setSnackbar({\n        open: true,\n        message: 'Не выбран аукцион, обновите страницу',\n        severity: 'warning'\n      });\n      setLoadingButtons(prev => ({ ...prev, accept: null }));\n      return;\n    }\n\n    const transactionId = `accept-bid-${auction.id}-${Date.now()}`;\n    \n    if (localStorage.getItem(transactionId)) {\n      console.log('Операция уже выполняется, предотвращение дублирования');\n      setLoadingButtons(prev => ({ ...prev, accept: null }));\n      return;\n    }\n    \n    localStorage.setItem(transactionId, 'pending');\n    \n    try {\n      const response = await axios.post(`/api/username/auctions/${auction.id}/accept-bid`, {\n        transaction_id: transactionId\n      });\n      \n      if (response.data.success) {\n        localStorage.removeItem(transactionId);\n        \n        lastFetchTime.current = Date.now();\n        broadcastUpdate('transaction_complete', { \n          type: 'accept_bid', \n          auctionId: auction.id,\n          result: response.data \n        });\n        \n        setSnackbar({\n          open: true,\n          message: response.data.message || 'Ставка успешно принята!',\n          severity: 'success'\n        });\n        \n        fetchAuctions();\n        fetchUserAuctions();\n      }\n    } catch (error) {\n      console.error('Error accepting bid:', error);\n      \n      localStorage.removeItem(transactionId);\n      \n      setSnackbar({\n        open: true,\n        message: error.response?.data?.message || 'Ошибка при принятии ставки',\n        severity: 'error'\n      });\n    } finally {\n      setLoadingButtons(prev => ({ ...prev, accept: null }));\n    }\n  };\n\n  const checkSessionStatus = () => {\n    if (isMobile) {\n      return true;\n    }\n    \n    if (sessionExpired) {\n      console.log('Сессия истекла, запрос отклонен');\n      return false;\n    }\n    \n    const currentTime = Date.now();\n    if (lastFetchTime.current && (currentTime - lastFetchTime.current) < MIN_UPDATE_INTERVAL) {\n      console.log('Последний запрос был слишком недавно, ожидаем...');\n      return false;\n    }\n    \n    lastFetchTime.current = currentTime;\n    \n    if (document.visibilityState !== 'visible') {\n      console.log('Страница не видима, запрос отклонен');\n      return false;\n    }\n    \n    return true;\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4, mb: 10 }}>\n      <PageHeader>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom fontWeight=\"bold\">\n          Аукцион Юзернеймов\n        </Typography>\n        <Typography variant=\"body1\" color=\"textSecondary\" sx={{ mb: 2, maxWidth: 600 }}>\n          Участвуйте в аукционах на уникальные юзернеймы или выставляйте свои собственные\n        </Typography>\n      </PageHeader>\n\n      <Box sx={{ \n        mb: 3, \n        display: 'flex', \n        justifyContent: 'space-between',\n        flexWrap: 'wrap',\n        gap: 2\n      }}>\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          startIcon={<AddIcon />}\n          onClick={() => setCreateDialogOpen(true)}\n          sx={{ \n            borderRadius: 2,\n            px: 2\n          }}\n        >\n          Выставить юзернейм на аукцион\n        </Button>\n      </Box>\n\n      <Box sx={{ mb: 2 }}>\n        <Tabs \n          value={tabValue} \n          onChange={handleTabChange} \n          variant=\"fullWidth\"\n          sx={{\n            '& .MuiTab-root': {\n              textTransform: 'none',\n              fontWeight: 600,\n              fontSize: '1rem',\n            }\n          }}\n        >\n          <Tab \n            icon={<GavelIcon />} \n            iconPosition=\"start\" \n            label=\"Активные аукционы\" \n          />\n          <Tab \n            icon={<PersonIcon />} \n            iconPosition=\"start\" \n            label=\"Мои аукционы\" \n          />\n          <Tab \n            icon={<HistoryIcon />} \n            iconPosition=\"start\" \n            label=\"Мои ставки\" \n          />\n          <Tab \n            icon={<HistoryIcon />} \n            iconPosition=\"start\" \n            label=\"Завершенные\" \n          />\n        </Tabs>\n      </Box>\n\n      {/* Tab contents */}\n      <TabPanel value={tabValue} index={0}>\n        {tabValue === 0 && (\n          <Fade in={true} timeout={500}>\n            <Box>\n              {/* Info Banner about the new system */}\n              <Alert \n                severity=\"info\" \n                sx={{ \n                  mb: 3, \n                  borderRadius: 2,\n                  '& .MuiAlert-message': { width: '100%' }\n                }}\n              >\n                <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\n                  Обновление системы аукционов\n                </Typography>\n                <Typography variant=\"body2\">\n                  Теперь при размещении ставки баллы резервируются, а при перебитии возвращаются автоматически.\n                  Также появилась возможность досрочного принятия ставки продавцом!\n                </Typography>\n              </Alert>\n              \n              <SearchBar\n                fullWidth\n                variant=\"outlined\"\n                placeholder=\"Поиск по юзернейму или продавцу...\"\n                value={searchQuery}\n                onChange={handleSearchChange}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchIcon color=\"action\" />\n                    </InputAdornment>\n                  ),\n                  endAdornment: searchQuery && (\n                    <InputAdornment position=\"end\">\n                      <IconButton size=\"small\" onClick={clearSearch}>\n                        <ClearIcon fontSize=\"small\" />\n                      </IconButton>\n                    </InputAdornment>\n                  )\n                }}\n              />\n            </Box>\n          </Fade>\n        )}\n        \n        {loading ? (\n          <Box display=\"flex\" justifyContent=\"center\" my={4}>\n            <CircularProgress />\n          </Box>\n        ) : filteredAuctions.length === 0 ? (\n          <EmptyStateBox>\n            <Typography variant=\"h6\" gutterBottom>\n              {searchQuery ? 'По вашему запросу ничего не найдено' : 'В данный момент нет активных аукционов'}\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              {searchQuery ? 'Попробуйте изменить параметры поиска' : 'Будьте первым, кто выставит свой юзернейм на аукцион!'}\n            </Typography>\n          </EmptyStateBox>\n        ) : (\n          <Grid container spacing={2}>\n            {filteredAuctions.map((auction) => (\n              <Grid item xs={12} key={auction.id}>\n                <Fade in={true} timeout={300}>\n                  <AuctionCard \n                    elevation={2}\n                    onClick={() => handleOpenAuctionDetail(auction)}\n                    sx={{ cursor: 'pointer' }}\n                  >\n                    <CardContent sx={{ p: 3 }}>\n                      <Grid container spacing={2}>\n                        <Grid item xs={12} sm={8}>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                            <TagIcon sx={{ mr: 1, color: 'primary.main' }} />\n                            <Typography variant=\"h5\" component=\"h2\" fontWeight=\"bold\">\n                              @{auction.username}\n                            </Typography>\n                            <StatusChip \n                              label={auction.status || \"active\"}\n                              status={auction.status || \"active\"}\n                              size=\"small\"\n                              sx={{ ml: 2 }}\n                            />\n                          </Box>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                            <PersonIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'text.secondary' }} />\n                            <Typography variant=\"body2\" color=\"text.secondary\">\n                              Продавец: {auction.seller ? auction.seller.username : 'Unknown'}\n                            </Typography>\n                          </Box>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                            <ScheduleIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'text.secondary' }} />\n                            <Typography variant=\"body2\" color=\"text.secondary\">\n                              Осталось: {auction.remaining_time_formatted || formatTimeRemaining(auction.end_time)}\n                            </Typography>\n                          </Box>\n                          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                            <LocalOfferIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'text.secondary' }} />\n                            <Typography variant=\"body2\" color=\"text.secondary\">\n                              Ставок: {auction.bids_count || (auction.bids ? auction.bids.length : 0)}\n                            </Typography>\n                          </Box>\n                        </Grid>\n                        <Grid item xs={12} sm={4} sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', justifyContent: 'center' }}>\n                          <Typography variant=\"h6\" color=\"primary\" fontWeight=\"bold\" sx={{ mb: 1 }}>\n                            {auction.current_price || auction.highest_bid || auction.min_price} баллов\n                          </Typography>\n                          {auction.status === 'completed' ? (\n                            <Button \n                              variant=\"outlined\"\n                              disabled={true}\n                              fullWidth\n                              sx={{ \n                                borderRadius: 2\n                              }}\n                            >\n                              Аукцион завершен\n                            </Button>\n                          ) : (\n                            <Button \n                              variant=\"contained\" \n                              color=\"primary\"\n                              fullWidth\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                setSelectedAuction(auction);\n                                setBidDialogOpen(true);\n                              }}\n                              disabled={auction.seller_id === user?.id || auction.seller?.id === user?.id || loadingButtons.buy === auction.id}\n                              sx={{ \n                                borderRadius: 2\n                              }}\n                              startIcon={loadingButtons.buy === auction.id ? <CircularProgress size={20} /> : null}\n                            >\n                              {loadingButtons.buy === auction.id ? 'Обработка...' : 'Сделать ставку'}\n                            </Button>\n                          )}\n                        </Grid>\n                      </Grid>\n                    </CardContent>\n                  </AuctionCard>\n                </Fade>\n              </Grid>\n            ))}\n          </Grid>\n        )}\n      </TabPanel>\n\n      <TabPanel value={tabValue} index={1}>\n        {userAuctions.length === 0 ? (\n          <EmptyStateBox>\n            <Typography variant=\"h6\" gutterBottom>\n              У вас нет активных аукционов\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mb: 3 }}>\n              Выставите свой юзернейм на аукцион и заработайте баллы!\n            </Typography>\n            <Button \n              variant=\"contained\" \n              color=\"primary\" \n              startIcon={<AddIcon />}\n              onClick={() => setCreateDialogOpen(true)}\n              sx={{ \n                borderRadius: 2,\n                px: 2\n              }}\n            >\n              Создать аукцион\n            </Button>\n          </EmptyStateBox>\n        ) : (\n          <Grid container spacing={2}>\n            {userAuctions.map((auction) => (\n              <Grid item xs={12} key={auction.id}>\n                <Fade in={true} timeout={300}>\n                  <AuctionCard \n                    elevation={2}\n                    onClick={() => handleOpenAuctionDetail(auction)}\n                    sx={{ cursor: 'pointer' }}\n                  >\n                    <CardContent sx={{ p: 3 }}>\n                      <Grid container spacing={2}>\n                        <Grid item xs={12} sm={8}>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                            <TagIcon sx={{ mr: 1, color: 'primary.main' }} />\n                            <Typography variant=\"h5\" component=\"h2\" fontWeight=\"bold\">\n                              @{auction.username}\n                            </Typography>\n                            <StatusChip \n                              label={auction.status || \"active\"}\n                              status={auction.status || \"active\"}\n                              size=\"small\"\n                              sx={{ ml: 2 }}\n                            />\n                          </Box>\n                          {(auction.status === 'active' || !auction.status) && (\n                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                              <ScheduleIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'text.secondary' }} />\n                              <Typography variant=\"body2\" color=\"text.secondary\">\n                                Осталось: {auction.remaining_time_formatted || formatTimeRemaining(auction.end_time)}\n                              </Typography>\n                            </Box>\n                          )}\n                          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                            <LocalOfferIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'text.secondary' }} />\n                            <Typography variant=\"body2\" color=\"text.secondary\">\n                              Ставок: {auction.bids_count || (auction.bids ? auction.bids.length : 0)}\n                            </Typography>\n                          </Box>\n                          {auction.status === 'completed' && auction.winner_id && (\n                            <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\n                              <PersonIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'success.main' }} />\n                              <Typography variant=\"body2\" color=\"success.main\" fontWeight=\"medium\">\n                                Победитель: {auction.winner ? auction.winner.username : 'Unknown'}\n                              </Typography>\n                            </Box>\n                          )}\n                        </Grid>\n                        <Grid item xs={12} sm={4} sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', justifyContent: 'center' }}>\n                          <Typography variant=\"h6\" color=\"primary\" fontWeight=\"bold\" sx={{ mb: 1 }}>\n                            {auction.status === 'completed' && auction.final_price \n                              ? `${auction.final_price} баллов` \n                              : `${auction.current_price || auction.highest_bid || auction.min_price} баллов`}\n                          </Typography>\n                          {(auction.status === 'active' || !auction.status) && (\n                            <>\n                              {auction.bids_count > 0 && (\n                                <Button \n                                  variant=\"contained\" \n                                  color=\"success\"\n                                  sx={{ \n                                    borderRadius: 2,\n                                    mb: 1\n                                  }}\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    handleAcceptBid(auction);\n                                  }}\n                                  disabled={loadingButtons.accept === auction.id}\n                                  startIcon={loadingButtons.accept === auction.id ? <CircularProgress size={20} color=\"inherit\" /> : null}\n                                >\n                                  {loadingButtons.accept === auction.id ? 'Принятие...' : 'Принять ставку'}\n                                </Button>\n                              )}\n                              <Button \n                                variant=\"outlined\" \n                                color=\"error\"\n                                sx={{ \n                                  borderRadius: 2\n                                }}\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  handleCancelAuction(auction.id);\n                                }}\n                                disabled={loadingButtons.cancel === auction.id}\n                                startIcon={loadingButtons.cancel === auction.id ? <CircularProgress size={20} color=\"error\" /> : null}\n                              >\n                                {loadingButtons.cancel === auction.id ? 'Отмена...' : 'Отменить'}\n                              </Button>\n                            </>\n                          )}\n                        </Grid>\n                      </Grid>\n                    </CardContent>\n                  </AuctionCard>\n                </Fade>\n              </Grid>\n            ))}\n          </Grid>\n        )}\n      </TabPanel>\n\n      <TabPanel value={tabValue} index={2}>\n        {userBids.length === 0 ? (\n          <EmptyStateBox>\n            <Typography variant=\"h6\" gutterBottom>\n              У вас нет активных ставок\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mb: 3 }}>\n              Поучаствуйте в аукционах, чтобы получить уникальный юзернейм!\n            </Typography>\n            <Button \n              variant=\"contained\" \n              color=\"primary\"\n              onClick={() => setTabValue(0)}\n              sx={{ \n                borderRadius: 2,\n                px: 2\n              }}\n            >\n              Смотреть аукционы\n            </Button>\n          </EmptyStateBox>\n        ) : (\n          <Grid container spacing={2}>\n            {userBids.map((bid) => (\n              <Grid item xs={12} key={bid.id}>\n                <Fade in={true} timeout={300}>\n                  <AuctionCard \n                    elevation={2}\n                    onClick={() => {\n                      const auctionObj = {\n                        id: bid.id,\n                        username: bid.username,\n                        min_price: 0,\n                        highest_bid: bid.highest_bid,\n                        status: bid.status\n                      };\n                      handleOpenAuctionDetail(auctionObj);\n                    }}\n                    sx={{ cursor: 'pointer' }}\n                  >\n                    <CardContent sx={{ p: 3 }}>\n                      <Grid container spacing={2}>\n                        <Grid item xs={12} sm={8}>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                            <TagIcon sx={{ mr: 1, color: 'primary.main' }} />\n                            <Typography variant=\"h5\" component=\"h2\" fontWeight=\"bold\">\n                              @{bid.username}\n                            </Typography>\n                            <StatusChip \n                              label={bid.status || \"active\"}\n                              status={bid.status || \"active\"}\n                              size=\"small\"\n                              sx={{ ml: 2 }}\n                            />\n                          </Box>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                            <MonetizationOnIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'text.secondary' }} />\n                            <Typography variant=\"body2\" color=\"text.secondary\">\n                              Ваша ставка: <b>{bid.my_bid} баллов</b>\n                            </Typography>\n                          </Box>\n                          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                            <ScheduleIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'text.secondary' }} />\n                            <Typography variant=\"body2\" color=\"text.secondary\">\n                              Осталось: {bid.remaining_time_formatted || formatTimeRemaining(bid.end_time)}\n                            </Typography>\n                          </Box>\n                          {bid.am_winning && (\n                            <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\n                              <GavelIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'success.main' }} />\n                              <Typography variant=\"body2\" color=\"success.main\" fontWeight=\"bold\">\n                                Вы лидируете!\n                              </Typography>\n                            </Box>\n                          )}\n                        </Grid>\n                        <Grid item xs={12} sm={4} sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', justifyContent: 'center' }}>\n                          <Typography variant=\"h6\" color=\"primary\" fontWeight=\"bold\" sx={{ mb: 1 }}>\n                            Текущая: {bid.highest_bid} баллов\n                          </Typography>\n                          {bid.status === 'completed' ? (\n                            <Button \n                              variant=\"outlined\"\n                              disabled={true}\n                              fullWidth\n                              sx={{ \n                                borderRadius: 2\n                              }}\n                            >\n                              Аукцион завершен\n                            </Button>\n                          ) : (\n                            <Button \n                              variant=\"contained\" \n                              color=\"primary\"\n                              fullWidth\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                const auctionObj = {\n                                  id: bid.id,\n                                  username: bid.username,\n                                  min_price: 0,\n                                  highest_bid: bid.highest_bid,\n                                  status: bid.status\n                                };\n                                setSelectedAuction(auctionObj);\n                                setBidDialogOpen(true);\n                              }}\n                              disabled={loadingButtons.bid}\n                              sx={{ \n                                borderRadius: 2\n                              }}\n                            >\n                              Повысить ставку\n                            </Button>\n                          )}\n                        </Grid>\n                      </Grid>\n                    </CardContent>\n                  </AuctionCard>\n                </Fade>\n              </Grid>\n            ))}\n          </Grid>\n        )}\n      </TabPanel>\n\n      {/* Tab for completed auctions */}\n      <TabPanel value={tabValue} index={3}>\n        {completedAuctions.length === 0 ? (\n          <EmptyStateBox>\n            <Typography variant=\"h6\" gutterBottom>\n              Нет завершенных аукционов\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" sx={{ mb: 3 }}>\n              Завершенные аукционы будут отображаться здесь.\n            </Typography>\n            <Button \n              variant=\"contained\" \n              color=\"primary\"\n              onClick={() => setTabValue(0)}\n              sx={{ \n                borderRadius: 2,\n                px: 2\n              }}\n            >\n              К активным аукционам\n            </Button>\n          </EmptyStateBox>\n        ) : (\n          <Grid container spacing={2}>\n            {completedAuctions.map((auction) => (\n              <Grid item xs={12} key={auction.id}>\n                <Fade in={true} timeout={300}>\n                  <AuctionCard \n                    elevation={2}\n                    onClick={() => handleOpenAuctionDetail(auction)}\n                    sx={{ cursor: 'pointer' }}\n                  >\n                    <CardContent sx={{ p: 3 }}>\n                      <Grid container spacing={2}>\n                        <Grid item xs={12} sm={8}>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                            <TagIcon sx={{ mr: 1, color: 'primary.main' }} />\n                            <Typography variant=\"h5\" component=\"h2\" fontWeight=\"bold\">\n                              @{auction.username}\n                            </Typography>\n                            <StatusChip \n                              label=\"completed\"\n                              status=\"completed\"\n                              size=\"small\"\n                              sx={{ ml: 2 }}\n                            />\n                          </Box>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                            <PersonIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'text.secondary' }} />\n                            <Typography variant=\"body2\" color=\"text.secondary\">\n                              Продавец: {auction.seller ? auction.seller.username : 'Unknown'}\n                            </Typography>\n                          </Box>\n                          <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                            <ScheduleIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'text.secondary' }} />\n                            <Typography variant=\"body2\" color=\"text.secondary\">\n                              Завершен: {formatDate(auction.completed_at || auction.end_time)}\n                            </Typography>\n                          </Box>\n                          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                            <LocalOfferIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'text.secondary' }} />\n                            <Typography variant=\"body2\" color=\"text.secondary\">\n                              Ставок: {auction.bids_count || (auction.bids ? auction.bids.length : 0)}\n                            </Typography>\n                          </Box>\n                          {auction.winner_id && (\n                            <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\n                              <PersonIcon sx={{ mr: 1, fontSize: '0.875rem', color: 'success.main' }} />\n                              <Typography variant=\"body2\" color=\"success.main\" fontWeight=\"medium\">\n                                Победитель: {auction.winner ? auction.winner.username : 'Unknown'}\n                              </Typography>\n                            </Box>\n                          )}\n                        </Grid>\n                        <Grid item xs={12} sm={4} sx={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', justifyContent: 'center' }}>\n                          <Typography variant=\"h6\" color=\"primary\" fontWeight=\"bold\">\n                            {auction.final_price || auction.current_price || auction.highest_bid || auction.min_price} баллов\n                          </Typography>\n                        </Grid>\n                      </Grid>\n                    </CardContent>\n                  </AuctionCard>\n                </Fade>\n              </Grid>\n            ))}\n          </Grid>\n        )}\n      </TabPanel>\n\n      {/* Dialog for creating a new auction */}\n      <StyledDialog\n        open={createDialogOpen}\n        onClose={() => setCreateDialogOpen(false)}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>Создать новый аукцион</DialogTitle>\n        <DialogContent sx={{ pb: 4 }}>\n          <Box sx={{ mb: 3, mt: 2 }}>\n            <Typography variant=\"body1\" gutterBottom>\n              Выберите юзернейм для аукциона:\n            </Typography>\n            \n            <TextField\n              select\n              fullWidth\n              label=\"Юзернейм\"\n              value={newAuctionData.username}\n              onChange={(e) => setNewAuctionData({...newAuctionData, username: e.target.value})}\n              error={!!errors.username}\n              helperText={errors.username}\n              margin=\"normal\"\n              variant=\"outlined\"\n              SelectProps={{\n                native: true,\n              }}\n            >\n              <option value=\"\">Выберите юзернейм</option>\n              {usernames.filter(u => !u.is_active).map((username) => (\n                <option key={username.id} value={username.username}>\n                  @{username.username}\n                </option>\n              ))}\n            </TextField>\n            \n            {usernames.filter(u => !u.is_active).length === 0 && (\n              <Alert severity=\"info\" sx={{ mt: 2 }}>\n                У вас нет неактивных юзернеймов для аукциона. Вы не можете выставить активный юзернейм.\n              </Alert>\n            )}\n            \n            <TextField\n              fullWidth\n              label=\"Минимальная цена (баллы)\"\n              type=\"number\"\n              value={newAuctionData.min_price}\n              onChange={(e) => setNewAuctionData({...newAuctionData, min_price: e.target.value})}\n              error={!!errors.min_price}\n              helperText={errors.min_price || \"Максимальная начальная цена: 15 000 000 баллов\"}\n              margin=\"normal\"\n              variant=\"outlined\"\n              InputProps={{ \n                inputProps: { \n                  min: 1,\n                  max: 15000\n                } \n              }}\n            />\n            \n            <TextField\n              select\n              fullWidth\n              label=\"Длительность аукциона\"\n              value={newAuctionData.duration_hours}\n              onChange={(e) => setNewAuctionData({...newAuctionData, duration_hours: parseFloat(e.target.value)})}\n              margin=\"normal\"\n              variant=\"outlined\"\n              SelectProps={{\n                native: true,\n              }}\n            >\n              <option value={0.5}>30 минут</option>\n              <option value={24}>24 часа</option>\n              <option value={48}>2 дня</option>\n              <option value={72}>3 дня</option>\n              <option value={168}>1 неделя</option>\n            </TextField>\n          </Box>\n        </DialogContent>\n        <DialogActions sx={{ px: 3, pb: 3 }}>\n          <Button \n            onClick={() => setCreateDialogOpen(false)}\n            disabled={loadingButtons.create}\n          >\n            Отмена\n          </Button>\n          <Button \n            variant=\"contained\" \n            onClick={handleCreateAuction}\n            disabled={!newAuctionData.username || !newAuctionData.min_price || loadingButtons.create}\n            startIcon={loadingButtons.create ? <CircularProgress size={20} /> : null}\n          >\n            {loadingButtons.create ? 'Создание...' : 'Создать аукцион'}\n          </Button>\n        </DialogActions>\n      </StyledDialog>\n      \n      {/* Dialog for placing a bid */}\n      <StyledDialog\n        open={bidDialogOpen}\n        onClose={() => !loadingButtons.bid && setBidDialogOpen(false)}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogTitle>Сделать ставку</DialogTitle>\n        <DialogContent sx={{ pb: 4 }}>\n          {selectedAuction && (\n            <Box sx={{ mb: 3, mt: 2 }}>\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                <TagIcon sx={{ mr: 1, color: 'primary.main' }} />\n                <Typography variant=\"h6\" component=\"h2\">\n                  @{selectedAuction.username}\n                </Typography>\n                {selectedAuction.status && (\n                  <StatusChip \n                    label={selectedAuction.status}\n                    status={selectedAuction.status}\n                    size=\"small\"\n                    sx={{ ml: 2 }}\n                  />\n                )}\n              </Box>\n              \n              <Typography variant=\"body2\" gutterBottom sx={{ mb: 2 }}>\n                Текущая ставка: <b>{selectedAuction.current_price || selectedAuction.highest_bid || selectedAuction.min_price} баллов</b>\n              </Typography>\n              \n              {selectedAuction.status === 'completed' ? (\n                <Alert severity=\"info\" sx={{ mb: 2 }}>\n                  Этот аукцион уже завершен, ставки больше не принимаются.\n                </Alert>\n              ) : (\n                <TextField\n                  fullWidth\n                  label=\"Ваша ставка (баллы)\"\n                  type=\"number\"\n                  value={bidAmount}\n                  onChange={(e) => setBidAmount(e.target.value)}\n                  error={!!errors.bidAmount}\n                  helperText={errors.bidAmount || `Минимальная ставка: ${(parseInt(selectedAuction.current_price || selectedAuction.highest_bid || selectedAuction.min_price) + 1)} баллов`}\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  disabled={loadingButtons.bid || selectedAuction.status === 'completed'}\n                  InputProps={{ \n                    inputProps: { \n                      min: parseInt(selectedAuction.current_price || selectedAuction.highest_bid || selectedAuction.min_price) + 1 \n                    } \n                  }}\n                />\n              )}\n            </Box>\n          )}\n        </DialogContent>\n        <DialogActions sx={{ px: 3, pb: 3 }}>\n          <Button \n            onClick={() => setBidDialogOpen(false)}\n            disabled={loadingButtons.bid}\n          >\n            Отмена\n          </Button>\n          {selectedAuction && selectedAuction.status !== 'completed' && (\n            <Button \n              variant=\"contained\" \n              onClick={handlePlaceBid}\n              disabled={!bidAmount || isNaN(bidAmount) || \n                      parseInt(bidAmount) <= parseInt(selectedAuction?.current_price || \n                      selectedAuction?.highest_bid || \n                      selectedAuction?.min_price) || \n                      loadingButtons.bid}\n              startIcon={loadingButtons.bid ? <CircularProgress size={20} /> : null}\n            >\n              {loadingButtons.bid ? 'Обработка...' : 'Сделать ставку'}\n            </Button>\n          )}\n        </DialogActions>\n      </StyledDialog>\n      \n      {/* Detail Dialog */}\n      <DetailDialog\n        open={detailDialogOpen}\n        onClose={handleCloseAuctionDetail}\n        fullWidth\n        maxWidth=\"md\"\n        fullScreen={isMobile}\n      >\n        {detailAuction && (\n          <>\n            <DialogTitle sx={{ borderBottom: `1px solid ${theme.palette.divider}`, position: 'relative', pb: 2 }}>\n              <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                <TagIcon sx={{ mr: 1.5, color: 'primary.main', fontSize: '1.75rem' }} />\n                <Typography variant=\"h5\" component=\"h2\" fontWeight=\"bold\">\n                  @{detailAuction.username}\n                </Typography>\n                <StatusChip \n                  label={detailAuction.status || \"active\"}\n                  status={detailAuction.status || \"active\"}\n                  size=\"small\"\n                  sx={{ ml: 2 }}\n                />\n              </Box>\n              <IconButton\n                aria-label=\"close\"\n                onClick={handleCloseAuctionDetail}\n                sx={{\n                  position: 'absolute',\n                  right: 8,\n                  top: 8,\n                }}\n                disabled={loadingButtons.bid}\n              >\n                <CloseIcon />\n              </IconButton>\n            </DialogTitle>\n            <DialogContent sx={{ p: 3 }}>\n              {detailLoading ? (\n                <Box display=\"flex\" justifyContent=\"center\" my={4}>\n                  <CircularProgress />\n                </Box>\n              ) : (\n                <Grid container spacing={3}>\n                  {/* Информация об аукционе */}\n                  <Grid item xs={12} md={7}>\n                    <Paper elevation={0} sx={{ p: 2, mb: 3, borderRadius: 2, bgcolor: alpha(theme.palette.background.paper, 0.7) }}>\n                      <Typography variant=\"h6\" gutterBottom>\n                        Информация об аукционе\n                      </Typography>\n                      <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1.5 }}>\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                          <PersonIcon sx={{ mr: 1.5, color: 'text.secondary', fontSize: '1.2rem' }} />\n                          <Typography variant=\"body1\">\n                            Продавец: <strong>{detailAuction.seller ? detailAuction.seller.username : 'Unknown'}</strong>\n                          </Typography>\n                        </Box>\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                          <MonetizationOnIcon sx={{ mr: 1.5, color: 'text.secondary', fontSize: '1.2rem' }} />\n                          <Typography variant=\"body1\">\n                            Минимальная цена: <strong>{detailAuction.min_price} баллов</strong>\n                          </Typography>\n                        </Box>\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                          <MonetizationOnIcon sx={{ mr: 1.5, color: 'primary.main', fontSize: '1.2rem' }} />\n                          <Typography variant=\"body1\">\n                            {detailAuction.status === 'completed' ? 'Финальная цена:' : 'Текущая цена:'} <strong>{detailAuction.status === 'completed' ? (detailAuction.final_price || detailAuction.current_price || detailAuction.highest_bid || detailAuction.min_price) : (detailAuction.current_price || detailAuction.min_price)} баллов</strong>\n                          </Typography>\n                        </Box>\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                          <ScheduleIcon sx={{ mr: 1.5, color: 'text.secondary', fontSize: '1.2rem' }} />\n                          <Typography variant=\"body1\">\n                            Создан: <strong>{formatDate(detailAuction.created_at)}</strong>\n                          </Typography>\n                        </Box>\n                        {detailAuction.status === 'completed' ? (\n                          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                            <ScheduleIcon sx={{ mr: 1.5, color: 'success.main', fontSize: '1.2rem' }} />\n                            <Typography variant=\"body1\">\n                              Завершен: <strong>{formatDate(detailAuction.completed_at || detailAuction.end_time)}</strong>\n                            </Typography>\n                          </Box>\n                        ) : (\n                          <>\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                              <ScheduleIcon sx={{ mr: 1.5, color: 'warning.main', fontSize: '1.2rem' }} />\n                              <Typography variant=\"body1\">\n                                Завершается: <strong>{formatDate(detailAuction.end_time)}</strong>\n                              </Typography>\n                            </Box>\n                            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                              <ScheduleIcon sx={{ mr: 1.5, color: 'info.main', fontSize: '1.2rem' }} />\n                              <Typography variant=\"body1\">\n                                Осталось: <strong>{detailAuction.remaining_time_formatted || formatTimeRemaining(detailAuction.end_time)}</strong>\n                              </Typography>\n                            </Box>\n                          </>\n                        )}\n                        {detailAuction.status === 'completed' && detailAuction.winner_id && (\n                          <Box sx={{ display: 'flex', alignItems: 'center', mt: 1 }}>\n                            <PersonIcon sx={{ mr: 1.5, color: 'success.main', fontSize: '1.2rem' }} />\n                            <Typography variant=\"body1\" color=\"success.main\">\n                              Победитель: <strong>{detailAuction.winner ? detailAuction.winner.username : 'Unknown'}</strong>\n                            </Typography>\n                          </Box>\n                        )}\n                      </Box>\n                    </Paper>\n                    \n                    {detailAuction.status === 'completed' ? (\n                      <Button\n                        variant=\"outlined\"\n                        fullWidth\n                        size=\"large\"\n                        disabled={true}\n                        sx={{ mt: 1, borderRadius: 2, py: 1.25 }}\n                      >\n                        Аукцион завершен\n                      </Button>\n                    ) : (\n                      detailAuction.seller_id !== user?.id && (\n                        <Button\n                          variant=\"contained\"\n                          color=\"primary\"\n                          fullWidth\n                          size=\"large\"\n                          onClick={() => {\n                            setDetailDialogOpen(false);\n                            setSelectedAuction(detailAuction);\n                            setBidDialogOpen(true);\n                          }}\n                          disabled={detailAuction.seller_id === user?.id || loadingButtons.bid}\n                          sx={{ mt: 1, borderRadius: 2, py: 1.25 }}\n                        >\n                          Сделать ставку\n                        </Button>\n                      )\n                    )}\n                  </Grid>\n                  \n                  {/* История ставок */}\n                  <Grid item xs={12} md={5}>\n                    <Paper elevation={0} sx={{ p: 2, borderRadius: 2, bgcolor: alpha(theme.palette.background.paper, 0.7) }}>\n                      <Typography variant=\"h6\" gutterBottom>\n                        История ставок {detailAuction.bids && detailAuction.bids.length > 0 ? `(${detailAuction.bids.length})` : ''}\n                      </Typography>\n                      \n                      {(!detailAuction.bids || detailAuction.bids.length === 0) ? (\n                        <Box sx={{ py: 4, textAlign: 'center' }}>\n                          <InfoOutlinedIcon sx={{ fontSize: '3rem', color: 'text.secondary', mb: 1, opacity: 0.5 }} />\n                          <Typography variant=\"body1\" color=\"text.secondary\">\n                            {detailAuction.status === 'completed' ? 'Аукцион завершен без ставок' : 'Пока нет ставок'}\n                          </Typography>\n                          {detailAuction.status !== 'completed' && (\n                            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n                              Будьте первым, кто сделает ставку!\n                            </Typography>\n                          )}\n                        </Box>\n                      ) : (\n                        <List sx={{ maxHeight: '400px', overflowY: 'auto', pr: 1 }}>\n                          {detailAuction.bids\n                            .sort((a, b) => new Date(b.time) - new Date(a.time))\n                            .map((bid, index) => {\n                              const isHighestBid = index === 0;\n                              const isMyBid = bid.bidder.id === user?.id;\n                              const isWinner = detailAuction.status === 'completed' && detailAuction.winner_id === bid.bidder.id;\n                              \n                              return (\n                                <BidHistoryItem \n                                  key={`${bid.bidder.id}-${bid.time}`}\n                                  isWinning={isHighestBid || isWinner}\n                                >\n                                  <ListItemAvatar>\n                                    <Avatar \n                                      alt={bid.bidder.username}\n                                      src={\n                                        bid.bidder.avatar_url || \n                                        (bid.bidder.photo ? \n                                          (bid.bidder.photo.startsWith('/') || bid.bidder.photo.startsWith('http') ? \n                                            bid.bidder.photo : \n                                            `/static/uploads/avatar/${bid.bidder.id}/${bid.bidder.photo}`\n                                          ) : \n                                          null\n                                        )\n                                      }\n                                      sx={(isHighestBid || isWinner) ? {\n                                        bgcolor: 'success.main',\n                                        color: 'white'\n                                      } : {}}\n                                      onError={(e) => {\n                                        console.error(\"Ошибка загрузки аватара:\", bid.bidder.username);\n                                        e.target.src = `/static/uploads/avatar/system/avatar.png`;\n                                      }}\n                                    >\n                                      {(isHighestBid || isWinner) && <ArrowUpwardIcon />}\n                                      {!(isHighestBid || isWinner) && bid.bidder.username.charAt(0)}\n                                    </Avatar>\n                                  </ListItemAvatar>\n                                  <ListItemText\n                                    primary={\n                                      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'baseline' }}>\n                                        <Typography variant=\"body1\" fontWeight={(isHighestBid || isWinner) ? 'bold' : 'normal'}>\n                                          {bid.bidder.username} {isMyBid && '(Вы)'}\n                                        </Typography>\n                                        <Typography variant=\"body1\" fontWeight=\"bold\" color={(isHighestBid || isWinner) ? 'success.main' : 'inherit'}>\n                                          {bid.amount} баллов\n                                        </Typography>\n                                      </Box>\n                                    }\n                                    secondary={\n                                      <Typography variant=\"body2\" color=\"text.secondary\">\n                                        {formatDate(bid.time)}\n                                        {detailAuction.status === 'completed' && isWinner && (\n                                          <Typography \n                                            component=\"span\" \n                                            variant=\"body2\" \n                                            color=\"success.main\"\n                                            sx={{ display: 'block', fontWeight: 'bold' }}\n                                          >\n                                            Победная ставка\n                                          </Typography>\n                                        )}\n                                        {detailAuction.status !== 'completed' && isHighestBid && (\n                                          <Typography \n                                            component=\"span\" \n                                            variant=\"body2\" \n                                            color=\"success.main\"\n                                            sx={{ display: 'block', fontWeight: 'bold' }}\n                                          >\n                                            Лидирующая ставка\n                                          </Typography>\n                                        )}\n                                      </Typography>\n                                    }\n                                  />\n                                </BidHistoryItem>\n                              );\n                            })}\n                        </List>\n                      )}\n                    </Paper>\n                  </Grid>\n                </Grid>\n              )}\n            </DialogContent>\n          </>\n        )}\n      </DetailDialog>\n      \n      {/* Add a session expiration warning */}\n      {sessionExpired && (\n        <Alert \n          severity=\"warning\" \n          sx={{ \n            mb: 3, \n            borderRadius: 2,\n            '& .MuiAlert-message': { width: '100%' }\n          }}\n          action={\n            <Button \n              color=\"inherit\" \n              size=\"small\"\n              onClick={() => window.location.reload()}\n            >\n              Обновить\n            </Button>\n          }\n        >\n          <Typography variant=\"subtitle1\" fontWeight=\"bold\" gutterBottom>\n            Требуется обновление\n          </Typography>\n          <Typography variant=\"body2\">\n            Данные могут быть устаревшими. Пожалуйста, обновите страницу для получения актуальной информации.\n          </Typography>\n        </Alert>\n      )}\n      \n      {/* Snackbar for notifications */}\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={snackbar.severity === 'warning' ? null : 6000}\n        onClose={() => snackbar.severity !== 'warning' && setSnackbar({ ...snackbar, open: false })}\n      >\n        <Alert \n          onClose={() => snackbar.severity !== 'warning' && setSnackbar({ ...snackbar, open: false })} \n          severity={snackbar.severity}\n          sx={{ width: '100%' }}\n          action={\n            snackbar.severity === 'warning' && (\n              <Button \n                color=\"inherit\" \n                size=\"small\"\n                onClick={() => window.location.reload()}\n              >\n                Обновить\n              </Button>\n            )\n          }\n        >\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default UsernameAuctionPage; "],"names":["_interopRequireDefault","require$$0","Object","defineProperty","LocalOffer","value","default","_createSvgIcon","_jsxRuntime","require$$2","jsx","d","Schedule","ArrowUpward","InfoOutlined","PageHeader","styled","Box","theme","display","flexDirection","alignItems","marginBottom","spacing","textAlign","AuctionCard","Card","borderRadius","overflow","transition","background","palette","mode","alpha","paper","backdropFilter","border","transform","boxShadow","SearchBar","TextField","backgroundColor","EmptyStateBox","padding","StatusChip","Chip","status","statusColor","primary","main","success","error","fontWeight","fontSize","color","TabPanel","children","index","other","role","hidden","id","sx","pt","StyledDialog","Dialog","DetailDialog","shape","breakpoints","down","margin","width","maxHeight","height","maxWidth","BidHistoryItem","ListItem","isWinning","divider","UsernameAuctionPage","user","useContext","AuthContext","useTheme","isMobile","useMediaQuery","loading","setLoading","useState","auctions","setAuctions","filteredAuctions","setFilteredAuctions","completedAuctions","setCompletedAuctions","userAuctions","setUserAuctions","userBids","setUserBids","usernames","setUsernames","tabValue","setTabValue","createDialogOpen","setCreateDialogOpen","bidDialogOpen","setBidDialogOpen","selectedAuction","setSelectedAuction","detailDialogOpen","setDetailDialogOpen","detailAuction","setDetailAuction","detailLoading","setDetailLoading","loadingButtons","setLoadingButtons","bid","buy","accept","cancel","create","newAuctionData","setNewAuctionData","username","min_price","duration_hours","bidAmount","setBidAmount","snackbar","setSnackbar","open","message","severity","errors","setErrors","searchQuery","setSearchQuery","searchTimeout","setSearchTimeout","sessionActive","setSessionActive","sessionExpired","setSessionExpired","sessionStartTime","useRef","Date","now","broadcastChannel","lastFetchTime","updateInterval","useEffect","BroadcastChannel","current","onmessage","event","type","data","timestamp","activeAuctions","filter","auction","completed","active_auctions","fetchAuctions","fetchUserAuctions","auctionId","handleOpenAuctionDetail","source","close","expirationInterval","setInterval","checkSessionExpiration","clearInterval","fetchUsernames","document","visibilityState","currentTime","clearTimeout","timer","setTimeout","trim","query","toLowerCase","filtered","includes","seller","broadcastUpdate","postMessage","async","silent","response","axios","get","auctionsData","completedAuctionsData","my_bids","completed_auctions","completed_bids","prev","existingMap","Map","map","forEach","has","set","Array","from","values","formatTimeRemaining","endDate","end","diffMs","diffDays","Math","floor","diffHours","diffMinutes","bids","handleCloseAuctionDetail","formatDate","dateString","date","format","locale","ru","e","jsxs","Container","py","mb","Typography","variant","component","gutterBottom","justifyContent","flexWrap","gap","Button","startIcon","AddIcon","onClick","px","Tabs","onChange","handleTabChange","newValue","textTransform","Tab","icon","GavelIcon","iconPosition","label","PersonIcon","HistoryIcon","Fade","in","timeout","Alert","fullWidth","placeholder","target","InputProps","startAdornment","InputAdornment","position","SearchIcon","endAdornment","IconButton","size","clearSearch","ClearIcon","my","CircularProgress","length","Grid","container","item","xs","elevation","cursor","CardContent","p","sm","TagIcon","mr","ml","ScheduleIcon","remaining_time_formatted","end_time","LocalOfferIcon","bids_count","current_price","highest_bid","disabled","stopPropagation","seller_id","winner_id","mt","winner","final_price","transactionId","localStorage","getItem","setItem","post","transaction_id","removeItem","result","handleAcceptBid","handleCancelAuction","auctionObj","MonetizationOnIcon","my_bid","am_winning","completed_at","onClose","DialogTitle","DialogContent","pb","select","helperText","SelectProps","native","u","is_active","inputProps","min","max","parseFloat","DialogActions","isNaN","parseInt","keys","amount","fullScreen","Fragment","borderBottom","right","top","CloseIcon","md","Paper","bgcolor","created_at","List","overflowY","pr","sort","a","b","time","isHighestBid","isMyBid","bidder","isWinner","ListItemAvatar","Avatar","alt","src","avatar_url","photo","startsWith","onError","ArrowUpwardIcon","charAt","ListItemText","secondary","InfoOutlinedIcon","opacity","action","window","location","reload","Snackbar","autoHideDuration"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}