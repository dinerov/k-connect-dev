import{g as ir}from"./vendor-react.DF-_cTkv.js";import{r as lr,a as ar,j as ct}from"./vendor-mui.08p3AH88.js";import{r as cr}from"./index.CdVNWeFt.js";import{r as t,c as sr,b as ur}from"./vendor-router.BRqU_Zs2.js";import"./thumbnails.CEJMDkxh.js";var Gt,st={};function dr(){if(Gt)return st;Gt=1;var e=lr();Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var n=e(cr()),r=ar();return st.default=(0,n.default)((0,r.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z"}),"ChatBubbleOutline"),st}const hr=ir(dr()),Jt="carousel",yt="controller",Mt="portal",Qt="toolbar",en="fullscreen",Ct="thumbnails",tn="zoom",kt="loading",Rt="error",It="complete",Qe="flex_center",nn="no_scroll_padding",Lt="slide",rn="slide_wrapper",_e="prev",Ze="next",St="swipe",et="close",on="onPointerDown",ln="onPointerMove",an="onPointerUp",cn="onPointerLeave",sn="onPointerCancel",Pt="onKeyDown",Nt="onWheel",mt="icon",un="contain",dn="cover",hn="Unknown action type",mn="yarl__";function fe(...e){return[...e].filter(Boolean).join(" ")}function C(e){return`${mn}${e}`}function B(e){return`--${mn}${e}`}function Be(e,n){return`${e}${n?`_${n}`:""}`}function je(e){return n=>Be(e,n)}function ft(...e){return()=>{e.forEach(n=>{n()})}}function ze(e,n,r){return()=>{const i=t.useContext(r);if(!i)throw new Error(`${e} must be used within a ${n}.Provider`);return i}}function zt(){return typeof window<"u"}function Tt(e,n=0){const r=10**n;return Math.round((e+Number.EPSILON)*r)/r}function Ue(e){return e.type===void 0||e.type==="image"}function Dt(e,n){return e.imageFit===dn||e.imageFit!==un&&n===dn}function pt(e){return typeof e=="string"?Number.parseInt(e,10):e}function vt(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const n=pt(e);return e.endsWith("%")?{percent:n}:{pixel:n}}return{pixel:0}}function mr(e,n){const r=vt(n),i=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*i,0),height:Math.max(e.height-2*i,0)}}function fn(e,n){return n>0?(e%n+n)%n:0}function $t(e){return e.length>0}function Ot(e,n){return e[fn(n,e.length)]}function Ft(e,n){return $t(e)?Ot(e,n):void 0}function pn(e){return Ue(e)?e.src:void 0}function vn(e,n,r){if(!r)return e;const{buttons:i,...o}=e,l=i.findIndex(c=>c===n),a=t.isValidElement(r)?t.cloneElement(r,{key:n},null):r;if(l>=0){const c=[...i];return c.splice(l,1,a),{buttons:c,...o}}return{buttons:[a,...i],...o}}function gn(e,n,r=0){return Math.min(e.preload,Math.max(e.finite?n.length-1:Math.floor(n.length/2),r))}const fr=Number(t.version.split(".")[0])>=19,Wt={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[et]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:un,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function Te(e,n){return{name:e,component:n}}function te(e,n){return{module:e,children:n}}function bn(e,n,r){return e.module.name===n?r(e):e.children?[te(e.module,e.children.flatMap(i=>{var o;return(o=bn(i,n,r))!==null&&o!==void 0?o:[]}))]:[e]}function tt(e,n,r){return e.flatMap(i=>{var o;return(o=bn(i,n,r))!==null&&o!==void 0?o:[]})}const wn=t.createContext(null),ut=ze("useDocument","DocumentContext",wn);function pr({nodeRef:e,children:n}){const r=t.useMemo(()=>{const i=o=>{var l;return((l=o||e.current)===null||l===void 0?void 0:l.ownerDocument)||document};return{getOwnerDocument:i,getOwnerWindow:o=>{var l;return((l=i(o))===null||l===void 0?void 0:l.defaultView)||window}}},[e]);return t.createElement(wn.Provider,{value:r},n)}const xn=t.createContext(null),dt=ze("useEvents","EventsContext",xn);function vr({children:e}){const[n]=t.useState({});t.useEffect(()=>()=>{Object.keys(n).forEach(i=>delete n[i])},[n]);const r=t.useMemo(()=>{const i=(o,l)=>{var a;(a=n[o])===null||a===void 0||a.splice(0,n[o].length,...n[o].filter(c=>c!==l))};return{publish:(...[o,l])=>{var a;(a=n[o])===null||a===void 0||a.forEach(c=>c(l))},subscribe:(o,l)=>(n[o]||(n[o]=[]),n[o].push(l),()=>i(o,l)),unsubscribe:i}},[n]);return t.createElement(xn.Provider,{value:r},e)}const En=t.createContext(null),ae=ze("useLightboxProps","LightboxPropsContext",En);function yn({children:e,...n}){return t.createElement(En.Provider,{value:n},e)}const Mn=t.createContext(null),De=ze("useLightboxState","LightboxStateContext",Mn),Cn=t.createContext(null),gr=ze("useLightboxDispatch","LightboxDispatchContext",Cn);function br(e,n){switch(n.type){case"swipe":{const{slides:r}=e,i=n?.increment||0,o=e.globalIndex+i,l=fn(o,r.length);return{slides:r,currentIndex:l,globalIndex:o,currentSlide:Ft(r,l),animation:i||n.duration!==void 0?{increment:i,duration:n.duration,easing:n.easing}:void 0}}case"update":return n.slides!==e.slides||n.index!==e.currentIndex?{slides:n.slides,currentIndex:n.index,globalIndex:n.index,currentSlide:Ft(n.slides,n.index)}:e;default:throw new Error(hn)}}function wr({slides:e,index:n,children:r}){const[i,o]=t.useReducer(br,{slides:e,currentIndex:n,globalIndex:n,currentSlide:Ft(e,n)});t.useEffect(()=>{o({type:"update",slides:e,index:n})},[e,n]);const l=t.useMemo(()=>({...i,state:i,dispatch:o}),[i,o]);return t.createElement(Cn.Provider,{value:o},t.createElement(Mn.Provider,{value:l},r))}const kn=t.createContext(null),gt=ze("useTimeouts","TimeoutsContext",kn);function xr({children:e}){const[n]=t.useState([]);t.useEffect(()=>()=>{n.forEach(i=>window.clearTimeout(i)),n.splice(0,n.length)},[n]);const r=t.useMemo(()=>{const i=o=>{n.splice(0,n.length,...n.filter(l=>l!==o))};return{setTimeout:(o,l)=>{const a=window.setTimeout(()=>{i(a),o()},l);return n.push(a),a},clearTimeout:o=>{o!==void 0&&(i(o),window.clearTimeout(o))}}},[n]);return t.createElement(kn.Provider,{value:r},e)}const bt=t.forwardRef(function({label:e,className:n,icon:r,renderIcon:i,onClick:o,style:l,...a},c){const{styles:u,labels:d}=ae(),m=function(f,v){var S;return(S=f?.[v])!==null&&S!==void 0?S:v}(d,e);return t.createElement("button",{ref:c,type:"button",title:m,"aria-label":m,className:fe(C("button"),n),onClick:o,style:{...l,...u.button},...a},i?i():t.createElement(r,{className:C(mt),style:u.icon}))});function Rn(e,n){const r=i=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...i},n);return r.displayName=e,r}function Ie(e,n){return Rn(e,t.createElement("g",{fill:"currentColor"},t.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),n))}const Er=Ie("Close",t.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),yr=Ie("Previous",t.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Mr=Ie("Next",t.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Cr=Ie("Loading",t.createElement(t.Fragment,null,Array.from({length:8}).map((e,n,r)=>t.createElement("line",{key:n,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(n+1),transform:`rotate(${360/r.length*n}, 12, 12)`})))),kr=Ie("Error",t.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Le=zt()?t.useLayoutEffect:t.useEffect;function _t(){const[e,n]=t.useState(!1);return t.useEffect(()=>{var r,i;const o=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");n(o?.matches);const l=a=>n(a.matches);return(i=o?.addEventListener)===null||i===void 0||i.call(o,"change",l),()=>{var a;return(a=o?.removeEventListener)===null||a===void 0?void 0:a.call(o,"change",l)}},[]),e}function Zt(e,n){const r=t.useRef(void 0),i=t.useRef(void 0),o=_t();return Le(()=>{var l,a,c;if(e.current&&r.current!==void 0&&!o){const{keyframes:u,duration:d,easing:m,onfinish:f}=n(r.current,e.current.getBoundingClientRect(),function(v){let S=0,L=0,y=0;const s=window.getComputedStyle(v).transform.match(/matrix.*\((.+)\)/);if(s){const p=s[1].split(",").map(pt);p.length===6?(S=p[4],L=p[5]):p.length===16&&(S=p[12],L=p[13],y=p[14])}return{x:S,y:L,z:y}}(e.current))||{};if(u&&d){(l=i.current)===null||l===void 0||l.cancel(),i.current=void 0;try{i.current=(c=(a=e.current).animate)===null||c===void 0?void 0:c.call(a,u,{duration:d,easing:m})}catch{}i.current&&(i.current.onfinish=()=>{i.current=void 0,f?.()})}}r.current=void 0}),{prepareAnimation:l=>{r.current=l},isAnimationPlaying:()=>{var l;return((l=i.current)===null||l===void 0?void 0:l.playState)==="running"}}}function In(){const e=t.useRef(null),n=t.useRef(void 0),[r,i]=t.useState();return{setContainerRef:t.useCallback(o=>{e.current=o,n.current&&(n.current.disconnect(),n.current=void 0);const l=()=>{if(o){const a=window.getComputedStyle(o),c=u=>parseFloat(u)||0;i({width:Math.round(o.clientWidth-c(a.paddingLeft)-c(a.paddingRight)),height:Math.round(o.clientHeight-c(a.paddingTop)-c(a.paddingBottom))})}else i(void 0)};l(),o&&typeof ResizeObserver<"u"&&(n.current=new ResizeObserver(l),n.current.observe(o))},[]),containerRef:e,containerRect:r}}function wt(){const e=t.useRef(void 0),{setTimeout:n,clearTimeout:r}=gt();return t.useCallback((i,o)=>{r(e.current),e.current=n(i,o>0?o:0)},[n,r])}function _(e){const n=t.useRef(e);return Le(()=>{n.current=e}),t.useCallback((...r)=>{var i;return(i=n.current)===null||i===void 0?void 0:i.call(n,...r)},[])}function Ln(e,n){typeof e=="function"?e(n):e&&(e.current=n)}function Xt(e,n){return t.useMemo(()=>e==null&&n==null?null:r=>{Ln(e,r),Ln(n,r)},[e,n])}function Rr(e,n=!1){const r=t.useRef(!1);return Le(()=>{n&&r.current&&(r.current=!1,e())},[n,e]),{onFocus:t.useCallback(()=>{r.current=!0},[]),onBlur:t.useCallback(()=>{r.current=!1},[])}}function xt(){const[e,n]=t.useState(!1);return Le(()=>{n(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Sn(){const[e]=t.useState({}),n=t.useCallback((r,i)=>{var o;(o=e[r])===null||o===void 0||o.forEach(l=>{i.isPropagationStopped()||l(i)})},[e]);return{registerSensors:t.useMemo(()=>({onPointerDown:r=>n(on,r),onPointerMove:r=>n(ln,r),onPointerUp:r=>n(an,r),onPointerLeave:r=>n(cn,r),onPointerCancel:r=>n(sn,r),onKeyDown:r=>n(Pt,r),onKeyUp:r=>n("onKeyUp",r),onWheel:r=>n(Nt,r)}),[n]),subscribeSensors:t.useCallback((r,i)=>(e[r]||(e[r]=[]),e[r].unshift(i),()=>{const o=e[r];o&&o.splice(0,o.length,...o.filter(l=>l!==i))}),[e])}}function Pn(e,n){const r=t.useRef(0),i=wt(),o=_((...l)=>{r.current=Date.now(),e(l)});return t.useCallback((...l)=>{i(()=>{o(l)},n-(Date.now()-r.current))},[n,o,i])}const At=je("slide"),Yt=je("slide_image");function Ve({slide:e,offset:n,render:r,rect:i,imageFit:o,imageProps:l,onClick:a,onLoad:c,onError:u,style:d}){var m,f,v,S,L,y,s;const[p,M]=t.useState(kt),{publish:g}=dt(),{setTimeout:b}=gt(),w=t.useRef(null);t.useEffect(()=>{n===0&&g((N=>`active-slide-${N}`)(p))},[n,p,g]);const P=_(N=>{("decode"in N?N.decode():Promise.resolve()).catch(()=>{}).then(()=>{N.parentNode&&(M(It),b(()=>{c?.(N)},0))})}),$=t.useCallback(N=>{w.current=N,N?.complete&&P(N)},[P]),k=t.useCallback(N=>{P(N.currentTarget)},[P]),I=_(()=>{M(Rt),u?.()}),X=Dt(e,o),j=(N,K)=>Number.isFinite(N)?N:K,x=j(Math.max(...((f=(m=e.srcSet)===null||m===void 0?void 0:m.map(N=>N.width))!==null&&f!==void 0?f:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((v=w.current)===null||v===void 0?void 0:v.naturalWidth)||0),A=j(Math.max(...((L=(S=e.srcSet)===null||S===void 0?void 0:S.map(N=>N.height))!==null&&L!==void 0?L:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((y=w.current)===null||y===void 0?void 0:y.naturalHeight)||0),F=x&&A?{maxWidth:`min(${x}px, 100%)`,maxHeight:`min(${A}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},R=(s=e.srcSet)===null||s===void 0?void 0:s.sort((N,K)=>N.width-K.width).map(N=>`${N.src} ${N.width}w`).join(", "),J=R&&i&&zt()?`${Math.round(Math.min(i&&!X&&e.width&&e.height?i.height/e.height*e.width:Number.MAX_VALUE,i.width))}px`:void 0,{style:U,className:re,...ge}=l||{};return t.createElement(t.Fragment,null,t.createElement("img",{ref:$,onLoad:k,onError:I,onClick:a,draggable:!1,className:fe(C(Yt()),X&&C(Yt("cover")),p!==It&&C(Yt("loading")),re),style:{...F,...d,...U},...ge,alt:e.alt,sizes:J,srcSet:R,src:e.src}),p!==It&&t.createElement("div",{className:C(At("placeholder"))},p===kt&&(r?.iconLoading?r.iconLoading():t.createElement(Cr,{className:fe(C(mt),C(At(kt)))})),p===Rt&&(r?.iconError?r.iconError():t.createElement(kr,{className:fe(C(mt),C(At(Rt)))}))))}const Ir=t.forwardRef(function({className:e,children:n,...r},i){const o=t.useRef(null);return t.createElement(pr,{nodeRef:o},t.createElement("div",{ref:Xt(i,o),className:fe(C("root"),e),...r},n))});var ce,Xe,Me,nt;function Nn(e,n,r,i,o){t.useEffect(()=>o?()=>{}:ft(e(on,n),e(ln,r),e(an,i),e(cn,i),e(sn,i)),[e,n,r,i,o])}(Xe=ce||(ce={}))[Xe.NONE=0]="NONE",Xe[Xe.SWIPE=1]="SWIPE",Xe[Xe.PULL=2]="PULL",Xe[Xe.ANIMATION=3]="ANIMATION",(nt=Me||(Me={}))[nt.NONE=0]="NONE",nt[nt.SWIPE=1]="SWIPE",nt[nt.PULL=2]="PULL";const zn=je("container"),Tn=t.createContext(null),$e=ze("useController","ControllerContext",Tn),Lr=Te(yt,function({children:e,...n}){var r;const{carousel:i,animation:o,controller:l,on:a,styles:c,render:u}=n,{closeOnPullUp:d,closeOnPullDown:m,preventDefaultWheelX:f,preventDefaultWheelY:v}=l,[S,L]=t.useState(),y=De(),s=gr(),[p,M]=t.useState(ce.NONE),g=t.useRef(0),b=t.useRef(0),w=t.useRef(1),{registerSensors:P,subscribeSensors:$}=Sn(),{subscribe:k,publish:I}=dt(),X=wt(),j=wt(),x=wt(),{containerRef:A,setContainerRef:F,containerRect:R}=In(),J=Xt(function({preventDefaultWheelX:h,preventDefaultWheelY:W}){const G=t.useRef(null),Q=_(V=>{const he=Math.abs(V.deltaX)>Math.abs(V.deltaY);(he&&h||!he&&W||V.ctrlKey)&&V.preventDefault()});return t.useCallback(V=>{var he;V?V.addEventListener("wheel",Q,{passive:!1}):(he=G.current)===null||he===void 0||he.removeEventListener("wheel",Q),G.current=V},[Q])}({preventDefaultWheelX:f,preventDefaultWheelY:v}),F),U=t.useRef(null),re=Xt(U,void 0),{getOwnerDocument:ge}=ut(),N=xt(),K=h=>(N?-1:1)*(typeof h=="number"?h:1),z=_(()=>{var h;return(h=A.current)===null||h===void 0?void 0:h.focus()}),O=_(()=>n),T=_(()=>y),Z=t.useCallback(h=>I(_e,h),[I]),Y=t.useCallback(h=>I(Ze,h),[I]),ie=t.useCallback(()=>I(et),[I]),Ce=h=>!(i.finite&&(K(h)>0&&y.currentIndex===0||K(h)<0&&y.currentIndex===y.slides.length-1)),xe=h=>{var W;g.current=h,(W=A.current)===null||W===void 0||W.style.setProperty(B("swipe_offset"),`${Math.round(h)}px`)},E=h=>{var W,G;b.current=h,w.current=(()=>{const Q=m&&h>0?h:d&&h<0?-h:0;return Math.min(Math.max(Tt(1-Q/60*.5,2),.5),1)})(),(W=A.current)===null||W===void 0||W.style.setProperty(B("pull_offset"),`${Math.round(h)}px`),(G=A.current)===null||G===void 0||G.style.setProperty(B("pull_opacity"),`${w.current}`)},{prepareAnimation:D}=Zt(U,(h,W,G)=>{if(U.current&&R)return{keyframes:[{transform:`translate(0, ${h.rect.y-W.y+G.y}px)`,opacity:h.opacity},{transform:"translate(0, 0)",opacity:1}],duration:h.duration,easing:o.easing.fade}}),q=(h,W)=>{if(d||m){E(h);let G=0;U.current&&(G=o.fade*(W?2:1),D({rect:U.current.getBoundingClientRect(),opacity:w.current,duration:G})),x(()=>{E(0),M(ce.NONE)},G),M(ce.ANIMATION),W||ie()}},{prepareAnimation:oe,isAnimationPlaying:Ee}=Zt(U,(h,W,G)=>{var Q;if(U.current&&R&&(!((Q=y.animation)===null||Q===void 0)&&Q.duration)){const V=vt(i.spacing),he=(V.percent?V.percent*R.width/100:V.pixel)||0;return{keyframes:[{transform:`translate(${K(y.globalIndex-h.index)*(R.width+he)+h.rect.x-W.x+G.x}px, 0)`},{transform:"translate(0, 0)"}],duration:y.animation.duration,easing:y.animation.easing}}}),de=_(h=>{var W,G;const Q=h.offset||0,V=Q?o.swipe:(W=o.navigation)!==null&&W!==void 0?W:o.swipe,he=Q||Ee()?o.easing.swipe:o.easing.navigation;let{direction:Fe}=h;const We=(G=h.count)!==null&&G!==void 0?G:1;let Ae=ce.ANIMATION,ee=V*We;if(!Fe){const pe=R?.width,Re=h.duration||0,Se=pe?V/pe*Math.abs(Q):V;We!==0?(Re<Se?ee=ee/Se*Math.max(Re,Se/5):pe&&(ee=V/pe*(pe-Math.abs(Q))),Fe=K(Q)>0?_e:Ze):ee=V/2}let we=0;Fe===_e?Ce(K(1))?we=-We:(Ae=ce.NONE,ee=V):Fe===Ze&&(Ce(K(-1))?we=We:(Ae=ce.NONE,ee=V)),ee=Math.round(ee),j(()=>{xe(0),M(ce.NONE)},ee),U.current&&oe({rect:U.current.getBoundingClientRect(),index:y.globalIndex}),M(Ae),I(St,{type:"swipe",increment:we,duration:ee,easing:he})});t.useEffect(()=>{var h,W;!((h=y.animation)===null||h===void 0)&&h.increment&&(!((W=y.animation)===null||W===void 0)&&W.duration)&&X(()=>s({type:"swipe",increment:0}),y.animation.duration)},[y.animation,s,X]);const ke=[$,Ce,R?.width||0,o.swipe,()=>M(ce.SWIPE),h=>xe(h),(h,W)=>de({offset:h,duration:W,count:1}),h=>de({offset:h,count:0})],be=[()=>{m&&M(ce.PULL)},h=>E(h),h=>q(h),h=>q(h,!0)];(function({disableSwipeNavigation:h,closeOnBackdropClick:W},G,Q,V,he,Fe,We,Ae,ee,we,pe,Re,Se,rt,ot,it){const ye=t.useRef(0),Je=t.useRef([]),Pe=t.useRef(void 0),lt=t.useRef(0),Ne=t.useRef(Me.NONE),Ye=t.useCallback(H=>{Pe.current===H.pointerId&&(Pe.current=void 0,Ne.current=Me.NONE);const le=Je.current;le.splice(0,le.length,...le.filter(ve=>ve.pointerId!==H.pointerId))},[]),se=t.useCallback(H=>{Ye(H),H.persist(),Je.current.push(H)},[Ye]),He=t.useCallback(H=>Je.current.find(({pointerId:le})=>H.pointerId===le),[]),ue=_(H=>{se(H)}),Vt=(H,le)=>pe&&H>le||we&&H<-le,Kt=_(H=>{const le=He(H);if(le)if(Pe.current===H.pointerId){const ve=Date.now()-lt.current,me=ye.current;Ne.current===Me.SWIPE?Math.abs(me)>.3*V||Math.abs(me)>5&&ve<he?Ae(me,ve):ee(me):Ne.current===Me.PULL&&(Vt(me,60)?rt(me,ve):ot(me)),ye.current=0,Ne.current=Me.NONE}else{const{target:ve}=H;W&&ve instanceof HTMLElement&&ve===le.target&&(ve.classList.contains(C(Lt))||ve.classList.contains(C(rn)))&&it()}Ye(H)});Nn(G,ue,_(H=>{const le=He(H);if(le){const ve=Pe.current===H.pointerId;if(H.buttons===0)return void(ve&&ye.current!==0?Kt(H):Ye(le));const me=H.clientX-le.clientX,at=H.clientY-le.clientY;if(Pe.current===void 0){const qt=or=>{se(H),Pe.current=H.pointerId,lt.current=Date.now(),Ne.current=or};Math.abs(me)>Math.abs(at)&&Math.abs(me)>30&&Q(me)?h||(qt(Me.SWIPE),Fe()):Math.abs(at)>Math.abs(me)&&Vt(at,30)&&(qt(Me.PULL),Re())}else ve&&(Ne.current===Me.SWIPE?(ye.current=me,We(me)):Ne.current===Me.PULL&&(ye.current=at,Se(at)))}}),Kt)})(l,...ke,d,m,...be,ie),function(h,W,G,Q,V,he,Fe,We,Ae){const ee=t.useRef(0),we=t.useRef(0),pe=t.useRef(void 0),Re=t.useRef(void 0),Se=t.useRef(0),rt=t.useRef(void 0),ot=t.useRef(0),{setTimeout:it,clearTimeout:ye}=gt(),Je=t.useCallback(()=>{pe.current&&(ye(pe.current),pe.current=void 0)},[ye]),Pe=t.useCallback(()=>{Re.current&&(ye(Re.current),Re.current=void 0)},[ye]),lt=_(()=>{h!==ce.SWIPE&&(ee.current=0,ot.current=0,Je(),Pe())});t.useEffect(lt,[h,lt]);const Ne=_(se=>{Re.current=void 0,ee.current===se&&Ae(ee.current)}),Ye=_(se=>{if(se.ctrlKey||Math.abs(se.deltaY)>Math.abs(se.deltaX))return;const He=ue=>{Se.current=ue,ye(rt.current),rt.current=ue>0?it(()=>{Se.current=0,rt.current=void 0},300):void 0};if(h===ce.NONE){if(Math.abs(se.deltaX)<=1.2*Math.abs(Se.current))return void He(se.deltaX);if(!G(-se.deltaX))return;if(we.current+=se.deltaX,Je(),Math.abs(we.current)>30)we.current=0,He(0),ot.current=Date.now(),he();else{const ue=we.current;pe.current=it(()=>{pe.current=void 0,ue===we.current&&(we.current=0)},V)}}else if(h===ce.SWIPE){let ue=ee.current-se.deltaX;if(ue=Math.min(Math.abs(ue),Q)*Math.sign(ue),ee.current=ue,Fe(ue),Pe(),Math.abs(ue)>.2*Q)return He(se.deltaX),void We(ue,Date.now()-ot.current);Re.current=it(()=>Ne(ue),2*V)}else He(se.deltaX)});t.useEffect(()=>W(Nt,Ye),[W,Ye])}(p,...ke);const Oe=_(()=>{l.focus&&ge().querySelector(`.${C(Mt)} .${C(zn())}`)&&z()});t.useEffect(Oe,[Oe]);const ht=_(()=>{var h;(h=a.view)===null||h===void 0||h.call(a,{index:y.currentIndex})});t.useEffect(ht,[y.globalIndex,ht]),t.useEffect(()=>ft(k(_e,h=>de({direction:_e,...h})),k(Ze,h=>de({direction:Ze,...h})),k(St,h=>s(h))),[k,de,s]);const rr=t.useMemo(()=>({prev:Z,next:Y,close:ie,focus:z,slideRect:R?mr(R,i.padding):{width:0,height:0},containerRect:R||{width:0,height:0},subscribeSensors:$,containerRef:A,setCarouselRef:re,toolbarWidth:S,setToolbarWidth:L}),[Z,Y,ie,z,$,R,A,re,S,L,i.padding]);return t.useImperativeHandle(l.ref,()=>({prev:Z,next:Y,close:ie,focus:z,getLightboxProps:O,getLightboxState:T}),[Z,Y,ie,z,O,T]),t.createElement("div",{ref:J,className:fe(C(zn()),C(Qe)),style:{...p===ce.SWIPE?{[B("swipe_offset")]:`${Math.round(g.current)}px`}:null,...p===ce.PULL?{[B("pull_offset")]:`${Math.round(b.current)}px`,[B("pull_opacity")]:`${w.current}`}:null,...l.touchAction!=="none"?{[B("controller_touch_action")]:l.touchAction}:null,...c.container},...l.aria?{role:"region","aria-live":"polite","aria-roledescription":"carousel"}:null,tabIndex:-1,...P},R&&t.createElement(Tn.Provider,{value:rr},e,(r=u.controls)===null||r===void 0?void 0:r.call(u)))});function Ke(e){return Be(Jt,e)}function Dn(e){return Be(Lt,e)}function Sr({slide:e,offset:n}){const r=t.useRef(null),{currentIndex:i}=De(),{slideRect:o,focus:l}=$e(),{render:a,carousel:{imageFit:c,imageProps:u},on:{click:d},styles:{slide:m}}=ae(),{getOwnerDocument:f}=ut(),v=n!==0;return t.useEffect(()=>{var L;v&&(!((L=r.current)===null||L===void 0)&&L.contains(f().activeElement))&&l()},[v,l,f]),t.createElement("div",{ref:r,className:fe(C(Dn()),!v&&C(Dn("current")),C(Qe)),...(S=v,{inert:fr?S:S?"":void 0}),style:m,role:"region","aria-roledescription":"slide"},(()=>{var L,y,s,p;let M=(L=a.slide)===null||L===void 0?void 0:L.call(a,{slide:e,offset:n,rect:o});return!M&&Ue(e)&&(M=t.createElement(Ve,{slide:e,offset:n,render:a,rect:o,imageFit:c,imageProps:u,onClick:v?void 0:()=>d?.({index:i})})),M?t.createElement(t.Fragment,null,(y=a.slideHeader)===null||y===void 0?void 0:y.call(a,{slide:e}),((s=a.slideContainer)!==null&&s!==void 0?s:({children:g})=>g)({slide:e,children:M}),(p=a.slideFooter)===null||p===void 0?void 0:p.call(a,{slide:e})):null})());var S}function Pr(){const e=ae().styles.slide;return t.createElement("div",{className:C(Lt),style:e})}const Nr=Te(Jt,function({carousel:e}){const{slides:n,currentIndex:r,globalIndex:i}=De(),{setCarouselRef:o}=$e(),l=vt(e.spacing),a=vt(e.padding),c=gn(e,n,1),u=[];if($t(n))for(let d=r-c;d<=r+c;d+=1){const m=Ot(n,d),f=i-r+d,v=e.finite&&(d<0||d>n.length-1);u.push(v?{key:f}:{key:[`${f}`,pn(m)].filter(Boolean).join("|"),offset:d-r,slide:m})}return t.createElement("div",{ref:o,className:fe(C(Ke()),u.length>0&&C(Ke("with_slides"))),style:{[`${B(Ke("slides_count"))}`]:u.length,[`${B(Ke("spacing_px"))}`]:l.pixel||0,[`${B(Ke("spacing_percent"))}`]:l.percent||0,[`${B(Ke("padding_px"))}`]:a.pixel||0,[`${B(Ke("padding_percent"))}`]:a.percent||0}},u.map(({key:d,slide:m,offset:f})=>m?t.createElement(Sr,{key:d,slide:m,offset:f}):t.createElement(Pr,{key:d})))});function $n(){const{carousel:e}=ae(),{slides:n,currentIndex:r}=De();return{prevDisabled:n.length===0||e.finite&&r===0,nextDisabled:n.length===0||e.finite&&r===n.length-1}}function On(e){var n;const r=xt(),{publish:i}=dt(),{animation:o}=ae(),{prevDisabled:l,nextDisabled:a}=$n(),c=((n=o.navigation)!==null&&n!==void 0?n:o.swipe)/2,u=Pn(()=>i(_e),c),d=Pn(()=>i(Ze),c),m=_(f=>{switch(f.key){case"Escape":i(et);break;case"ArrowLeft":(r?a:l)||(r?d:u)();break;case"ArrowRight":(r?l:a)||(r?u:d)()}});t.useEffect(()=>e(Pt,m),[e,m])}function Fn({label:e,icon:n,renderIcon:r,action:i,onClick:o,disabled:l,style:a}){return t.createElement(bt,{label:e,icon:n,renderIcon:r,className:C(`navigation_${i}`),disabled:l,onClick:o,style:a,...Rr($e().focus,l)})}const zr=Te("navigation",function({render:{buttonPrev:e,buttonNext:n,iconPrev:r,iconNext:i},styles:o}){const{prev:l,next:a,subscribeSensors:c}=$e(),{prevDisabled:u,nextDisabled:d}=$n();return On(c),t.createElement(t.Fragment,null,e?e():t.createElement(Fn,{label:"Previous",action:_e,icon:yr,renderIcon:r,style:o.navigationPrev,disabled:u,onClick:l}),n?n():t.createElement(Fn,{label:"Next",action:Ze,icon:Mr,renderIcon:i,style:o.navigationNext,disabled:d,onClick:a}))}),Wn=C("no_scroll"),Tr=C(nn);function Dr(e){return"style"in e}function _n(e,n,r){const i=window.getComputedStyle(e),o=r?"padding-left":"padding-right",l=r?i.paddingLeft:i.paddingRight,a=e.style.getPropertyValue(o);return e.style.setProperty(o,`${(pt(l)||0)+n}px`),()=>{a?e.style.setProperty(o,a):e.style.removeProperty(o)}}const $r=Te("no-scroll",function({noScroll:{disabled:e},children:n}){const r=xt(),{getOwnerDocument:i,getOwnerWindow:o}=ut();return t.useEffect(()=>{if(e)return()=>{};const l=[],a=o(),{body:c,documentElement:u}=i(),d=Math.round(a.innerWidth-u.clientWidth);if(d>0){l.push(_n(c,d,r));const m=c.getElementsByTagName("*");for(let f=0;f<m.length;f+=1){const v=m[f];Dr(v)&&a.getComputedStyle(v).getPropertyValue("position")==="fixed"&&!v.classList.contains(Tr)&&l.push(_n(v,d,r))}}return c.classList.add(Wn),()=>{c.classList.remove(Wn),l.forEach(m=>m())}},[r,e,i,o]),t.createElement(t.Fragment,null,n)});function Zn(e){return Be(Mt,e)}function Xn(e,n,r){const i=e.getAttribute(n);return e.setAttribute(n,r),()=>{i?e.setAttribute(n,i):e.removeAttribute(n)}}const Or=Te(Mt,function({children:e,animation:n,styles:r,className:i,on:o,portal:l,close:a}){const[c,u]=t.useState(!1),[d,m]=t.useState(!1),f=t.useRef([]),v=t.useRef(null),{setTimeout:S}=gt(),{subscribe:L}=dt(),y=_t()?0:n.fade;t.useEffect(()=>(u(!0),()=>{u(!1),m(!1)}),[]);const s=_(()=>{f.current.forEach(b=>b()),f.current=[]}),p=_(()=>{var b;m(!1),s(),(b=o.exiting)===null||b===void 0||b.call(o),S(()=>{var w;(w=o.exited)===null||w===void 0||w.call(o),a()},y)});t.useEffect(()=>L(et,p),[L,p]);const M=_(b=>{var w,P,$;(function(I){I.scrollTop})(b),m(!0),(w=o.entering)===null||w===void 0||w.call(o);const k=($=(P=b.parentNode)===null||P===void 0?void 0:P.children)!==null&&$!==void 0?$:[];for(let I=0;I<k.length;I+=1){const X=k[I];["TEMPLATE","SCRIPT","STYLE"].indexOf(X.tagName)===-1&&X!==b&&(f.current.push(Xn(X,"inert","")),f.current.push(Xn(X,"aria-hidden","true")))}f.current.push(()=>{var I,X;(X=(I=v.current)===null||I===void 0?void 0:I.focus)===null||X===void 0||X.call(I)}),S(()=>{var I;(I=o.entered)===null||I===void 0||I.call(o)},y)}),g=t.useCallback(b=>{b?M(b):s()},[M,s]);return c?sr.createPortal(t.createElement(Ir,{ref:g,className:fe(i,C(Zn()),C(nn),d&&C(Zn("open"))),"aria-modal":!0,role:"dialog","aria-live":"polite","aria-roledescription":"lightbox",style:{...n.fade!==Wt.animation.fade?{[B("fade_animation_duration")]:`${y}ms`}:null,...n.easing.fade!==Wt.animation.easing.fade?{[B("fade_animation_timing_function")]:n.easing.fade}:null,...r.root},onFocus:b=>{v.current||(v.current=b.relatedTarget)}},e),l.root||document.body):null}),Fr=Te("root",function({children:e}){return t.createElement(t.Fragment,null,e)}),Wr=Te(Qt,function({toolbar:{buttons:e},render:{buttonClose:n,iconClose:r},styles:i}){const{close:o,setToolbarWidth:l}=$e(),{setContainerRef:a,containerRect:c}=In();return Le(()=>{l(c?.width)},[l,c?.width]),t.createElement("div",{ref:a,style:i.toolbar,className:C(Be(Qt,void 0))},e?.map(u=>u===et?n?n():t.createElement(bt,{key:et,label:"Close",icon:Er,renderIcon:r,onClick:o}):u))});function An(e,n){var r;return t.createElement(e.module.component,{key:e.module.name,...n},(r=e.children)===null||r===void 0?void 0:r.map(i=>An(i,n)))}function _r(e,n={}){const{easing:r,...i}=e,{easing:o,...l}=n;return{easing:{...r,...o},...i,...l}}function Zr({carousel:e,animation:n,render:r,toolbar:i,controller:o,noScroll:l,on:a,plugins:c,slides:u,index:d,...m}){const{animation:f,carousel:v,render:S,toolbar:L,controller:y,noScroll:s,on:p,slides:M,index:g,plugins:b,...w}=Wt,{config:P,augmentation:$}=function(I,X=[],j=[]){let x=I;const A=z=>{const O=[...x];for(;O.length>0;){const T=O.pop();if(T?.module.name===z)return!0;T?.children&&O.push(...T.children)}return!1},F=(z,O)=>{x=z!==""?tt(x,z,T=>[te(O,[T])]):[te(O,x)]},R=(z,O)=>{x=tt(x,z,T=>[te(T.module,[te(O,T.children)])])},J=(z,O,T)=>{x=tt(x,z,Z=>{var Y;return[te(Z.module,[...T?[te(O)]:[],...(Y=Z.children)!==null&&Y!==void 0?Y:[],...T?[]:[te(O)]])]})},U=(z,O,T)=>{x=tt(x,z,Z=>[...T?[te(O)]:[],Z,...T?[]:[te(O)]])},re=z=>{R(yt,z)},ge=(z,O)=>{x=tt(x,z,T=>[te(O,T.children)])},N=z=>{x=tt(x,z,O=>O.children)},K=z=>{j.push(z)};return X.forEach(z=>{z({contains:A,addParent:F,append:R,addChild:J,addSibling:U,addModule:re,replace:ge,remove:N,augment:K})}),{config:x,augmentation:z=>j.reduce((O,T)=>T(O),z)}}([te(Or,[te($r,[te(Lr,[te(Nr),te(Wr),te(zr)])])])],c||b),k=$({animation:_r(f,n),carousel:{...v,...e},render:{...S,...r},toolbar:{...L,...i},controller:{...y,...o},noScroll:{...s,...l},on:{...p,...a},...w,...m});return k.open?t.createElement(yn,{...k},t.createElement(wr,{slides:u||M,index:pt(d||g)},t.createElement(xr,null,t.createElement(vr,null,An(te(Fr,P),k))))):null}const Xr={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},Yn=e=>({...Xr,...e});function Et(){const{zoom:e}=ae();return Yn(e)}function Hn(e,n){return((e.clientX-n.clientX)**2+(e.clientY-n.clientY)**2)**.5}function Bn(e,n,r=100,i=2){return e*Math.min(1+Math.abs(n/r),i)**Math.sign(n)}const jn=t.createContext(null),Ht=ze("useZoom","ZoomControllerContext",jn);function Ar({children:e}){const[n,r]=t.useState(),{slideRect:i}=$e(),{imageRect:o,maxZoom:l}=function(s,p){var M,g;let b={width:0,height:0},w={width:0,height:0};const{currentSlide:P}=De(),{imageFit:$}=ae().carousel,{maxZoomPixelRatio:k}=Et();if(s&&P){const I={...P,...p};if(Ue(I)){const X=Dt(I,$),j=Math.max(...(((M=I.srcSet)===null||M===void 0?void 0:M.map(A=>A.width))||[]).concat(I.width?[I.width]:[])),x=Math.max(...(((g=I.srcSet)===null||g===void 0?void 0:g.map(A=>A.height))||[]).concat(I.height?[I.height]:[]));j>0&&x>0&&s.width>0&&s.height>0&&(w=X?{width:Math.round(Math.min(j,s.width/s.height*x)),height:Math.round(Math.min(x,s.height/s.width*j))}:{width:j,height:x},w={width:w.width*k,height:w.height*k},b=X?{width:Math.min(s.width,w.width,j),height:Math.min(s.height,w.height,x)}:{width:Math.round(Math.min(s.width,s.height/x*j,j)),height:Math.round(Math.min(s.height,s.width/j*x,x))})}}return{imageRect:b,maxZoom:b.width?Math.max(Tt(w.width/b.width,5),1):1}}(i,n?.imageDimensions),{zoom:a,offsetX:c,offsetY:u,disabled:d,changeZoom:m,changeOffsets:f,zoomIn:v,zoomOut:S}=function(s,p,M){const[g,b]=t.useState(1),[w,P]=t.useState(0),[$,k]=t.useState(0),I=function(z,O,T,Z){const Y=t.useRef(void 0),ie=t.useRef(void 0),{zoom:Ce}=ae().animation,xe=_t(),E=_(()=>{var D,q,oe;if((D=Y.current)===null||D===void 0||D.cancel(),Y.current=void 0,ie.current&&Z?.current){try{Y.current=(oe=(q=Z.current).animate)===null||oe===void 0?void 0:oe.call(q,[{transform:ie.current},{transform:`scale(${z}) translateX(${O}px) translateY(${T}px)`}],{duration:xe?0:Ce??500,easing:Y.current?"ease-out":"ease-in-out"})}catch{}ie.current=void 0,Y.current&&(Y.current.onfinish=()=>{Y.current=void 0})}});return Le(E,[z,O,T,E]),t.useCallback(()=>{ie.current=Z?.current?window.getComputedStyle(Z.current).transform:void 0},[Z])}(g,w,$,M),{currentSlide:X,globalIndex:j}=De(),{containerRect:x,slideRect:A}=$e(),{zoomInMultiplier:F}=Et(),R=X&&Ue(X)?X.src:void 0,J=!R||!M?.current;Le(()=>{b(1),P(0),k(0)},[j,R]);const U=t.useCallback((z,O,T)=>{const Z=T||g,Y=w-(z||0),ie=$-(O||0),Ce=(s.width*Z-A.width)/2/Z,xe=(s.height*Z-A.height)/2/Z;P(Math.min(Math.abs(Y),Math.max(Ce,0))*Math.sign(Y)),k(Math.min(Math.abs(ie),Math.max(xe,0))*Math.sign(ie))},[g,w,$,A,s.width,s.height]),re=t.useCallback((z,O,T,Z)=>{const Y=Tt(Math.min(Math.max(z+.001<p?z:p,1),p),5);Y!==g&&(O||I(),U(T?T*(1/g-1/Y):0,Z?Z*(1/g-1/Y):0,Y),b(Y))},[g,p,U,I]),ge=_(()=>{g>1&&(g>p&&re(p,!0),U())});Le(ge,[x.width,x.height,ge]);const N=t.useCallback(()=>re(g*F),[g,F,re]),K=t.useCallback(()=>re(g/F),[g,F,re]);return{zoom:g,offsetX:w,offsetY:$,disabled:J,changeOffsets:U,changeZoom:re,zoomIn:N,zoomOut:K}}(o,l,n?.zoomWrapperRef);(function(s,p){const{on:M}=ae(),g=_(()=>{var b;p||(b=M.zoom)===null||b===void 0||b.call(M,{zoom:s})});t.useEffect(g,[s,g])})(a,d),function(s,p,M,g,b,w){const P=t.useRef([]),$=t.useRef(0),k=t.useRef(void 0),{globalIndex:I}=De(),{getOwnerWindow:X}=ut(),{containerRef:j,subscribeSensors:x}=$e(),{keyboardMoveDistance:A,zoomInMultiplier:F,wheelZoomDistanceFactor:R,scrollToZoom:J,doubleTapDelay:U,doubleClickDelay:re,doubleClickMaxStops:ge,pinchZoomDistanceFactor:N}=Et(),K=t.useCallback(E=>{if(j.current){const{pageX:D,pageY:q}=E,{scrollX:oe,scrollY:Ee}=X(),{left:de,top:ke,width:be,height:Oe}=j.current.getBoundingClientRect();return[D-de-oe-be/2,q-ke-Ee-Oe/2]}return[]},[j,X]),z=_(E=>{const{key:D,metaKey:q,ctrlKey:oe}=E,Ee=q||oe,de=()=>{E.preventDefault(),E.stopPropagation()};if(s>1){const be=(Oe,ht)=>{de(),b(Oe,ht)};D==="ArrowDown"?be(0,A):D==="ArrowUp"?be(0,-A):D==="ArrowLeft"?be(-A,0):D==="ArrowRight"&&be(A,0)}const ke=be=>{de(),g(be)};D==="+"||Ee&&D==="="?ke(s*F):D==="-"||Ee&&D==="_"?ke(s/F):Ee&&D==="0"&&ke(1)}),O=_(E=>{if((E.ctrlKey||J)&&Math.abs(E.deltaY)>Math.abs(E.deltaX))return E.stopPropagation(),void g(Bn(s,-E.deltaY,R),!0,...K(E));s>1&&(E.stopPropagation(),J||b(E.deltaX,E.deltaY))}),T=t.useCallback(E=>{const D=P.current;D.splice(0,D.length,...D.filter(q=>q.pointerId!==E.pointerId))},[]),Z=t.useCallback(E=>{T(E),E.persist(),P.current.push(E)},[T]),Y=_(E=>{var D;const q=P.current;if(E.pointerType==="mouse"&&E.buttons>1||!(!((D=w?.current)===null||D===void 0)&&D.contains(E.target)))return;s>1&&E.stopPropagation();const{timeStamp:oe}=E;q.length===0&&oe-$.current<(E.pointerType==="touch"?U:re)?($.current=0,g(s!==p?s*Math.max(p**(1/ge),F):1,!1,...K(E))):$.current=oe,Z(E),q.length===2&&(k.current=Hn(q[0],q[1]))}),ie=_(E=>{const D=P.current,q=D.find(oe=>oe.pointerId===E.pointerId);if(D.length===2&&k.current){E.stopPropagation(),Z(E);const oe=Hn(D[0],D[1]),Ee=oe-k.current;Math.abs(Ee)>0&&(g(Bn(s,Ee,N),!0,...D.map(de=>K(de)).reduce((de,ke)=>ke.map((be,Oe)=>de[Oe]+be/2))),k.current=oe)}else s>1&&(E.stopPropagation(),q&&(D.length===1&&b((q.clientX-E.clientX)/s,(q.clientY-E.clientY)/s),Z(E)))}),Ce=t.useCallback(E=>{const D=P.current;D.length===2&&D.find(q=>q.pointerId===E.pointerId)&&(k.current=void 0),T(E)},[T]),xe=t.useCallback(()=>{const E=P.current;E.splice(0,E.length),$.current=0,k.current=void 0},[]);Nn(x,Y,ie,Ce,M),t.useEffect(xe,[I,xe]),t.useEffect(()=>M?()=>{}:ft(xe,x(Pt,z),x(Nt,O)),[M,x,xe,z,O])}(a,l,d,m,f,n?.zoomWrapperRef);const L=t.useMemo(()=>({zoom:a,maxZoom:l,offsetX:c,offsetY:u,disabled:d,zoomIn:v,zoomOut:S,changeZoom:m}),[a,l,c,u,d,v,S,m]);t.useImperativeHandle(Et().ref,()=>L,[L]);const y=t.useMemo(()=>({...L,setZoomWrapper:r}),[L,r]);return t.createElement(jn.Provider,{value:y},e)}const Yr=Ie("ZoomIn",t.createElement(t.Fragment,null,t.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),t.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Hr=Ie("ZoomOut",t.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),Un=t.forwardRef(function({zoomIn:e,onLoseFocus:n},r){const i=t.useRef(!1),o=t.useRef(!1),{zoom:l,maxZoom:a,zoomIn:c,zoomOut:u,disabled:d}=Ht(),{render:m}=ae(),f=d||(e?l>=a:l<=1);return t.useEffect(()=>{f&&i.current&&o.current&&n(),f||(i.current=!0)},[f,n]),t.createElement(bt,{ref:r,disabled:f,label:e?"Zoom in":"Zoom out",icon:e?Yr:Hr,renderIcon:e?m.iconZoomIn:m.iconZoomOut,onClick:e?c:u,onFocus:()=>{o.current=!0},onBlur:()=>{o.current=!1}})});function Br(){const e=t.useRef(null),n=t.useRef(null),{focus:r}=$e(),i=t.useCallback(a=>{var c,u;!((c=a.current)===null||c===void 0)&&c.disabled?r():(u=a.current)===null||u===void 0||u.focus()},[r]),o=t.useCallback(()=>i(e),[i]),l=t.useCallback(()=>i(n),[i]);return t.createElement(t.Fragment,null,t.createElement(Un,{zoomIn:!0,ref:e,onLoseFocus:l}),t.createElement(Un,{ref:n,onLoseFocus:o}))}function jr(){const{render:e}=ae(),n=Ht();return e.buttonZoom?t.createElement(t.Fragment,null,e.buttonZoom(n)):t.createElement(Br,null)}function Ur({current:e,preload:n},{type:r,source:i}){switch(r){case"fetch":return e?{current:e,preload:i}:{current:i};case"done":return i===n?{current:i}:{current:e,preload:n};default:throw new Error(hn)}}function Vr(e){var n,r;const[{current:i,preload:o},l]=t.useReducer(Ur,{}),{slide:a,rect:c,imageFit:u,render:d,interactive:m}=e,f=a.srcSet.sort((w,P)=>w.width-P.width),v=(n=a.width)!==null&&n!==void 0?n:f[f.length-1].width,S=(r=a.height)!==null&&r!==void 0?r:f[f.length-1].height,L=Dt(a,u),y=Math.max(...f.map(w=>w.width)),s=Math.min((L?Math.max:Math.min)(c.width,v*(c.height/S)),y),p=(zt()?window?.devicePixelRatio:void 0)||1,M=_(()=>{var w;const P=(w=f.find($=>$.width>=s*p))!==null&&w!==void 0?w:f[f.length-1];(!i||f.findIndex($=>$.src===i)<f.findIndex($=>$===P))&&l({type:"fetch",source:P.src})});Le(M,[c.width,c.height,p,M]);const g=_(w=>l({type:"done",source:w})),b={WebkitTransform:m?"initial":"translateZ(0)"};return L||Object.assign(b,c.width/c.height<v/S?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),t.createElement(t.Fragment,null,o&&o!==i&&t.createElement(Ve,{key:"preload",...e,offset:void 0,slide:{...a,src:o,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...b},onLoad:()=>g(o),render:{...d,iconLoading:()=>null,iconError:()=>null}}),i&&t.createElement(Ve,{key:"current",...e,slide:{...a,src:i,srcSet:void 0},style:b}))}function Kr({render:e,slide:n,offset:r,rect:i}){var o;const[l,a]=t.useState(),c=t.useRef(null),{zoom:u,maxZoom:d,offsetX:m,offsetY:f,setZoomWrapper:v}=Ht(),S=u>1,{carousel:L,on:y}=ae(),{currentIndex:s}=De();Le(()=>r===0?(v({zoomWrapperRef:c,imageDimensions:l}),()=>v(void 0)):()=>{},[r,l,v]);let p=(o=e.slide)===null||o===void 0?void 0:o.call(e,{slide:n,offset:r,rect:i,zoom:u,maxZoom:d});if(!p&&Ue(n)){const M={slide:n,offset:r,rect:i,render:e,imageFit:L.imageFit,imageProps:L.imageProps,onClick:r===0?()=>{var g;return(g=y.click)===null||g===void 0?void 0:g.call(y,{index:s})}:void 0};p=function(g){var b;return(((b=g.srcSet)===null||b===void 0?void 0:b.length)||0)>0}(n)?t.createElement(Vr,{...M,slide:n,interactive:S,rect:r===0?{width:i.width*u,height:i.height*u}:i}):t.createElement(Ve,{onLoad:g=>a({width:g.naturalWidth,height:g.naturalHeight}),...M})}return p?t.createElement("div",{ref:c,className:fe(C("fullsize"),C(Qe),C(rn),S&&C("slide_wrapper_interactive")),style:r===0?{transform:`scale(${u}) translateX(${m}px) translateY(${f}px)`}:void 0},p):null}const qr=({augment:e,addModule:n})=>{e(({zoom:r,toolbar:i,render:o,controller:l,...a})=>{const c=Yn(r);return{zoom:c,toolbar:vn(i,tn,t.createElement(jr,null)),render:{...o,slide:u=>{var d;return Ue(u.slide)?t.createElement(Kr,{render:o,...u}):(d=o.slide)===null||d===void 0?void 0:d.call(o,u)}},controller:{...l,preventDefaultWheelY:c.scrollToZoom},...a}}),n(Te(tn,Ar))},qe={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},Bt=e=>({...qe,...e});function Vn(){const{thumbnails:e}=ae();return Bt(e)}const Ge=e=>Be(Ct,e),ne=e=>Ge(Be("thumbnail",e)),Gr=Ie("VideoThumbnail",t.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),Jr=Ie("UnknownThumbnail",t.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"})),Qr=je("active"),jt=je("fadein"),Ut=je("fadeout"),eo=je("placeholder"),Kn="delay",qn="duration";function to({slide:e,onClick:n,active:r,fadeIn:i,fadeOut:o,placeholder:l,onLoseFocus:a}){const c=t.useRef(null),{render:u,styles:d}=ae(),{getOwnerDocument:m}=ut(),{width:f,height:v,imageFit:S}=Vn(),L={width:f,height:v},y=_(a);return t.useEffect(()=>{o&&m().activeElement===c.current&&y()},[o,y,m]),t.createElement("button",{ref:c,type:"button",className:fe(C(Qe),C(ne()),r&&C(ne(Qr())),i&&C(ne(jt())),o&&C(ne(Ut())),l&&C(ne(eo()))),style:{...i?{[B(ne(jt(qn)))]:`${i.duration}ms`,[B(ne(jt(Kn)))]:`${i.delay}ms`}:null,...o?{[B(ne(Ut(qn)))]:`${o.duration}ms`,[B(ne(Ut(Kn)))]:`${o.delay}ms`}:null,...d.thumbnail},onClick:n},e&&function({slide:s,render:p,rect:M,imageFit:g}){var b;const w=(b=p.thumbnail)===null||b===void 0?void 0:b.call(p,{slide:s,render:p,rect:M,imageFit:g});if(w)return w;const P={render:p,rect:M,imageFit:g};if(s.thumbnail)return t.createElement(Ve,{slide:{src:s.thumbnail},...P});if(Ue(s))return t.createElement(Ve,{slide:s,...P});const $=C(ne(mt));return s.type==="video"?t.createElement(t.Fragment,null,s.poster&&t.createElement(Ve,{slide:{src:s.poster},...P}),t.createElement(Gr,{className:$})):t.createElement(Jr,{className:$})}({slide:e,render:u,rect:L,imageFit:S}))}function Gn(e){return["top","bottom"].includes(e)}function Jn(e,n){return n+2*(e.border+e.padding)+e.gap}function no(e){const{thumbnail:n,poster:r}=e||{thumbnail:"placeholder"};return typeof n=="string"&&n||typeof r=="string"&&r||e&&pn(e)||void 0}function Qn({visible:e,containerRef:n}){const r=t.useRef(null),i=xt(),{publish:o,subscribe:l}=dt(),{carousel:a,styles:c}=ae(),{slides:u,globalIndex:d,animation:m}=De(),{registerSensors:f,subscribeSensors:v}=Sn();On(v);const S=Vn(),{position:L,width:y,height:s,border:p,borderStyle:M,borderColor:g,borderRadius:b,padding:w,gap:P,vignette:$}=S,k=m?.duration!==void 0&&m?.increment||0,I=m?.duration||0,{prepareAnimation:X}=Zt(r,F=>({keyframes:Gn(L)?[{transform:`translateX(${(i?-1:1)*Jn(S,y)*k+F}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${Jn(S,s)*k+F}px)`},{transform:"translateY(0)"}],duration:I,easing:m?.easing})),j=_(()=>{let F=0;if(n.current&&r.current){const R=n.current.getBoundingClientRect(),J=r.current.getBoundingClientRect();F=Gn(L)?J.left-R.left-(R.width-J.width)/2:J.top-R.top-(R.height-J.height)/2}X(F)});t.useEffect(()=>ft(l(St,j)),[l,j]);const x=gn(a,u),A=[];if($t(u))for(let F=d-x-Math.abs(k);F<=d+x+Math.abs(k);F+=1){const R=a.finite&&(F<0||F>u.length-1)||k<0&&F<d-x||k>0&&F>d+x?null:Ot(u,F),J=[`${F}`,no(R)].filter(Boolean).join("|");A.push({key:J,index:F,slide:R})}return t.createElement("div",{className:fe(C(Ge("container")),C(Qe)),style:{...e?null:{display:"none"},...y!==qe.width?{[B(ne("width"))]:`${y}px`}:null,...s!==qe.height?{[B(ne("height"))]:`${s}px`}:null,...p!==qe.border?{[B(ne("border"))]:`${p}px`}:null,...M?{[B(ne("border_style"))]:M}:null,...g?{[B(ne("border_color"))]:g}:null,...b!==qe.borderRadius?{[B(ne("border_radius"))]:`${b}px`}:null,...w!==qe.padding?{[B(ne("padding"))]:`${w}px`}:null,...P!==qe.gap?{[B(ne("gap"))]:`${P}px`}:null,...c.thumbnailsContainer}},t.createElement("nav",{ref:r,style:c.thumbnailsTrack,className:fe(C(Ge("track")),C(Qe)),tabIndex:-1,...f},A.map(({key:F,index:R,slide:J})=>{const U=I/Math.abs(k||1),re=k>0&&R>d+x-k&&R<=d+x||k<0&&R<d-x-k&&R>=d-x?{duration:U,delay:((k>0?R-(d+x-k):d-x-k-R)-1)*U}:void 0,ge=k>0&&R<d-x||k<0&&R>d+x?{duration:U,delay:(k>0?k-(d-x-R):-k-(R-(d+x)))*U}:void 0;return t.createElement(to,{key:F,slide:J,active:R===d,fadeIn:re,fadeOut:ge,placeholder:!J,onClick:(N=R,()=>{N>d?o(Ze,{count:N-d}):N<d&&o(_e,{count:d-N})}),onLoseFocus:()=>{var K;return(K=r.current)===null||K===void 0?void 0:K.focus()}});var N})),$&&t.createElement("div",{className:C(Ge("vignette"))}))}const er=t.createContext(null),ro=ze("useThumbnails","ThumbnailsContext",er);function oo({children:e,...n}){const{ref:r,position:i,hidden:o}=Bt(n.thumbnails),[l,a]=t.useState(!o),c=t.useRef(null),u=t.useMemo(()=>({visible:l,show:()=>a(!0),hide:()=>a(!1)}),[l]);return t.useImperativeHandle(r,()=>u,[u]),t.createElement(yn,{...n},t.createElement(er.Provider,{value:u},t.createElement("div",{ref:c,className:fe(C(Ge()),C(Ge(`${i}`)))},["start","top"].includes(i)&&t.createElement(Qn,{containerRef:c,visible:l}),t.createElement("div",{className:C(Ge("wrapper"))},e),["end","bottom"].includes(i)&&t.createElement(Qn,{containerRef:c,visible:l}))))}const tr=()=>t.createElement(t.Fragment,null,t.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),t.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),io=Ie("ThumbnailsVisible",tr()),lo=(nr=tr(),Rn("ThumbnailsHidden",t.createElement(t.Fragment,null,t.createElement("defs",null,t.createElement("mask",{id:"strike"},t.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),t.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),t.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),t.createElement("g",{fill:"currentColor",mask:"url(#strike)"},t.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),nr))));var nr;function ao(){const{visible:e,show:n,hide:r}=ro(),{render:i}=ae();return i.buttonThumbnails?t.createElement(t.Fragment,null,i.buttonThumbnails({visible:e,show:n,hide:r})):t.createElement(bt,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?io:lo,renderIcon:e?i.iconThumbnailsVisible:i.iconThumbnailsHidden,onClick:e?r:n})}function co({augment:e,contains:n,append:r,addParent:i}){e(({thumbnails:l,toolbar:a,...c})=>{const u=Bt(l);return{toolbar:vn(a,Ct,u.showToggle?t.createElement(ao,null):null),thumbnails:u,...c}});const o=Te(Ct,oo);n(en)?r(en,o):i(yt,o)}const so=({isOpen:e,onClose:n,images:r,initialIndex:i=0})=>{const[o,l]=t.useState(!1),a=t.useRef({y:0,x:0}),c=t.useRef({y:0,x:0}),u=t.useRef(null),d=t.useRef(0),m=(Array.isArray(r)?r.filter(Boolean):typeof r=="string"&&r?[r]:[]).map(v=>typeof v=="string"?{src:v,alt:"Image"}:v&&typeof v=="object"?{src:v.img||v.src||"",alt:v.alt||v.title||"Image"}:null).filter(Boolean),f=()=>{const v=window.scrollY;n(),setTimeout(()=>{window.scrollTo(0,v)},50)};return t.useEffect(()=>{if(e){d.current=window.scrollY;const v=document.createElement("style");v.innerHTML=`
  .yarl__container {
    transition: transform 0.3s ease, opacity 0.3s ease !important;
  }
  
  .yarl__container.swiping-down {
    transform: translateY(150px) !important;
    opacity: 0.7 !important;
  }
  
  .yarl__container.swiping-close {
    transform: translateY(100vh) !important;
    opacity: 0 !important;
  }
`,document.head.appendChild(v),setTimeout(()=>{const s=document.querySelector(".yarl__container");s&&(u.current=s)},100);const S=s=>{a.current={y:s.touches[0].clientY,x:s.touches[0].clientX},c.current={...a.current}},L=s=>{const p=s.touches[0].clientY,M=s.touches[0].clientX,g=p-a.current.y,b=M-a.current.x;c.current={y:p,x:M};const w=document.querySelector(".yarl__slide_image"),P=w&&window.getComputedStyle(w).transform!=="none"&&window.getComputedStyle(w).transform!=="matrix(1, 0, 0, 1, 0, 0)";g>20&&Math.abs(g)>Math.abs(b)&&!P&&(l(!0),u.current&&u.current.classList.add("swiping-down"),s.preventDefault())},y=()=>{o&&(c.current.y-a.current.y>80?(u.current&&u.current.classList.add("swiping-close"),setTimeout(()=>{f(),l(!1),u.current&&u.current.classList.remove("swiping-down","swiping-close")},300)):(u.current&&u.current.classList.remove("swiping-down"),l(!1)))};return document.addEventListener("touchstart",S,{passive:!1}),document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("touchend",y,{passive:!1}),()=>{v.remove(),document.removeEventListener("touchstart",S),document.removeEventListener("touchmove",L),document.removeEventListener("touchend",y)}}},[e,o]),e?ur.createPortal(ct.jsx(Zr,{open:e,close:f,slides:m,index:i,plugins:[qr,co],carousel:{finite:m.length<=1,preload:2,padding:"0px",spacing:"1em",imageFit:"contain"},animation:{fade:300,swipe:500,navigation:250},zoom:{maxZoomPixelRatio:3,zoomInMultiplier:1.5,doubleTapDelay:300,doubleClickDelay:300,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!0},thumbnails:{position:"bottom",width:80,height:60,border:1,borderRadius:4,padding:4,gap:8,showToggle:!1},render:{iconPrev:()=>ct.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:ct.jsx("path",{d:"M15 18l-6-6 6-6"})}),iconNext:()=>ct.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:ct.jsx("path",{d:"M9 18l6-6-6-6"})})},styles:{container:{backgroundColor:"rgba(0, 0, 0, 0.9)",backdropFilter:"blur(8px)"},slide:{width:"90%",maxWidth:"1200px",maxHeight:"85vh"},image:{objectFit:"contain",maxHeight:"85vh",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.4)"},button:{filter:"drop-shadow(0 0 1px rgba(0, 0, 0, 0.5))",color:"#fff"},buttonPrev:{background:"rgba(30, 30, 30, 0.6)",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},buttonNext:{background:"rgba(30, 30, 30, 0.6)",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},buttonClose:{background:"rgba(30, 30, 30, 0.8)",borderRadius:"50%",width:"44px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"15px",marginRight:"15px"}}}),document.body):null};export{hr as C,so as S};
