{"version":3,"file":"SimpleImageViewer.DCWkQqHX.js","sources":["../../node_modules/@mui/icons-material/ChatBubbleOutline.js","../../node_modules/yet-another-react-lightbox/dist/types.js","../../node_modules/yet-another-react-lightbox/dist/index.js","../../node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js","../../node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js","../../src/components/SimpleImageViewer.js"],"sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H6l-2 2V4h16z\"\n}), 'ChatBubbleOutline');","const MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = (status) => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst CLASS_SLIDE = \"slide\";\nconst CLASS_SLIDE_WRAPPER = \"slide_wrapper\";\nconst CLASS_SLIDE_WRAPPER_INTERACTIVE = \"slide_wrapper_interactive\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FLEX_CENTER, CLASS_FULLSIZE, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE, CLASS_SLIDE_WRAPPER, CLASS_SLIDE_WRAPPER_INTERACTIVE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SLIDE_STATUS_PLAYING, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus };\n","'use client';\nimport * as React from 'react';\nimport { IMAGE_FIT_COVER, IMAGE_FIT_CONTAIN, ACTION_CLOSE, MODULE_CONTROLLER, UNKNOWN_ACTION_TYPE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_WHEEL, EVENT_ON_KEY_UP, EVENT_ON_KEY_DOWN, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_UP, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_DOWN, SLIDE_STATUS_LOADING, activeSlideStatus, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_PLACEHOLDER, CLASS_SLIDE, CLASS_SLIDE_WRAPPER, ACTION_PREV, ACTION_NEXT, ACTION_SWIPE, MODULE_PORTAL, CLASS_FLEX_CENTER, MODULE_CAROUSEL, VK_ARROW_RIGHT, VK_ARROW_LEFT, VK_ESCAPE, MODULE_NAVIGATION, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, MODULE_NO_SCROLL, MODULE_ROOT, MODULE_TOOLBAR } from './types.js';\nimport { createPortal } from 'react-dom';\nexport { ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FULLSIZE, CLASS_SLIDE_WRAPPER_INTERACTIVE, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_PLAYING } from './types.js';\n\nconst cssPrefix$3 = \"yarl__\";\nfunction clsx(...classes) {\n    return [...classes].filter(Boolean).join(\" \");\n}\nfunction cssClass(name) {\n    return `${cssPrefix$3}${name}`;\n}\nfunction cssVar(name) {\n    return `--${cssPrefix$3}${name}`;\n}\nfunction composePrefix(base, prefix) {\n    return `${base}${prefix ? `_${prefix}` : \"\"}`;\n}\nfunction makeComposePrefix(base) {\n    return (prefix) => composePrefix(base, prefix);\n}\nfunction label(labels, defaultLabel) {\n    var _a;\n    return (_a = labels === null || labels === void 0 ? void 0 : labels[defaultLabel]) !== null && _a !== void 0 ? _a : defaultLabel;\n}\nfunction cleanup(...cleaners) {\n    return () => {\n        cleaners.forEach((cleaner) => {\n            cleaner();\n        });\n    };\n}\nfunction makeUseContext(name, contextName, context) {\n    return () => {\n        const ctx = React.useContext(context);\n        if (!ctx) {\n            throw new Error(`${name} must be used within a ${contextName}.Provider`);\n        }\n        return ctx;\n    };\n}\nfunction hasWindow() {\n    return typeof window !== \"undefined\";\n}\nfunction round(value, decimals = 0) {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction isImageSlide(slide) {\n    return slide.type === undefined || slide.type === \"image\";\n}\nfunction isImageFitCover(image, imageFit) {\n    return image.imageFit === IMAGE_FIT_COVER || (image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER);\n}\nfunction parseInt(value) {\n    return typeof value === \"string\" ? Number.parseInt(value, 10) : value;\n}\nfunction parseLengthPercentage(input) {\n    if (typeof input === \"number\") {\n        return { pixel: input };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input);\n        return input.endsWith(\"%\") ? { percent: value } : { pixel: value };\n    }\n    return { pixel: 0 };\n}\nfunction computeSlideRect(containerRect, padding) {\n    const paddingValue = parseLengthPercentage(padding);\n    const paddingPixels = paddingValue.percent !== undefined ? (containerRect.width / 100) * paddingValue.percent : paddingValue.pixel;\n    return {\n        width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n        height: Math.max(containerRect.height - 2 * paddingPixels, 0),\n    };\n}\nfunction devicePixelRatio() {\n    return (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\n}\nfunction getSlideIndex(index, slidesCount) {\n    return slidesCount > 0 ? ((index % slidesCount) + slidesCount) % slidesCount : 0;\n}\nfunction hasSlides(slides) {\n    return slides.length > 0;\n}\nfunction getSlide(slides, index) {\n    return slides[getSlideIndex(index, slides.length)];\n}\nfunction getSlideIfPresent(slides, index) {\n    return hasSlides(slides) ? getSlide(slides, index) : undefined;\n}\nfunction getSlideKey(slide) {\n    return isImageSlide(slide) ? slide.src : undefined;\n}\nfunction addToolbarButton(toolbar, key, button) {\n    if (!button)\n        return toolbar;\n    const { buttons, ...restToolbar } = toolbar;\n    const index = buttons.findIndex((item) => item === key);\n    const buttonWithKey = React.isValidElement(button) ? React.cloneElement(button, { key }, null) : button;\n    if (index >= 0) {\n        const result = [...buttons];\n        result.splice(index, 1, buttonWithKey);\n        return { buttons: result, ...restToolbar };\n    }\n    return { buttons: [buttonWithKey, ...buttons], ...restToolbar };\n}\nfunction stopNavigationEventsPropagation() {\n    const stopPropagation = (event) => {\n        event.stopPropagation();\n    };\n    return { onPointerDown: stopPropagation, onKeyDown: stopPropagation, onWheel: stopPropagation };\n}\nfunction calculatePreload(carousel, slides, minimum = 0) {\n    return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\nconst isReact19 = Number(React.version.split(\".\")[0]) >= 19;\nfunction makeInertWhen(condition) {\n    const legacyValue = condition ? \"\" : undefined;\n    return { inert: isReact19 ? condition : legacyValue };\n}\nfunction reflow(node) {\n    node.scrollTop;\n}\n\nconst LightboxDefaultProps = {\n    open: false,\n    close: () => { },\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: { buttons: [ACTION_CLOSE] },\n    labels: {},\n    animation: {\n        fade: 250,\n        swipe: 500,\n        easing: {\n            fade: \"ease\",\n            swipe: \"ease-out\",\n            navigation: \"ease-in-out\",\n        },\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: IMAGE_FIT_CONTAIN,\n        imageProps: {},\n    },\n    controller: {\n        ref: null,\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnPullUp: false,\n        closeOnPullDown: false,\n        closeOnBackdropClick: false,\n        preventDefaultWheelX: true,\n        preventDefaultWheelY: false,\n        disableSwipeNavigation: false,\n    },\n    portal: {},\n    noScroll: {\n        disabled: false,\n    },\n    on: {},\n    styles: {},\n    className: \"\",\n};\n\nfunction createModule(name, component) {\n    return { name, component };\n}\nfunction createNode(module, children) {\n    return { module, children };\n}\nfunction traverseNode(node, target, apply) {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n) => { var _a; return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : []; })),\n        ];\n    }\n    return [node];\n}\nfunction traverse(nodes, target, apply) {\n    return nodes.flatMap((node) => { var _a; return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : []; });\n}\nfunction withPlugins(root, plugins = [], augmentations = []) {\n    let config = root;\n    const contains = (target) => {\n        const nodes = [...config];\n        while (nodes.length > 0) {\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target)\n                return true;\n            if (node === null || node === void 0 ? void 0 : node.children)\n                nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module) => {\n        if (target === \"\") {\n            config = [createNode(module, config)];\n            return;\n        }\n        config = traverse(config, target, (node) => [createNode(module, [node])]);\n    };\n    const append = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(node.module, [createNode(module, node.children)])]);\n    };\n    const addChild = (target, module, precede) => {\n        config = traverse(config, target, (node) => {\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...(precede ? [createNode(module)] : []),\n                    ...((_a = node.children) !== null && _a !== void 0 ? _a : []),\n                    ...(!precede ? [createNode(module)] : []),\n                ]),\n            ];\n        });\n    };\n    const addSibling = (target, module, precede) => {\n        config = traverse(config, target, (node) => [\n            ...(precede ? [createNode(module)] : []),\n            node,\n            ...(!precede ? [createNode(module)] : []),\n        ]);\n    };\n    const addModule = (module) => {\n        append(MODULE_CONTROLLER, module);\n    };\n    const replace = (target, module) => {\n        config = traverse(config, target, (node) => [createNode(module, node.children)]);\n    };\n    const remove = (target) => {\n        config = traverse(config, target, (node) => node.children);\n    };\n    const augment = (augmentation) => {\n        augmentations.push(augmentation);\n    };\n    plugins.forEach((plugin) => {\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            addModule,\n            replace,\n            remove,\n            augment,\n        });\n    });\n    return {\n        config,\n        augmentation: (props) => augmentations.reduce((acc, augmentation) => augmentation(acc), props),\n    };\n}\n\nconst DocumentContext = React.createContext(null);\nconst useDocumentContext = makeUseContext(\"useDocument\", \"DocumentContext\", DocumentContext);\nfunction DocumentContextProvider({ nodeRef, children }) {\n    const context = React.useMemo(() => {\n        const getOwnerDocument = (node) => { var _a; return ((_a = (node || nodeRef.current)) === null || _a === void 0 ? void 0 : _a.ownerDocument) || document; };\n        const getOwnerWindow = (node) => { var _a; return ((_a = getOwnerDocument(node)) === null || _a === void 0 ? void 0 : _a.defaultView) || window; };\n        return { getOwnerDocument, getOwnerWindow };\n    }, [nodeRef]);\n    return React.createElement(DocumentContext.Provider, { value: context }, children);\n}\n\nconst EventsContext = React.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider({ children }) {\n    const [subscriptions] = React.useState({});\n    React.useEffect(() => () => {\n        Object.keys(subscriptions).forEach((topic) => delete subscriptions[topic]);\n    }, [subscriptions]);\n    const context = React.useMemo(() => {\n        const unsubscribe = (topic, callback) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter((cb) => cb !== callback));\n        };\n        const subscribe = (topic, callback) => {\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return () => unsubscribe(topic, callback);\n        };\n        const publish = (...[topic, event]) => {\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback) => callback(event));\n        };\n        return { publish, subscribe, unsubscribe };\n    }, [subscriptions]);\n    return React.createElement(EventsContext.Provider, { value: context }, children);\n}\n\nconst LightboxPropsContext = React.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider({ children, ...props }) {\n    return React.createElement(LightboxPropsContext.Provider, { value: props }, children);\n}\n\nconst LightboxStateContext = React.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = React.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"swipe\": {\n            const { slides } = state;\n            const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n            const globalIndex = state.globalIndex + increment;\n            const currentIndex = getSlideIndex(globalIndex, slides.length);\n            const currentSlide = getSlideIfPresent(slides, currentIndex);\n            const animation = increment || action.duration !== undefined\n                ? {\n                    increment,\n                    duration: action.duration,\n                    easing: action.easing,\n                }\n                : undefined;\n            return { slides, currentIndex, globalIndex, currentSlide, animation };\n        }\n        case \"update\":\n            if (action.slides !== state.slides || action.index !== state.currentIndex) {\n                return {\n                    slides: action.slides,\n                    currentIndex: action.index,\n                    globalIndex: action.index,\n                    currentSlide: getSlideIfPresent(action.slides, action.index),\n                };\n            }\n            return state;\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction LightboxStateProvider({ slides, index, children }) {\n    const [state, dispatch] = React.useReducer(reducer, {\n        slides,\n        currentIndex: index,\n        globalIndex: index,\n        currentSlide: getSlideIfPresent(slides, index),\n    });\n    React.useEffect(() => {\n        dispatch({ type: \"update\", slides, index });\n    }, [slides, index]);\n    const context = React.useMemo(() => ({ ...state, state, dispatch }), [state, dispatch]);\n    return (React.createElement(LightboxDispatchContext.Provider, { value: dispatch },\n        React.createElement(LightboxStateContext.Provider, { value: context }, children)));\n}\n\nconst TimeoutsContext = React.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider({ children }) {\n    const [timeouts] = React.useState([]);\n    React.useEffect(() => () => {\n        timeouts.forEach((tid) => window.clearTimeout(tid));\n        timeouts.splice(0, timeouts.length);\n    }, [timeouts]);\n    const context = React.useMemo(() => {\n        const removeTimeout = (id) => {\n            timeouts.splice(0, timeouts.length, ...timeouts.filter((tid) => tid !== id));\n        };\n        const setTimeout = (fn, delay) => {\n            const id = window.setTimeout(() => {\n                removeTimeout(id);\n                fn();\n            }, delay);\n            timeouts.push(id);\n            return id;\n        };\n        const clearTimeout = (id) => {\n            if (id !== undefined) {\n                removeTimeout(id);\n                window.clearTimeout(id);\n            }\n        };\n        return { setTimeout, clearTimeout };\n    }, [timeouts]);\n    return React.createElement(TimeoutsContext.Provider, { value: context }, children);\n}\n\nconst IconButton = React.forwardRef(function IconButton({ label: label$1, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) {\n    const { styles, labels } = useLightboxProps();\n    const buttonLabel = label(labels, label$1);\n    return (React.createElement(\"button\", { ref: ref, type: \"button\", title: buttonLabel, \"aria-label\": buttonLabel, className: clsx(cssClass(ELEMENT_BUTTON), className), onClick: onClick, style: { ...style, ...styles.button }, ...rest }, renderIcon ? renderIcon() : React.createElement(Icon, { className: cssClass(ELEMENT_ICON), style: styles.icon })));\n});\n\nfunction svgIcon(name, children) {\n    const icon = (props) => (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 24 24\", width: \"24\", height: \"24\", \"aria-hidden\": \"true\", focusable: \"false\", ...props }, children));\n    icon.displayName = name;\n    return icon;\n}\nfunction createIcon(name, glyph) {\n    return svgIcon(name, React.createElement(\"g\", { fill: \"currentColor\" },\n        React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n        glyph));\n}\nfunction createIconDisabled(name, glyph) {\n    return svgIcon(name, React.createElement(React.Fragment, null,\n        React.createElement(\"defs\", null,\n            React.createElement(\"mask\", { id: \"strike\" },\n                React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"white\" }),\n                React.createElement(\"path\", { d: \"M0 0L24 24\", stroke: \"black\", strokeWidth: 4 }))),\n        React.createElement(\"path\", { d: \"M0.70707 2.121320L21.878680 23.292883\", stroke: \"currentColor\", strokeWidth: 2 }),\n        React.createElement(\"g\", { fill: \"currentColor\", mask: \"url(#strike)\" },\n            React.createElement(\"path\", { d: \"M0 0h24v24H0z\", fill: \"none\" }),\n            glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", React.createElement(\"path\", { d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" }));\nconst PreviousIcon = createIcon(\"Previous\", React.createElement(\"path\", { d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\" }));\nconst NextIcon = createIcon(\"Next\", React.createElement(\"path\", { d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\" }));\nconst LoadingIcon = createIcon(\"Loading\", React.createElement(React.Fragment, null, Array.from({ length: 8 }).map((_, index, array) => (React.createElement(\"line\", { key: index, x1: \"12\", y1: \"6.5\", x2: \"12\", y2: \"1.8\", strokeLinecap: \"round\", strokeWidth: \"2.6\", stroke: \"currentColor\", strokeOpacity: (1 / array.length) * (index + 1), transform: `rotate(${(360 / array.length) * index}, 12, 12)` })))));\nconst ErrorIcon = createIcon(\"Error\", React.createElement(\"path\", { d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\" }));\n\nconst useLayoutEffect = hasWindow() ? React.useLayoutEffect : React.useEffect;\n\nfunction useMotionPreference() {\n    const [reduceMotion, setReduceMotion] = React.useState(false);\n    React.useEffect(() => {\n        var _a, _b;\n        const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n        setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n        const listener = (event) => setReduceMotion(event.matches);\n        (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n        return () => { var _a; return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener); };\n    }, []);\n    return reduceMotion;\n}\n\nfunction currentTransformation(node) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    const matrix = window.getComputedStyle(node).transform;\n    const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n    if (matcher) {\n        const values = matcher[1].split(\",\").map(parseInt);\n        if (values.length === 6) {\n            x = values[4];\n            y = values[5];\n        }\n        else if (values.length === 16) {\n            x = values[12];\n            y = values[13];\n            z = values[14];\n        }\n    }\n    return { x, y, z };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n    const snapshot = React.useRef(undefined);\n    const animation = React.useRef(undefined);\n    const reduceMotion = useMotionPreference();\n    useLayoutEffect(() => {\n        var _a, _b, _c;\n        if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n            const { keyframes, duration, easing, onfinish } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n            if (keyframes && duration) {\n                (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n                animation.current = undefined;\n                try {\n                    animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, { duration, easing });\n                }\n                catch (err) {\n                    console.error(err);\n                }\n                if (animation.current) {\n                    animation.current.onfinish = () => {\n                        animation.current = undefined;\n                        onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n                    };\n                }\n            }\n        }\n        snapshot.current = undefined;\n    });\n    return {\n        prepareAnimation: (currentSnapshot) => {\n            snapshot.current = currentSnapshot;\n        },\n        isAnimationPlaying: () => { var _a; return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\"; },\n    };\n}\n\nfunction useContainerRect() {\n    const containerRef = React.useRef(null);\n    const observerRef = React.useRef(undefined);\n    const [containerRect, setContainerRect] = React.useState();\n    const setContainerRef = React.useCallback((node) => {\n        containerRef.current = node;\n        if (observerRef.current) {\n            observerRef.current.disconnect();\n            observerRef.current = undefined;\n        }\n        const updateContainerRect = () => {\n            if (node) {\n                const styles = window.getComputedStyle(node);\n                const parse = (value) => parseFloat(value) || 0;\n                setContainerRect({\n                    width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                    height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom)),\n                });\n            }\n            else {\n                setContainerRect(undefined);\n            }\n        };\n        updateContainerRect();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateContainerRect);\n            observerRef.current.observe(node);\n        }\n    }, []);\n    return { setContainerRef, containerRef, containerRect };\n}\n\nfunction useDelay() {\n    const timeoutId = React.useRef(undefined);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    return React.useCallback((callback, delay) => {\n        clearTimeout(timeoutId.current);\n        timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n    }, [setTimeout, clearTimeout]);\n}\n\nfunction useEventCallback(fn) {\n    const ref = React.useRef(fn);\n    useLayoutEffect(() => {\n        ref.current = fn;\n    });\n    return React.useCallback((...args) => { var _a; return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args); }, []);\n}\n\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n}\nfunction useForkRef(refA, refB) {\n    return React.useMemo(() => refA == null && refB == null\n        ? null\n        : (refValue) => {\n            setRef(refA, refValue);\n            setRef(refB, refValue);\n        }, [refA, refB]);\n}\n\nfunction useLoseFocus(focus, disabled = false) {\n    const focused = React.useRef(false);\n    useLayoutEffect(() => {\n        if (disabled && focused.current) {\n            focused.current = false;\n            focus();\n        }\n    }, [disabled, focus]);\n    const onFocus = React.useCallback(() => {\n        focused.current = true;\n    }, []);\n    const onBlur = React.useCallback(() => {\n        focused.current = false;\n    }, []);\n    return { onFocus, onBlur };\n}\n\nfunction useRTL() {\n    const [isRTL, setIsRTL] = React.useState(false);\n    useLayoutEffect(() => {\n        setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n    }, []);\n    return isRTL;\n}\n\nfunction useSensors() {\n    const [subscribers] = React.useState({});\n    const notifySubscribers = React.useCallback((type, event) => {\n        var _a;\n        (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach((listener) => {\n            if (!event.isPropagationStopped())\n                listener(event);\n        });\n    }, [subscribers]);\n    const registerSensors = React.useMemo(() => ({\n        onPointerDown: (event) => notifySubscribers(EVENT_ON_POINTER_DOWN, event),\n        onPointerMove: (event) => notifySubscribers(EVENT_ON_POINTER_MOVE, event),\n        onPointerUp: (event) => notifySubscribers(EVENT_ON_POINTER_UP, event),\n        onPointerLeave: (event) => notifySubscribers(EVENT_ON_POINTER_LEAVE, event),\n        onPointerCancel: (event) => notifySubscribers(EVENT_ON_POINTER_CANCEL, event),\n        onKeyDown: (event) => notifySubscribers(EVENT_ON_KEY_DOWN, event),\n        onKeyUp: (event) => notifySubscribers(EVENT_ON_KEY_UP, event),\n        onWheel: (event) => notifySubscribers(EVENT_ON_WHEEL, event),\n    }), [notifySubscribers]);\n    const subscribeSensors = React.useCallback((type, callback) => {\n        if (!subscribers[type]) {\n            subscribers[type] = [];\n        }\n        subscribers[type].unshift(callback);\n        return () => {\n            const listeners = subscribers[type];\n            if (listeners) {\n                listeners.splice(0, listeners.length, ...listeners.filter((el) => el !== callback));\n            }\n        };\n    }, [subscribers]);\n    return { registerSensors, subscribeSensors };\n}\n\nfunction useThrottle(callback, delay) {\n    const lastCallbackTime = React.useRef(0);\n    const delayCallback = useDelay();\n    const executeCallback = useEventCallback((...args) => {\n        lastCallbackTime.current = Date.now();\n        callback(args);\n    });\n    return React.useCallback((...args) => {\n        delayCallback(() => {\n            executeCallback(args);\n        }, delay - (Date.now() - lastCallbackTime.current));\n    }, [delay, executeCallback, delayCallback]);\n}\n\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide({ slide: image, offset, render, rect, imageFit, imageProps, onClick, onLoad, onError, style, }) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = React.useState(SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const { setTimeout } = useTimeouts();\n    const imageRef = React.useRef(null);\n    React.useEffect(() => {\n        if (offset === 0) {\n            publish(activeSlideStatus(status));\n        }\n    }, [offset, status, publish]);\n    const handleLoading = useEventCallback((img) => {\n        (\"decode\" in img ? img.decode() : Promise.resolve())\n            .catch(() => { })\n            .then(() => {\n            if (!img.parentNode) {\n                return;\n            }\n            setStatus(SLIDE_STATUS_COMPLETE);\n            setTimeout(() => {\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n            }, 0);\n        });\n    });\n    const setImageRef = React.useCallback((img) => {\n        imageRef.current = img;\n        if (img === null || img === void 0 ? void 0 : img.complete) {\n            handleLoading(img);\n        }\n    }, [handleLoading]);\n    const handleOnLoad = React.useCallback((event) => {\n        handleLoading(event.currentTarget);\n    }, [handleLoading]);\n    const handleOnError = useEventCallback(() => {\n        setStatus(SLIDE_STATUS_ERROR);\n        onError === null || onError === void 0 ? void 0 : onError();\n    });\n    const cover = isImageFitCover(image, imageFit);\n    const nonInfinite = (value, fallback) => (Number.isFinite(value) ? value : fallback);\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [image.width] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x) => x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [image.height] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight\n        ? {\n            maxWidth: `min(${maxWidth}px, 100%)`,\n            maxHeight: `min(${maxHeight}px, 100%)`,\n        }\n        : {\n            maxWidth: \"100%\",\n            maxHeight: \"100%\",\n        };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b) => a.width - b.width).map((item) => `${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = () => rect && !cover && image.width && image.height ? (rect.height / image.height) * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    const { style: imagePropsStyle, className: imagePropsClassName, ...restImageProps } = imageProps || {};\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"img\", { ref: setImageRef, onLoad: handleOnLoad, onError: handleOnError, onClick: onClick, draggable: false, className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName), style: { ...defaultStyle, ...style, ...imagePropsStyle }, ...restImageProps, alt: image.alt, sizes: sizes, srcSet: srcSet, src: image.src }),\n        status !== SLIDE_STATUS_COMPLETE && (React.createElement(\"div\", { className: cssClass(slidePrefix(SLIDE_STATUS_PLACEHOLDER)) },\n            status === SLIDE_STATUS_LOADING &&\n                ((render === null || render === void 0 ? void 0 : render.iconLoading) ? (render.iconLoading()) : (React.createElement(LoadingIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_LOADING))) }))),\n            status === SLIDE_STATUS_ERROR &&\n                ((render === null || render === void 0 ? void 0 : render.iconError) ? (render.iconError()) : (React.createElement(ErrorIcon, { className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_ERROR))) })))))));\n}\n\nconst LightboxRoot = React.forwardRef(function LightboxRoot({ className, children, ...rest }, ref) {\n    const nodeRef = React.useRef(null);\n    return (React.createElement(DocumentContextProvider, { nodeRef: nodeRef },\n        React.createElement(\"div\", { ref: useForkRef(ref, nodeRef), className: clsx(cssClass(\"root\"), className), ...rest }, children)));\n});\n\nvar SwipeState;\n(function (SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"PULL\"] = 2] = \"PULL\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\n\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n    React.useEffect(() => !disabled\n        ? cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp))\n        : () => { }, [subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled]);\n}\n\nvar Gesture;\n(function (Gesture) {\n    Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n    Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n    Gesture[Gesture[\"PULL\"] = 2] = \"PULL\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe({ disableSwipeNavigation, closeOnBackdropClick }, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullUpEnabled, pullDownEnabled, onPullStart, onPullProgress, onPullFinish, onPullCancel, onClose) {\n    const offset = React.useRef(0);\n    const pointers = React.useRef([]);\n    const activePointer = React.useRef(undefined);\n    const startTime = React.useRef(0);\n    const gesture = React.useRef(Gesture.NONE);\n    const clearPointer = React.useCallback((event) => {\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n            gesture.current = Gesture.NONE;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        pointers.current.push(event);\n    }, [clearPointer]);\n    const lookupPointer = React.useCallback((event) => pointers.current.find(({ pointerId }) => event.pointerId === pointerId), []);\n    const onPointerDown = useEventCallback((event) => {\n        addPointer(event);\n    });\n    const exceedsPullThreshold = (value, threshold) => (pullDownEnabled && value > threshold) || (pullUpEnabled && value < -threshold);\n    const onPointerUp = useEventCallback((event) => {\n        const pointer = lookupPointer(event);\n        if (pointer) {\n            if (activePointer.current === event.pointerId) {\n                const duration = Date.now() - startTime.current;\n                const currentOffset = offset.current;\n                if (gesture.current === Gesture.SWIPE) {\n                    if (Math.abs(currentOffset) > 0.3 * containerWidth ||\n                        (Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration)) {\n                        onSwipeFinish(currentOffset, duration);\n                    }\n                    else {\n                        onSwipeCancel(currentOffset);\n                    }\n                }\n                else if (gesture.current === Gesture.PULL) {\n                    if (exceedsPullThreshold(currentOffset, 2 * SWIPE_THRESHOLD)) {\n                        onPullFinish(currentOffset, duration);\n                    }\n                    else {\n                        onPullCancel(currentOffset);\n                    }\n                }\n                offset.current = 0;\n                gesture.current = Gesture.NONE;\n            }\n            else {\n                const { target } = event;\n                if (closeOnBackdropClick &&\n                    target instanceof HTMLElement &&\n                    target === pointer.target &&\n                    (target.classList.contains(cssClass(CLASS_SLIDE)) || target.classList.contains(cssClass(CLASS_SLIDE_WRAPPER)))) {\n                    onClose();\n                }\n            }\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointer = lookupPointer(event);\n        if (pointer) {\n            const isCurrentPointer = activePointer.current === event.pointerId;\n            if (event.buttons === 0) {\n                if (isCurrentPointer && offset.current !== 0) {\n                    onPointerUp(event);\n                }\n                else {\n                    clearPointer(pointer);\n                }\n                return;\n            }\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (activePointer.current === undefined) {\n                const startGesture = (newGesture) => {\n                    addPointer(event);\n                    activePointer.current = event.pointerId;\n                    startTime.current = Date.now();\n                    gesture.current = newGesture;\n                };\n                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n                    if (!disableSwipeNavigation) {\n                        startGesture(Gesture.SWIPE);\n                        onSwipeStart();\n                    }\n                }\n                else if (Math.abs(deltaY) > Math.abs(deltaX) && exceedsPullThreshold(deltaY, SWIPE_THRESHOLD)) {\n                    startGesture(Gesture.PULL);\n                    onPullStart();\n                }\n            }\n            else if (isCurrentPointer) {\n                if (gesture.current === Gesture.SWIPE) {\n                    offset.current = deltaX;\n                    onSwipeProgress(deltaX);\n                }\n                else if (gesture.current === Gesture.PULL) {\n                    offset.current = deltaY;\n                    onPullProgress(deltaY);\n                }\n            }\n        }\n    });\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\n\nfunction usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY, }) {\n    const ref = React.useRef(null);\n    const listener = useEventCallback((event) => {\n        const horizontal = Math.abs(event.deltaX) > Math.abs(event.deltaY);\n        if ((horizontal && preventDefaultWheelX) || (!horizontal && preventDefaultWheelY) || event.ctrlKey) {\n            event.preventDefault();\n        }\n    });\n    return React.useCallback((node) => {\n        var _a;\n        if (node) {\n            node.addEventListener(\"wheel\", listener, { passive: false });\n        }\n        else {\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"wheel\", listener);\n        }\n        ref.current = node;\n    }, [listener]);\n}\n\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n    const offset = React.useRef(0);\n    const intent = React.useRef(0);\n    const intentCleanup = React.useRef(undefined);\n    const resetCleanup = React.useRef(undefined);\n    const wheelInertia = React.useRef(0);\n    const wheelInertiaCleanup = React.useRef(undefined);\n    const startTime = React.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = React.useCallback(() => {\n        if (intentCleanup.current) {\n            clearTimeout(intentCleanup.current);\n            intentCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const cancelSwipeResetCleanup = React.useCallback(() => {\n        if (resetCleanup.current) {\n            clearTimeout(resetCleanup.current);\n            resetCleanup.current = undefined;\n        }\n    }, [clearTimeout]);\n    const handleCleanup = useEventCallback(() => {\n        if (swipeState !== SwipeState.SWIPE) {\n            offset.current = 0;\n            startTime.current = 0;\n            cancelSwipeIntentCleanup();\n            cancelSwipeResetCleanup();\n        }\n    });\n    React.useEffect(handleCleanup, [swipeState, handleCleanup]);\n    const handleCancelSwipe = useEventCallback((currentSwipeOffset) => {\n        resetCleanup.current = undefined;\n        if (offset.current === currentSwipeOffset) {\n            onSwipeCancel(offset.current);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey) {\n            return;\n        }\n        if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n            return;\n        }\n        const setWheelInertia = (inertia) => {\n            wheelInertia.current = inertia;\n            clearTimeout(wheelInertiaCleanup.current);\n            wheelInertiaCleanup.current =\n                inertia > 0\n                    ? setTimeout(() => {\n                        wheelInertia.current = 0;\n                        wheelInertiaCleanup.current = undefined;\n                    }, 300)\n                    : undefined;\n        };\n        if (swipeState === SwipeState.NONE) {\n            if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelInertia.current)) {\n                setWheelInertia(event.deltaX);\n                return;\n            }\n            if (!isSwipeValid(-event.deltaX)) {\n                return;\n            }\n            intent.current += event.deltaX;\n            cancelSwipeIntentCleanup();\n            if (Math.abs(intent.current) > 30) {\n                intent.current = 0;\n                setWheelInertia(0);\n                startTime.current = Date.now();\n                onSwipeStart();\n            }\n            else {\n                const currentSwipeIntent = intent.current;\n                intentCleanup.current = setTimeout(() => {\n                    intentCleanup.current = undefined;\n                    if (currentSwipeIntent === intent.current) {\n                        intent.current = 0;\n                    }\n                }, swipeAnimationDuration);\n            }\n        }\n        else if (swipeState === SwipeState.SWIPE) {\n            let newSwipeOffset = offset.current - event.deltaX;\n            newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n            offset.current = newSwipeOffset;\n            onSwipeProgress(newSwipeOffset);\n            cancelSwipeResetCleanup();\n            if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                setWheelInertia(event.deltaX);\n                onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                return;\n            }\n            resetCleanup.current = setTimeout(() => handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n        }\n        else {\n            setWheelInertia(event.deltaX);\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_WHEEL, onWheel), [subscribeSensors, onWheel]);\n}\n\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = React.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller({ children, ...props }) {\n    var _a;\n    const { carousel, animation, controller, on, styles, render } = props;\n    const { closeOnPullUp, closeOnPullDown, preventDefaultWheelX, preventDefaultWheelY } = controller;\n    const [toolbarWidth, setToolbarWidth] = React.useState();\n    const state = useLightboxState();\n    const dispatch = useLightboxDispatch();\n    const [swipeState, setSwipeState] = React.useState(SwipeState.NONE);\n    const swipeOffset = React.useRef(0);\n    const pullOffset = React.useRef(0);\n    const pullOpacity = React.useRef(1);\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const cleanupAnimationIncrement = useDelay();\n    const cleanupSwipeOffset = useDelay();\n    const cleanupPullOffset = useDelay();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY }), setContainerRef);\n    const carouselRef = React.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const { getOwnerDocument } = useDocumentContext();\n    const isRTL = useRTL();\n    const rtl = (value) => (isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n    const focus = useEventCallback(() => { var _a; return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus(); });\n    const getLightboxProps = useEventCallback(() => props);\n    const getLightboxState = useEventCallback(() => state);\n    const prev = React.useCallback((params) => publish(ACTION_PREV, params), [publish]);\n    const next = React.useCallback((params) => publish(ACTION_NEXT, params), [publish]);\n    const close = React.useCallback(() => publish(ACTION_CLOSE), [publish]);\n    const isSwipeValid = (offset) => !(carousel.finite &&\n        ((rtl(offset) > 0 && state.currentIndex === 0) ||\n            (rtl(offset) < 0 && state.currentIndex === state.slides.length - 1)));\n    const setSwipeOffset = (offset) => {\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    };\n    const setPullOffset = (offset) => {\n        var _a, _b;\n        pullOffset.current = offset;\n        pullOpacity.current = (() => {\n            const threshold = 60;\n            const minOpacity = 0.5;\n            const offsetValue = (() => {\n                if (closeOnPullDown && offset > 0)\n                    return offset;\n                if (closeOnPullUp && offset < 0)\n                    return -offset;\n                return 0;\n            })();\n            return Math.min(Math.max(round(1 - (offsetValue / threshold) * (1 - minOpacity), 2), minOpacity), 1);\n        })();\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_offset\"), `${Math.round(offset)}px`);\n        (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_opacity\"), `${pullOpacity.current}`);\n    };\n    const { prepareAnimation: preparePullAnimation } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        if (carouselRef.current && containerRect) {\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n                        opacity: snapshot.opacity,\n                    },\n                    { transform: \"translate(0, 0)\", opacity: 1 },\n                ],\n                duration: snapshot.duration,\n                easing: animation.easing.fade,\n            };\n        }\n        return undefined;\n    });\n    const pull = (offset, cancel) => {\n        if (closeOnPullUp || closeOnPullDown) {\n            setPullOffset(offset);\n            let duration = 0;\n            if (carouselRef.current) {\n                duration = animation.fade * (cancel ? 2 : 1);\n                preparePullAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    opacity: pullOpacity.current,\n                    duration,\n                });\n            }\n            cleanupPullOffset(() => {\n                setPullOffset(0);\n                setSwipeState(SwipeState.NONE);\n            }, duration);\n            setSwipeState(SwipeState.ANIMATION);\n            if (!cancel) {\n                close();\n            }\n        }\n    };\n    const { prepareAnimation, isAnimationPlaying } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n        var _a;\n        if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent ? (parsedSpacing.percent * containerRect.width) / 100 : parsedSpacing.pixel) || 0;\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) +\n                            snapshot.rect.x -\n                            rect.x +\n                            translate.x}px, 0)`,\n                    },\n                    { transform: \"translate(0, 0)\" },\n                ],\n                duration: state.animation.duration,\n                easing: state.animation.easing,\n            };\n        }\n        return undefined;\n    });\n    const swipe = useEventCallback((action) => {\n        var _a, _b;\n        const currentSwipeOffset = action.offset || 0;\n        const swipeDuration = !currentSwipeOffset ? ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) : animation.swipe;\n        const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n        let { direction } = action;\n        const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth\n                ? (swipeDuration / containerWidth) * Math.abs(currentSwipeOffset)\n                : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration =\n                        (newSwipeAnimationDuration / expectedTime) * Math.max(elapsedTime, expectedTime / 5);\n                }\n                else if (containerWidth) {\n                    newSwipeAnimationDuration =\n                        (swipeDuration / containerWidth) * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n                direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n            }\n            else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n        }\n        let increment = 0;\n        if (direction === ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        else if (direction === ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            }\n            else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        cleanupSwipeOffset(() => {\n            setSwipeOffset(0);\n            setSwipeState(SwipeState.NONE);\n        }, newSwipeAnimationDuration);\n        if (carouselRef.current) {\n            prepareAnimation({\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex,\n            });\n        }\n        setSwipeState(newSwipeState);\n        publish(ACTION_SWIPE, {\n            type: \"swipe\",\n            increment,\n            duration: newSwipeAnimationDuration,\n            easing: swipeEasing,\n        });\n    });\n    React.useEffect(() => {\n        var _a, _b;\n        if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n            cleanupAnimationIncrement(() => dispatch({ type: \"swipe\", increment: 0 }), state.animation.duration);\n        }\n    }, [state.animation, dispatch, cleanupAnimationIncrement]);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        () => setSwipeState(SwipeState.SWIPE),\n        (offset) => setSwipeOffset(offset),\n        (offset, duration) => swipe({ offset, duration, count: 1 }),\n        (offset) => swipe({ offset, count: 0 }),\n    ];\n    const pullParams = [\n        () => {\n            if (closeOnPullDown) {\n                setSwipeState(SwipeState.PULL);\n            }\n        },\n        (offset) => setPullOffset(offset),\n        (offset) => pull(offset),\n        (offset) => pull(offset, true),\n    ];\n    usePointerSwipe(controller, ...swipeParams, closeOnPullUp, closeOnPullDown, ...pullParams, close);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(() => {\n        if (controller.focus &&\n            getOwnerDocument().querySelector(`.${cssClass(MODULE_PORTAL)} .${cssClass(cssContainerPrefix())}`)) {\n            focus();\n        }\n    });\n    React.useEffect(focusOnMount, [focusOnMount]);\n    const onViewCallback = useEventCallback(() => {\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, { index: state.currentIndex });\n    });\n    React.useEffect(onViewCallback, [state.globalIndex, onViewCallback]);\n    React.useEffect(() => cleanup(subscribe(ACTION_PREV, (action) => swipe({ direction: ACTION_PREV, ...action })), subscribe(ACTION_NEXT, (action) => swipe({ direction: ACTION_NEXT, ...action })), subscribe(ACTION_SWIPE, (action) => dispatch(action))), [subscribe, swipe, dispatch]);\n    const context = React.useMemo(() => ({\n        prev,\n        next,\n        close,\n        focus,\n        slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : { width: 0, height: 0 },\n        containerRect: containerRect || { width: 0, height: 0 },\n        subscribeSensors,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n    }), [\n        prev,\n        next,\n        close,\n        focus,\n        subscribeSensors,\n        containerRect,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n        carousel.padding,\n    ]);\n    React.useImperativeHandle(controller.ref, () => ({\n        prev,\n        next,\n        close,\n        focus,\n        getLightboxProps,\n        getLightboxState,\n    }), [prev, next, close, focus, getLightboxProps, getLightboxState]);\n    return (React.createElement(\"div\", { ref: handleContainerRef, className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(swipeState === SwipeState.SWIPE\n                ? { [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px` }\n                : null),\n            ...(swipeState === SwipeState.PULL\n                ? {\n                    [cssVar(\"pull_offset\")]: `${Math.round(pullOffset.current)}px`,\n                    [cssVar(\"pull_opacity\")]: `${pullOpacity.current}`,\n                }\n                : null),\n            ...(controller.touchAction !== \"none\" ? { [cssVar(\"controller_touch_action\")]: controller.touchAction } : null),\n            ...styles.container,\n        }, ...(controller.aria ? { role: \"region\", \"aria-live\": \"polite\", \"aria-roledescription\": \"carousel\" } : null), tabIndex: -1, ...registerSensors }, containerRect && (React.createElement(ControllerContext.Provider, { value: context },\n        children, (_a = render.controls) === null || _a === void 0 ? void 0 :\n        _a.call(render)))));\n}\nconst ControllerModule = createModule(MODULE_CONTROLLER, Controller);\n\nfunction cssPrefix$2(value) {\n    return composePrefix(MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n    return composePrefix(CLASS_SLIDE, value);\n}\nfunction CarouselSlide({ slide, offset }) {\n    const containerRef = React.useRef(null);\n    const { currentIndex } = useLightboxState();\n    const { slideRect, focus } = useController();\n    const { render, carousel: { imageFit, imageProps }, on: { click: onClick }, styles: { slide: style }, } = useLightboxProps();\n    const { getOwnerDocument } = useDocumentContext();\n    const offscreen = offset !== 0;\n    React.useEffect(() => {\n        var _a;\n        if (offscreen && ((_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.contains(getOwnerDocument().activeElement))) {\n            focus();\n        }\n    }, [offscreen, focus, getOwnerDocument]);\n    const renderSlide = () => {\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect: slideRect });\n        if (!rendered && isImageSlide(slide)) {\n            rendered = (React.createElement(ImageSlide, { slide: slide, offset: offset, render: render, rect: slideRect, imageFit: imageFit, imageProps: imageProps, onClick: !offscreen ? () => onClick === null || onClick === void 0 ? void 0 : onClick({ index: currentIndex }) : undefined }));\n        }\n        return rendered ? (React.createElement(React.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 :\n            _b.call(render, { slide }),\n            ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : (({ children }) => children))({ slide, children: rendered }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 :\n            _d.call(render, { slide }))) : null;\n    };\n    return (React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssSlidePrefix()), !offscreen && cssClass(cssSlidePrefix(\"current\")), cssClass(CLASS_FLEX_CENTER)), ...makeInertWhen(offscreen), style: style, role: \"region\", \"aria-roledescription\": \"slide\" }, renderSlide()));\n}\nfunction Placeholder() {\n    const style = useLightboxProps().styles.slide;\n    return React.createElement(\"div\", { className: cssClass(CLASS_SLIDE), style: style });\n}\nfunction Carousel({ carousel }) {\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(carousel.spacing);\n    const paddingValue = parseLengthPercentage(carousel.padding);\n    const preload = calculatePreload(carousel, slides, 1);\n    const items = [];\n    if (hasSlides(slides)) {\n        for (let index = currentIndex - preload; index <= currentIndex + preload; index += 1) {\n            const slide = getSlide(slides, index);\n            const key = globalIndex - currentIndex + index;\n            const placeholder = carousel.finite && (index < 0 || index > slides.length - 1);\n            items.push(!placeholder\n                ? {\n                    key: [`${key}`, getSlideKey(slide)].filter(Boolean).join(\"|\"),\n                    offset: index - currentIndex,\n                    slide,\n                }\n                : { key });\n        }\n    }\n    return (React.createElement(\"div\", { ref: setCarouselRef, className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))), style: {\n            [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0,\n        } }, items.map(({ key, slide, offset }) => slide ? React.createElement(CarouselSlide, { key: key, slide: slide, offset: offset }) : React.createElement(Placeholder, { key: key }))));\n}\nconst CarouselModule = createModule(MODULE_CAROUSEL, Carousel);\n\nfunction useNavigationState() {\n    const { carousel } = useLightboxProps();\n    const { slides, currentIndex } = useLightboxState();\n    const prevDisabled = slides.length === 0 || (carousel.finite && currentIndex === 0);\n    const nextDisabled = slides.length === 0 || (carousel.finite && currentIndex === slides.length - 1);\n    return { prevDisabled, nextDisabled };\n}\n\nfunction useKeyboardNavigation(subscribeSensors) {\n    var _a;\n    const isRTL = useRTL();\n    const { publish } = useEvents();\n    const { animation } = useLightboxProps();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n    const prev = useThrottle(() => publish(ACTION_PREV), throttle);\n    const next = useThrottle(() => publish(ACTION_NEXT), throttle);\n    const handleKeyDown = useEventCallback((event) => {\n        switch (event.key) {\n            case VK_ESCAPE:\n                publish(ACTION_CLOSE);\n                break;\n            case VK_ARROW_LEFT:\n                if (!(isRTL ? nextDisabled : prevDisabled))\n                    (isRTL ? next : prev)();\n                break;\n            case VK_ARROW_RIGHT:\n                if (!(isRTL ? prevDisabled : nextDisabled))\n                    (isRTL ? prev : next)();\n                break;\n            default:\n        }\n    });\n    React.useEffect(() => subscribeSensors(EVENT_ON_KEY_DOWN, handleKeyDown), [subscribeSensors, handleKeyDown]);\n}\n\nfunction NavigationButton({ label, icon, renderIcon, action, onClick, disabled, style }) {\n    return (React.createElement(IconButton, { label: label, icon: icon, renderIcon: renderIcon, className: cssClass(`navigation_${action}`), disabled: disabled, onClick: onClick, style: style, ...useLoseFocus(useController().focus, disabled) }));\n}\nfunction Navigation({ render: { buttonPrev, buttonNext, iconPrev, iconNext }, styles }) {\n    const { prev, next, subscribeSensors } = useController();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    useKeyboardNavigation(subscribeSensors);\n    return (React.createElement(React.Fragment, null,\n        buttonPrev ? (buttonPrev()) : (React.createElement(NavigationButton, { label: \"Previous\", action: ACTION_PREV, icon: PreviousIcon, renderIcon: iconPrev, style: styles.navigationPrev, disabled: prevDisabled, onClick: prev })),\n        buttonNext ? (buttonNext()) : (React.createElement(NavigationButton, { label: \"Next\", action: ACTION_NEXT, icon: NextIcon, renderIcon: iconNext, style: styles.navigationNext, disabled: nextDisabled, onClick: next }))));\n}\nconst NavigationModule = createModule(MODULE_NAVIGATION, Navigation);\n\nconst noScroll = cssClass(CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n    return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue) || 0) + padding}px`);\n    return () => {\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        }\n        else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction NoScroll({ noScroll: { disabled }, children }) {\n    const rtl = useRTL();\n    const { getOwnerDocument, getOwnerWindow } = useDocumentContext();\n    React.useEffect(() => {\n        if (disabled)\n            return () => { };\n        const cleanup = [];\n        const ownerWindow = getOwnerWindow();\n        const { body, documentElement } = getOwnerDocument();\n        const scrollbar = Math.round(ownerWindow.innerWidth - documentElement.clientWidth);\n        if (scrollbar > 0) {\n            cleanup.push(padScrollbar(body, scrollbar, rtl));\n            const elements = body.getElementsByTagName(\"*\");\n            for (let i = 0; i < elements.length; i += 1) {\n                const element = elements[i];\n                if (isHTMLElement(element) &&\n                    ownerWindow.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" &&\n                    !element.classList.contains(noScrollPadding)) {\n                    cleanup.push(padScrollbar(element, scrollbar, rtl));\n                }\n            }\n        }\n        body.classList.add(noScroll);\n        return () => {\n            body.classList.remove(noScroll);\n            cleanup.forEach((clean) => clean());\n        };\n    }, [rtl, disabled, getOwnerDocument, getOwnerWindow]);\n    return React.createElement(React.Fragment, null, children);\n}\nconst NoScrollModule = createModule(MODULE_NO_SCROLL, NoScroll);\n\nfunction cssPrefix$1(value) {\n    return composePrefix(MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return () => {\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        }\n        else {\n            element.removeAttribute(attribute);\n        }\n    };\n}\nfunction Portal({ children, animation, styles, className, on, portal, close }) {\n    const [mounted, setMounted] = React.useState(false);\n    const [visible, setVisible] = React.useState(false);\n    const cleanup = React.useRef([]);\n    const restoreFocus = React.useRef(null);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const animationDuration = !reduceMotion ? animation.fade : 0;\n    React.useEffect(() => {\n        setMounted(true);\n        return () => {\n            setMounted(false);\n            setVisible(false);\n        };\n    }, []);\n    const handleCleanup = useEventCallback(() => {\n        cleanup.current.forEach((clean) => clean());\n        cleanup.current = [];\n    });\n    const handleClose = useEventCallback(() => {\n        var _a;\n        setVisible(false);\n        handleCleanup();\n        (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n        setTimeout(() => {\n            var _a;\n            (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n            close();\n        }, animationDuration);\n    });\n    React.useEffect(() => subscribe(ACTION_CLOSE, handleClose), [subscribe, handleClose]);\n    const handleEnter = useEventCallback((node) => {\n        var _a, _b, _c;\n        reflow(node);\n        setVisible(true);\n        (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n        const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n        for (let i = 0; i < elements.length; i += 1) {\n            const element = elements[i];\n            if ([\"TEMPLATE\", \"SCRIPT\", \"STYLE\"].indexOf(element.tagName) === -1 && element !== node) {\n                cleanup.current.push(setAttribute(element, \"inert\", \"\"));\n                cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n            }\n        }\n        cleanup.current.push(() => {\n            var _a, _b;\n            (_b = (_a = restoreFocus.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n        setTimeout(() => {\n            var _a;\n            (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n        }, animationDuration);\n    });\n    const handleRef = React.useCallback((node) => {\n        if (node) {\n            handleEnter(node);\n        }\n        else {\n            handleCleanup();\n        }\n    }, [handleEnter, handleCleanup]);\n    return mounted\n        ? createPortal(React.createElement(LightboxRoot, { ref: handleRef, className: clsx(className, cssClass(cssPrefix$1()), cssClass(CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))), \"aria-modal\": true, role: \"dialog\", \"aria-live\": \"polite\", \"aria-roledescription\": \"lightbox\", style: {\n                ...(animation.fade !== LightboxDefaultProps.animation.fade\n                    ? { [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms` }\n                    : null),\n                ...(animation.easing.fade !== LightboxDefaultProps.animation.easing.fade\n                    ? { [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade }\n                    : null),\n                ...styles.root,\n            }, onFocus: (event) => {\n                if (!restoreFocus.current) {\n                    restoreFocus.current = event.relatedTarget;\n                }\n            } }, children), portal.root || document.body)\n        : null;\n}\nconst PortalModule = createModule(MODULE_PORTAL, Portal);\n\nfunction Root({ children }) {\n    return React.createElement(React.Fragment, null, children);\n}\nconst RootModule = createModule(MODULE_ROOT, Root);\n\nfunction cssPrefix(value) {\n    return composePrefix(MODULE_TOOLBAR, value);\n}\nfunction Toolbar({ toolbar: { buttons }, render: { buttonClose, iconClose }, styles }) {\n    const { close, setToolbarWidth } = useController();\n    const { setContainerRef, containerRect } = useContainerRect();\n    useLayoutEffect(() => {\n        setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n    }, [setToolbarWidth, containerRect === null || containerRect === void 0 ? void 0 : containerRect.width]);\n    const renderCloseButton = () => {\n        if (buttonClose)\n            return buttonClose();\n        return React.createElement(IconButton, { key: ACTION_CLOSE, label: \"Close\", icon: CloseIcon, renderIcon: iconClose, onClick: close });\n    };\n    return (React.createElement(\"div\", { ref: setContainerRef, style: styles.toolbar, className: cssClass(cssPrefix()) }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button) => (button === ACTION_CLOSE ? renderCloseButton() : button))));\n}\nconst ToolbarModule = createModule(MODULE_TOOLBAR, Toolbar);\n\nfunction renderNode(node, props) {\n    var _a;\n    return React.createElement(node.module.component, { key: node.module.name, ...props }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child) => renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation, animation = {}) {\n    const { easing: defaultAnimationEasing, ...restDefaultAnimation } = defaultAnimation;\n    const { easing, ...restAnimation } = animation;\n    return {\n        easing: { ...defaultAnimationEasing, ...easing },\n        ...restDefaultAnimation,\n        ...restAnimation,\n    };\n}\nfunction Lightbox({ carousel, animation, render, toolbar, controller, noScroll, on, plugins, slides, index, ...restProps }) {\n    const { animation: defaultAnimation, carousel: defaultCarousel, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, noScroll: defaultNoScroll, on: defaultOn, slides: defaultSlides, index: defaultIndex, plugins: defaultPlugins, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule),\n                ]),\n            ]),\n        ]),\n    ], plugins || defaultPlugins);\n    const props = augmentation({\n        animation: mergeAnimation(defaultAnimation, animation),\n        carousel: { ...defaultCarousel, ...carousel },\n        render: { ...defaultRender, ...render },\n        toolbar: { ...defaultToolbar, ...toolbar },\n        controller: { ...defaultController, ...controller },\n        noScroll: { ...defaultNoScroll, ...noScroll },\n        on: { ...defaultOn, ...on },\n        ...restDefaultProps,\n        ...restProps,\n    });\n    if (!props.open)\n        return null;\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(LightboxStateProvider, { slides: slides || defaultSlides, index: parseInt(index || defaultIndex) },\n            React.createElement(TimeoutsProvider, null,\n                React.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props))))));\n}\n\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, CLASS_FLEX_CENTER, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE, CLASS_SLIDE_WRAPPER, Carousel, CarouselModule, CloseIcon, Controller, ControllerContext, ControllerModule, DocumentContext, DocumentContextProvider, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, ErrorIcon, EventsContext, EventsProvider, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, IconButton, ImageSlide, Lightbox, LightboxDefaultProps, LightboxDispatchContext, LightboxPropsContext, LightboxPropsProvider, LightboxRoot, LightboxStateContext, LightboxStateProvider, LoadingIcon, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, Navigation, NavigationButton, NavigationModule, NextIcon, NoScroll, NoScrollModule, Portal, PortalModule, PreviousIcon, Root, RootModule, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SwipeState, TimeoutsContext, TimeoutsProvider, Toolbar, ToolbarModule, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus, addToolbarButton, calculatePreload, cleanup, clsx, composePrefix, computeSlideRect, createIcon, createIconDisabled, createModule, createNode, cssClass, cssVar, Lightbox as default, devicePixelRatio, getSlide, getSlideIfPresent, getSlideIndex, getSlideKey, hasSlides, hasWindow, isImageFitCover, isImageSlide, label, makeComposePrefix, makeInertWhen, makeUseContext, parseInt, parseLengthPercentage, reflow, round, setRef, stopNavigationEventsPropagation, useAnimation, useContainerRect, useController, useDelay, useDocumentContext, useEventCallback, useEvents, useForkRef, useKeyboardNavigation, useLayoutEffect, useLightboxDispatch, useLightboxProps, useLightboxState, useLoseFocus, useMotionPreference, useNavigationState, usePointerEvents, usePointerSwipe, usePreventWheelDefaults, useRTL, useSensors, useThrottle, useTimeouts, useWheelSwipe, withPlugins };","import * as React from 'react';\nimport { useLightboxProps, useMotionPreference, useEventCallback, useLayoutEffect, useLightboxState, isImageSlide, isImageFitCover, round, useDocumentContext, useController, usePointerEvents, cleanup, makeUseContext, createIcon, IconButton, devicePixelRatio, ImageSlide, clsx, cssClass, addToolbarButton, createModule } from '../../index.js';\nimport { EVENT_ON_KEY_DOWN, EVENT_ON_WHEEL, UNKNOWN_ACTION_TYPE, CLASS_FULLSIZE, CLASS_FLEX_CENTER, CLASS_SLIDE_WRAPPER, CLASS_SLIDE_WRAPPER_INTERACTIVE, PLUGIN_ZOOM } from '../../types.js';\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = React.useRef(undefined);\n    const zoomAnimationStart = React.useRef(undefined);\n    const { zoom: zoomAnimationDuration } = useLightboxProps().animation;\n    const reduceMotion = useMotionPreference();\n    const playZoomAnimation = useEventCallback(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? (zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500) : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    useLayoutEffect(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return React.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = useLightboxProps();\n    const onZoomCallback = useEventCallback(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    React.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = useLightboxProps();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { currentSlide } = useLightboxState();\n    const { imageFit } = useLightboxProps().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentSlide) {\n        const slide = { ...currentSlide, ...imageDimensions };\n        if (isImageSlide(slide)) {\n            const cover = isImageFitCover(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max(round(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction scaleZoom(value, delta, factor = 100, clamp = 2) {\n    return value * Math.min(1 + Math.abs(delta / factor), clamp) ** Math.sign(delta);\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = React.useRef([]);\n    const lastPointerDown = React.useRef(0);\n    const pinchZoomDistance = React.useRef(undefined);\n    const { globalIndex } = useLightboxState();\n    const { getOwnerWindow } = useDocumentContext();\n    const { containerRef, subscribeSensors } = useController();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = React.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = getOwnerWindow();\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef, getOwnerWindow]);\n    const onKeyDown = useEventCallback((event) => {\n        const { key, metaKey, ctrlKey } = event;\n        const meta = metaKey || ctrlKey;\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        if (key === \"+\" || (meta && key === \"=\")) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (key === \"-\" || (meta && key === \"_\")) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (meta && key === \"0\") {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = useEventCallback((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(scaleZoom(zoom, -event.deltaY, wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = React.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = useEventCallback((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if ((event.pointerType === \"mouse\" && event.buttons > 1) ||\n            !((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = useEventCallback((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(scaleZoom(zoom, delta, pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = React.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = React.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    React.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    React.useEffect(() => {\n        if (!disabled) {\n            return cleanup(cleanupSensors, subscribeSensors(EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = React.useState(1);\n    const [offsetX, setOffsetX] = React.useState(0);\n    const [offsetY, setOffsetY] = React.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { currentSlide, globalIndex } = useLightboxState();\n    const { containerRect, slideRect } = useController();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = currentSlide && isImageSlide(currentSlide) ? currentSlide.src : undefined;\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    useLayoutEffect(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = React.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = React.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = round(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = useEventCallback(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    useLayoutEffect(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n    const zoomIn = React.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = React.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = React.createContext(null);\nconst useZoom = makeUseContext(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = React.useState();\n    const { slideRect } = useController();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = React.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    React.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = React.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return React.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = createIcon(\"ZoomIn\", React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    React.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = createIcon(\"ZoomOut\", React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = React.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = React.useRef(false);\n    const wasFocused = React.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = useLightboxProps();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    React.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (React.createElement(IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = React.useRef(null);\n    const zoomOutRef = React.useRef(null);\n    const { focus } = useController();\n    const focusSibling = React.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = React.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = React.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        React.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = useLightboxProps();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return React.createElement(React.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return React.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = React.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render, interactive } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = isImageFitCover(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = devicePixelRatio();\n    const handleResize = useEventCallback(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    useLayoutEffect(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = useEventCallback((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: !interactive ? \"translateZ(0)\" : \"initial\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height ? { width: \"100%\", height: \"auto\" } : { width: \"auto\", height: \"100%\" });\n    }\n    return (React.createElement(React.Fragment, null,\n        preload && preload !== current && (React.createElement(ImageSlide, { key: \"preload\", ...props, offset: undefined, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (React.createElement(ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = React.useState();\n    const zoomWrapperRef = React.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const interactive = zoom > 1;\n    const { carousel, on } = useLightboxProps();\n    const { currentIndex } = useLightboxState();\n    useLayoutEffect(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && isImageSlide(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (React.createElement(ResponsiveImage, { ...slideProps, slide: slide, interactive: interactive, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (React.createElement(ImageSlide, { onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (React.createElement(\"div\", { ref: zoomWrapperRef, className: clsx(cssClass(CLASS_FULLSIZE), cssClass(CLASS_FLEX_CENTER), cssClass(CLASS_SLIDE_WRAPPER), interactive && cssClass(CLASS_SLIDE_WRAPPER_INTERACTIVE)), style: offset === 0 ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ zoom: zoomProps, toolbar, render, controller, ...restProps }) => {\n        const zoom = resolveZoomProps(zoomProps);\n        return {\n            zoom,\n            toolbar: addToolbarButton(toolbar, PLUGIN_ZOOM, React.createElement(ZoomToolbarControl, null)),\n            render: {\n                ...render,\n                slide: (props) => { var _a; return isImageSlide(props.slide) ? React.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n            },\n            controller: { ...controller, preventDefaultWheelY: zoom.scrollToZoom },\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_ZOOM, ZoomContextProvider));\n};\n\nexport { Zoom as default };\n","import * as React from 'react';\nimport { useLightboxProps, composePrefix, createIcon, ImageSlide, isImageSlide, cssClass, makeComposePrefix, useDocumentContext, useEventCallback, cssVar, clsx, getSlideKey, useRTL, useEvents, useLightboxState, useSensors, useKeyboardNavigation, useAnimation, cleanup, calculatePreload, hasSlides, getSlide, makeUseContext, LightboxPropsProvider, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport { PLUGIN_THUMBNAILS, ELEMENT_ICON, CLASS_FLEX_CENTER, ACTION_SWIPE, ACTION_NEXT, ACTION_PREV, PLUGIN_FULLSCREEN, MODULE_CONTROLLER } from '../../types.js';\n\nconst defaultThumbnailsProps = {\n    ref: null,\n    position: \"bottom\",\n    width: 120,\n    height: 80,\n    border: 1,\n    borderRadius: 4,\n    padding: 4,\n    gap: 16,\n    imageFit: \"contain\",\n    vignette: true,\n    hidden: false,\n    showToggle: false,\n};\nconst resolveThumbnailsProps = (thumbnails) => ({\n    ...defaultThumbnailsProps,\n    ...thumbnails,\n});\nfunction useThumbnailsProps() {\n    const { thumbnails } = useLightboxProps();\n    return resolveThumbnailsProps(thumbnails);\n}\n\nconst cssPrefix = (value) => composePrefix(PLUGIN_THUMBNAILS, value);\nconst cssThumbnailPrefix = (value) => cssPrefix(composePrefix(\"thumbnail\", value));\n\nconst VideoThumbnailIcon = createIcon(\"VideoThumbnail\", React.createElement(\"path\", { d: \"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" }));\nconst UnknownThumbnailIcon = createIcon(\"UnknownThumbnail\", React.createElement(\"path\", { d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\" }));\nfunction renderThumbnail({ slide, render, rect, imageFit }) {\n    var _a;\n    const customThumbnail = (_a = render.thumbnail) === null || _a === void 0 ? void 0 : _a.call(render, { slide, render, rect, imageFit });\n    if (customThumbnail) {\n        return customThumbnail;\n    }\n    const imageSlideProps = { render, rect, imageFit };\n    if (slide.thumbnail) {\n        return React.createElement(ImageSlide, { slide: { src: slide.thumbnail }, ...imageSlideProps });\n    }\n    if (isImageSlide(slide)) {\n        return React.createElement(ImageSlide, { slide: slide, ...imageSlideProps });\n    }\n    const thumbnailIconClass = cssClass(cssThumbnailPrefix(ELEMENT_ICON));\n    if (slide.type === \"video\") {\n        return (React.createElement(React.Fragment, null,\n            slide.poster && React.createElement(ImageSlide, { slide: { src: slide.poster }, ...imageSlideProps }),\n            React.createElement(VideoThumbnailIcon, { className: thumbnailIconClass })));\n    }\n    return React.createElement(UnknownThumbnailIcon, { className: thumbnailIconClass });\n}\nconst activePrefix = makeComposePrefix(\"active\");\nconst fadeInPrefix = makeComposePrefix(\"fadein\");\nconst fadeOutPrefix = makeComposePrefix(\"fadeout\");\nconst placeholderPrefix = makeComposePrefix(\"placeholder\");\nconst DELAY = \"delay\";\nconst DURATION = \"duration\";\nfunction Thumbnail({ slide, onClick, active, fadeIn, fadeOut, placeholder, onLoseFocus }) {\n    const ref = React.useRef(null);\n    const { render, styles } = useLightboxProps();\n    const { getOwnerDocument } = useDocumentContext();\n    const { width, height, imageFit } = useThumbnailsProps();\n    const rect = { width, height };\n    const onLoseFocusCallback = useEventCallback(onLoseFocus);\n    React.useEffect(() => {\n        if (fadeOut && getOwnerDocument().activeElement === ref.current) {\n            onLoseFocusCallback();\n        }\n    }, [fadeOut, onLoseFocusCallback, getOwnerDocument]);\n    return (React.createElement(\"button\", { ref: ref, type: \"button\", className: clsx(cssClass(CLASS_FLEX_CENTER), cssClass(cssThumbnailPrefix()), active && cssClass(cssThumbnailPrefix(activePrefix())), fadeIn && cssClass(cssThumbnailPrefix(fadeInPrefix())), fadeOut && cssClass(cssThumbnailPrefix(fadeOutPrefix())), placeholder && cssClass(cssThumbnailPrefix(placeholderPrefix()))), style: {\n            ...(fadeIn\n                ? {\n                    [cssVar(cssThumbnailPrefix(fadeInPrefix(DURATION)))]: `${fadeIn.duration}ms`,\n                    [cssVar(cssThumbnailPrefix(fadeInPrefix(DELAY)))]: `${fadeIn.delay}ms`,\n                }\n                : null),\n            ...(fadeOut\n                ? {\n                    [cssVar(cssThumbnailPrefix(fadeOutPrefix(DURATION)))]: `${fadeOut.duration}ms`,\n                    [cssVar(cssThumbnailPrefix(fadeOutPrefix(DELAY)))]: `${fadeOut.delay}ms`,\n                }\n                : null),\n            ...styles.thumbnail,\n        }, onClick: onClick }, slide && renderThumbnail({ slide, render, rect, imageFit })));\n}\n\nfunction isHorizontal(position) {\n    return [\"top\", \"bottom\"].includes(position);\n}\nfunction boxSize(thumbnails, dimension) {\n    return dimension + 2 * (thumbnails.border + thumbnails.padding) + thumbnails.gap;\n}\nfunction getThumbnailKey(slide) {\n    const { thumbnail, poster } = slide || { thumbnail: \"placeholder\" };\n    return ((typeof thumbnail === \"string\" && thumbnail) ||\n        (typeof poster === \"string\" && poster) ||\n        (slide && getSlideKey(slide)) ||\n        undefined);\n}\nfunction ThumbnailsTrack({ visible, containerRef }) {\n    const track = React.useRef(null);\n    const isRTL = useRTL();\n    const { publish, subscribe } = useEvents();\n    const { carousel, styles } = useLightboxProps();\n    const { slides, globalIndex, animation } = useLightboxState();\n    const { registerSensors, subscribeSensors } = useSensors();\n    useKeyboardNavigation(subscribeSensors);\n    const thumbnails = useThumbnailsProps();\n    const { position, width, height, border, borderStyle, borderColor, borderRadius, padding, gap, vignette } = thumbnails;\n    const offset = ((animation === null || animation === void 0 ? void 0 : animation.duration) !== undefined && (animation === null || animation === void 0 ? void 0 : animation.increment)) || 0;\n    const animationDuration = (animation === null || animation === void 0 ? void 0 : animation.duration) || 0;\n    const { prepareAnimation } = useAnimation(track, (snapshot) => ({\n        keyframes: isHorizontal(position)\n            ? [\n                {\n                    transform: `translateX(${(isRTL ? -1 : 1) * boxSize(thumbnails, width) * offset + snapshot}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ]\n            : [\n                {\n                    transform: `translateY(${boxSize(thumbnails, height) * offset + snapshot}px)`,\n                },\n                { transform: \"translateY(0)\" },\n            ],\n        duration: animationDuration,\n        easing: animation === null || animation === void 0 ? void 0 : animation.easing,\n    }));\n    const handleControllerSwipe = useEventCallback(() => {\n        let animationOffset = 0;\n        if (containerRef.current && track.current) {\n            const containerRect = containerRef.current.getBoundingClientRect();\n            const trackRect = track.current.getBoundingClientRect();\n            animationOffset = isHorizontal(position)\n                ? trackRect.left - containerRect.left - (containerRect.width - trackRect.width) / 2\n                : trackRect.top - containerRect.top - (containerRect.height - trackRect.height) / 2;\n        }\n        prepareAnimation(animationOffset);\n    });\n    React.useEffect(() => cleanup(subscribe(ACTION_SWIPE, handleControllerSwipe)), [subscribe, handleControllerSwipe]);\n    const preload = calculatePreload(carousel, slides);\n    const items = [];\n    if (hasSlides(slides)) {\n        for (let index = globalIndex - preload - Math.abs(offset); index <= globalIndex + preload + Math.abs(offset); index += 1) {\n            const placeholder = (carousel.finite && (index < 0 || index > slides.length - 1)) ||\n                (offset < 0 && index < globalIndex - preload) ||\n                (offset > 0 && index > globalIndex + preload);\n            const slide = !placeholder ? getSlide(slides, index) : null;\n            const key = [`${index}`, getThumbnailKey(slide)].filter(Boolean).join(\"|\");\n            items.push({ key, index, slide });\n        }\n    }\n    const handleClick = (slideIndex) => () => {\n        if (slideIndex > globalIndex) {\n            publish(ACTION_NEXT, { count: slideIndex - globalIndex });\n        }\n        else if (slideIndex < globalIndex) {\n            publish(ACTION_PREV, { count: globalIndex - slideIndex });\n        }\n    };\n    return (React.createElement(\"div\", { className: clsx(cssClass(cssPrefix(\"container\")), cssClass(CLASS_FLEX_CENTER)), style: {\n            ...(!visible ? { display: \"none\" } : null),\n            ...(width !== defaultThumbnailsProps.width ? { [cssVar(cssThumbnailPrefix(\"width\"))]: `${width}px` } : null),\n            ...(height !== defaultThumbnailsProps.height\n                ? { [cssVar(cssThumbnailPrefix(\"height\"))]: `${height}px` }\n                : null),\n            ...(border !== defaultThumbnailsProps.border\n                ? { [cssVar(cssThumbnailPrefix(\"border\"))]: `${border}px` }\n                : null),\n            ...(borderStyle ? { [cssVar(cssThumbnailPrefix(\"border_style\"))]: borderStyle } : null),\n            ...(borderColor ? { [cssVar(cssThumbnailPrefix(\"border_color\"))]: borderColor } : null),\n            ...(borderRadius !== defaultThumbnailsProps.borderRadius\n                ? { [cssVar(cssThumbnailPrefix(\"border_radius\"))]: `${borderRadius}px` }\n                : null),\n            ...(padding !== defaultThumbnailsProps.padding\n                ? { [cssVar(cssThumbnailPrefix(\"padding\"))]: `${padding}px` }\n                : null),\n            ...(gap !== defaultThumbnailsProps.gap ? { [cssVar(cssThumbnailPrefix(\"gap\"))]: `${gap}px` } : null),\n            ...styles.thumbnailsContainer,\n        } },\n        React.createElement(\"nav\", { ref: track, style: styles.thumbnailsTrack, className: clsx(cssClass(cssPrefix(\"track\")), cssClass(CLASS_FLEX_CENTER)), tabIndex: -1, ...registerSensors }, items.map(({ key, index, slide }) => {\n            const fadeAnimationDuration = animationDuration / Math.abs(offset || 1);\n            const fadeIn = (offset > 0 && index > globalIndex + preload - offset && index <= globalIndex + preload) ||\n                (offset < 0 && index < globalIndex - preload - offset && index >= globalIndex - preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: ((offset > 0 ? index - (globalIndex + preload - offset) : globalIndex - preload - offset - index) -\n                        1) *\n                        fadeAnimationDuration,\n                }\n                : undefined;\n            const fadeOut = (offset > 0 && index < globalIndex - preload) || (offset < 0 && index > globalIndex + preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: (offset > 0\n                        ? offset - (globalIndex - preload - index)\n                        : -offset - (index - (globalIndex + preload))) * fadeAnimationDuration,\n                }\n                : undefined;\n            return (React.createElement(Thumbnail, { key: key, slide: slide, active: index === globalIndex, fadeIn: fadeIn, fadeOut: fadeOut, placeholder: !slide, onClick: handleClick(index), onLoseFocus: () => { var _a; return (_a = track.current) === null || _a === void 0 ? void 0 : _a.focus(); } }));\n        })),\n        vignette && React.createElement(\"div\", { className: cssClass(cssPrefix(\"vignette\")) })));\n}\n\nconst ThumbnailsContext = React.createContext(null);\nconst useThumbnails = makeUseContext(\"useThumbnails\", \"ThumbnailsContext\", ThumbnailsContext);\nfunction ThumbnailsContextProvider({ children, ...props }) {\n    const { ref, position, hidden } = resolveThumbnailsProps(props.thumbnails);\n    const [visible, setVisible] = React.useState(!hidden);\n    const containerRef = React.useRef(null);\n    const context = React.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return (React.createElement(LightboxPropsProvider, { ...props },\n        React.createElement(ThumbnailsContext.Provider, { value: context },\n            React.createElement(\"div\", { ref: containerRef, className: clsx(cssClass(cssPrefix()), cssClass(cssPrefix(`${position}`))) },\n                [\"start\", \"top\"].includes(position) && React.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible }),\n                React.createElement(\"div\", { className: cssClass(cssPrefix(\"wrapper\")) }, children),\n                [\"end\", \"bottom\"].includes(position) && React.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible })))));\n}\n\nconst thumbnailsIcon = () => (React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    React.createElement(\"path\", { d: \"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z\" })));\nconst ThumbnailsVisible = createIcon(\"ThumbnailsVisible\", thumbnailsIcon());\nconst ThumbnailsHidden = createIconDisabled(\"ThumbnailsHidden\", thumbnailsIcon());\nfunction ThumbnailsButton() {\n    const { visible, show, hide } = useThumbnails();\n    const { render } = useLightboxProps();\n    if (render.buttonThumbnails) {\n        return React.createElement(React.Fragment, null, render.buttonThumbnails({ visible, show, hide }));\n    }\n    return (React.createElement(IconButton, { label: visible ? \"Hide thumbnails\" : \"Show thumbnails\", icon: visible ? ThumbnailsVisible : ThumbnailsHidden, renderIcon: visible ? render.iconThumbnailsVisible : render.iconThumbnailsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Thumbnails({ augment, contains, append, addParent }) {\n    augment(({ thumbnails: thumbnailsProps, toolbar, ...restProps }) => {\n        const thumbnails = resolveThumbnailsProps(thumbnailsProps);\n        return {\n            toolbar: addToolbarButton(toolbar, PLUGIN_THUMBNAILS, thumbnails.showToggle ? React.createElement(ThumbnailsButton, null) : null),\n            thumbnails,\n            ...restProps,\n        };\n    });\n    const module = createModule(PLUGIN_THUMBNAILS, ThumbnailsContextProvider);\n    if (contains(PLUGIN_FULLSCREEN)) {\n        append(PLUGIN_FULLSCREEN, module);\n    }\n    else {\n        addParent(MODULE_CONTROLLER, module);\n    }\n}\n\nexport { Thumbnails as default };\n","import React, { useState, useRef, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport Lightbox from 'yet-another-react-lightbox';\nimport Zoom from 'yet-another-react-lightbox/plugins/zoom';\nimport Thumbnails from 'yet-another-react-lightbox/plugins/thumbnails';\nimport 'yet-another-react-lightbox/styles.css';\nimport 'yet-another-react-lightbox/plugins/thumbnails.css';\n\n\nconst customStyles = `\n  .yarl__container {\n    transition: transform 0.3s ease, opacity 0.3s ease !important;\n  }\n  \n  .yarl__container.swiping-down {\n    transform: translateY(150px) !important;\n    opacity: 0.7 !important;\n  }\n  \n  .yarl__container.swiping-close {\n    transform: translateY(100vh) !important;\n    opacity: 0 !important;\n  }\n`;\n\n/**\n * Простой просмотрщик изображений\n */\nconst SimpleImageViewer = ({ isOpen, onClose, images, initialIndex = 0 }) => {\n  const [isSwipingDown, setIsSwipingDown] = useState(false);\n  const touchStartRef = useRef({ y: 0, x: 0 });\n  const touchMoveRef = useRef({ y: 0, x: 0 });\n  const containerRef = useRef(null);\n  const scrollPosRef = useRef(0);\n  \n  \n  const imageArray = Array.isArray(images) \n    ? images.filter(Boolean)\n    : (typeof images === 'string' && images ? [images] : []);\n  \n  \n  const slides = imageArray.map(image => {\n    if (typeof image === 'string') {\n      return { src: image, alt: 'Image' };\n    } else if (image && typeof image === 'object') {\n      return {\n        src: image.img || image.src || '',\n        alt: image.alt || image.title || 'Image'\n      };\n    }\n    return null;\n  }).filter(Boolean);\n\n  \n  const zoomConfig = {\n    maxZoomPixelRatio: 3,\n    zoomInMultiplier: 1.5,\n    doubleTapDelay: 300,\n    doubleClickDelay: 300,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: true\n  };\n\n  \n  const thumbnailsConfig = {\n    position: \"bottom\",\n    width: 80,\n    height: 60,\n    border: 1,\n    borderRadius: 4,\n    padding: 4,\n    gap: 8,\n    showToggle: false\n  };\n  \n  \n  const handleClose = () => {\n    \n    const currentPos = window.scrollY;\n    \n    \n    onClose();\n    \n    \n    setTimeout(() => {\n      window.scrollTo(0, currentPos);\n    }, 50);\n  };\n  \n  \n  useEffect(() => {\n    if (isOpen) {\n      \n      scrollPosRef.current = window.scrollY;\n      \n      \n      const styleElement = document.createElement('style');\n      styleElement.innerHTML = customStyles;\n      document.head.appendChild(styleElement);\n      \n      \n      const findContainer = () => {\n        const container = document.querySelector('.yarl__container');\n        if (container) {\n          containerRef.current = container;\n        }\n      };\n      \n      \n      setTimeout(findContainer, 100);\n      \n      \n      const handleTouchStart = (e) => {\n        touchStartRef.current = {\n          y: e.touches[0].clientY,\n          x: e.touches[0].clientX\n        };\n        touchMoveRef.current = { ...touchStartRef.current };\n      };\n      \n      const handleTouchMove = (e) => {\n        const touchY = e.touches[0].clientY;\n        const touchX = e.touches[0].clientX;\n        \n        const deltaY = touchY - touchStartRef.current.y;\n        const deltaX = touchX - touchStartRef.current.x;\n        \n        touchMoveRef.current = { y: touchY, x: touchX };\n        \n        \n        const zoomElement = document.querySelector('.yarl__slide_image');\n        const isZoomed = zoomElement && \n          window.getComputedStyle(zoomElement).transform !== 'none' && \n          window.getComputedStyle(zoomElement).transform !== 'matrix(1, 0, 0, 1, 0, 0)';\n        \n        \n        if (deltaY > 20 && Math.abs(deltaY) > Math.abs(deltaX) && !isZoomed) {\n          setIsSwipingDown(true);\n          \n          if (containerRef.current) {\n            containerRef.current.classList.add('swiping-down');\n          }\n          \n          e.preventDefault();\n        }\n      };\n      \n      const handleTouchEnd = () => {\n        if (!isSwipingDown) return;\n        \n        const deltaY = touchMoveRef.current.y - touchStartRef.current.y;\n        \n        \n        if (deltaY > 80) {\n          if (containerRef.current) {\n            containerRef.current.classList.add('swiping-close');\n          }\n          \n          setTimeout(() => {\n            handleClose();\n            setIsSwipingDown(false);\n            \n            if (containerRef.current) {\n              containerRef.current.classList.remove('swiping-down', 'swiping-close');\n            }\n          }, 300);\n        } else {\n          if (containerRef.current) {\n            containerRef.current.classList.remove('swiping-down');\n          }\n          setIsSwipingDown(false);\n        }\n      };\n      \n      \n      document.addEventListener('touchstart', handleTouchStart, { passive: false });\n      document.addEventListener('touchmove', handleTouchMove, { passive: false });\n      document.addEventListener('touchend', handleTouchEnd, { passive: false });\n      \n      return () => {\n        \n        styleElement.remove();\n        document.removeEventListener('touchstart', handleTouchStart);\n        document.removeEventListener('touchmove', handleTouchMove);\n        document.removeEventListener('touchend', handleTouchEnd);\n      };\n    }\n  }, [isOpen, isSwipingDown]);\n\n  if (!isOpen) return null;\n\n  return ReactDOM.createPortal(\n    <Lightbox\n      open={isOpen}\n      close={handleClose}\n      slides={slides}\n      index={initialIndex}\n      plugins={[\n        Zoom,\n        Thumbnails\n      ]}\n      carousel={{\n        finite: slides.length <= 1,\n        preload: 2,\n        padding: \"0px\",\n        spacing: \"1em\",\n        imageFit: \"contain\"\n      }}\n      animation={{\n        fade: 300,\n        swipe: 500,\n        navigation: 250\n      }}\n      zoom={zoomConfig}\n      thumbnails={thumbnailsConfig}\n      render={{\n        iconPrev: () => (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <path d=\"M15 18l-6-6 6-6\"/>\n          </svg>\n        ),\n        iconNext: () => (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <path d=\"M9 18l6-6-6-6\"/>\n          </svg>\n        )\n      }}\n      styles={{\n        container: {\n          backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n          backdropFilter: \"blur(8px)\"\n        },\n        slide: {\n          width: \"90%\",\n          maxWidth: \"1200px\",\n          maxHeight: \"85vh\"\n        },\n        image: {\n          objectFit: \"contain\",\n          maxHeight: \"85vh\",\n          boxShadow: \"0 8px 24px rgba(0, 0, 0, 0.4)\"\n        },\n        button: {\n          filter: \"drop-shadow(0 0 1px rgba(0, 0, 0, 0.5))\",\n          color: \"#fff\"\n        },\n        buttonPrev: {\n          background: \"rgba(30, 30, 30, 0.6)\",\n          borderRadius: \"50%\",\n          width: \"40px\",\n          height: \"40px\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        buttonNext: {\n          background: \"rgba(30, 30, 30, 0.6)\",\n          borderRadius: \"50%\",\n          width: \"40px\",\n          height: \"40px\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        \n        buttonClose: {\n          background: \"rgba(30, 30, 30, 0.8)\",\n          borderRadius: \"50%\",\n          width: \"44px\", \n          height: \"44px\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          marginTop: \"15px\",\n          marginRight: \"15px\"\n        }\n      }}\n    />,\n    document.body\n  );\n};\n\nexport default SimpleImageViewer; "],"names":["_interopRequireDefault","require$$0","Object","defineProperty","ChatBubbleOutline","value","default","_createSvgIcon","_jsxRuntime","require$$2","jsx","d","MODULE_CAROUSEL","MODULE_CONTROLLER","MODULE_PORTAL","MODULE_TOOLBAR","PLUGIN_FULLSCREEN","PLUGIN_THUMBNAILS","PLUGIN_ZOOM","SLIDE_STATUS_LOADING","SLIDE_STATUS_ERROR","SLIDE_STATUS_COMPLETE","CLASS_FLEX_CENTER","CLASS_NO_SCROLL_PADDING","CLASS_SLIDE","CLASS_SLIDE_WRAPPER","ACTION_PREV","ACTION_NEXT","ACTION_SWIPE","ACTION_CLOSE","EVENT_ON_POINTER_DOWN","EVENT_ON_POINTER_MOVE","EVENT_ON_POINTER_UP","EVENT_ON_POINTER_LEAVE","EVENT_ON_POINTER_CANCEL","EVENT_ON_KEY_DOWN","EVENT_ON_WHEEL","ELEMENT_ICON","IMAGE_FIT_CONTAIN","IMAGE_FIT_COVER","UNKNOWN_ACTION_TYPE","cssPrefix$3","clsx","classes","filter","Boolean","join","cssClass","name","cssVar","composePrefix","base","prefix","makeComposePrefix","cleanup","cleaners","forEach","cleaner","makeUseContext","contextName","context","ctx","React.useContext","useContext","Error","hasWindow","window","round","decimals","factor","Math","Number","EPSILON","isImageSlide","slide","type","isImageFitCover","image","imageFit","parseInt","parseLengthPercentage","input","pixel","endsWith","percent","computeSlideRect","containerRect","padding","paddingValue","paddingPixels","width","max","height","getSlideIndex","index","slidesCount","hasSlides","slides","length","getSlide","getSlideIfPresent","getSlideKey","src","addToolbarButton","toolbar","key","button","buttons","restToolbar","findIndex","item","buttonWithKey","React.isValidElement","React.cloneElement","result","splice","calculatePreload","carousel","minimum","min","preload","finite","floor","isReact19","React.version","split","LightboxDefaultProps","open","close","render","plugins","labels","animation","fade","swipe","easing","navigation","spacing","imageProps","controller","ref","focus","aria","touchAction","closeOnPullUp","closeOnPullDown","closeOnBackdropClick","preventDefaultWheelX","preventDefaultWheelY","disableSwipeNavigation","portal","noScroll","disabled","on","styles","className","createModule","component","createNode","module","children","traverseNode","node","target","apply","flatMap","n","_a","traverse","nodes","DocumentContext","React.createContext","createContext","useDocumentContext","DocumentContextProvider","nodeRef","React.useMemo","getOwnerDocument","current","ownerDocument","document","getOwnerWindow","defaultView","React.createElement","Provider","EventsContext","useEvents","EventsProvider","subscriptions","React.useState","useState","React.useEffect","keys","topic","unsubscribe","callback","cb","publish","event","subscribe","push","LightboxPropsContext","useLightboxProps","LightboxPropsProvider","props","LightboxStateContext","useLightboxState","LightboxDispatchContext","useLightboxDispatch","reducer","state","action","increment","globalIndex","currentIndex","currentSlide","duration","LightboxStateProvider","dispatch","React.useReducer","createElement","TimeoutsContext","useTimeouts","TimeoutsProvider","timeouts","tid","clearTimeout","removeTimeout","id","setTimeout","fn","delay","IconButton","React.forwardRef","forwardRef","label","label$1","icon","Icon","renderIcon","onClick","style","rest","buttonLabel","defaultLabel","title","svgIcon","xmlns","viewBox","focusable","displayName","createIcon","glyph","fill","CloseIcon","PreviousIcon","NextIcon","LoadingIcon","React.Fragment","Array","from","map","_","array","x1","y1","x2","y2","strokeLinecap","strokeWidth","stroke","strokeOpacity","transform","ErrorIcon","useLayoutEffect","React.useLayoutEffect","useEffect","useMotionPreference","reduceMotion","setReduceMotion","_b","mediaQuery","matchMedia","call","matches","listener","addEventListener","removeEventListener","useAnimation","computeAnimation","snapshot","React.useRef","useRef","_c","keyframes","onfinish","getBoundingClientRect","x","y","z","matcher","getComputedStyle","match","values","currentTransformation","cancel","animate","err","prepareAnimation","currentSnapshot","isAnimationPlaying","playState","useContainerRect","containerRef","observerRef","setContainerRect","setContainerRef","React.useCallback","disconnect","updateContainerRect","parse","parseFloat","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","ResizeObserver","observe","useDelay","timeoutId","useCallback","useEventCallback","args","setRef","useForkRef","refA","refB","refValue","useLoseFocus","focused","onFocus","onBlur","useRTL","isRTL","setIsRTL","documentElement","direction","useSensors","subscribers","notifySubscribers","isPropagationStopped","registerSensors","onPointerDown","onPointerMove","onPointerUp","onPointerLeave","onPointerCancel","onKeyDown","onKeyUp","onWheel","subscribeSensors","unshift","listeners","el","useThrottle","lastCallbackTime","delayCallback","executeCallback","Date","now","slidePrefix","slideImagePrefix","ImageSlide","offset","rect","onLoad","onError","_d","_e","_f","_g","status","setStatus","imageRef","activeSlideStatus","handleLoading","img","decode","Promise","resolve","catch","then","parentNode","setImageRef","complete","handleOnLoad","currentTarget","handleOnError","cover","nonInfinite","fallback","isFinite","maxWidth","srcSet","concat","naturalWidth","maxHeight","naturalHeight","defaultStyle","sort","a","b","sizes","MAX_VALUE","imagePropsStyle","imagePropsClassName","restImageProps","Fragment","draggable","alt","iconLoading","iconError","LightboxRoot","SwipeState","Gesture","usePointerEvents","cssContainerPrefix","ControllerContext","useController","ControllerModule","toolbarWidth","setToolbarWidth","swipeState","setSwipeState","NONE","swipeOffset","pullOffset","pullOpacity","cleanupAnimationIncrement","cleanupSwipeOffset","cleanupPullOffset","handleContainerRef","horizontal","abs","deltaX","deltaY","ctrlKey","preventDefault","passive","usePreventWheelDefaults","carouselRef","setCarouselRef","rtl","getLightboxProps","getLightboxState","prev","params","next","isSwipeValid","setSwipeOffset","setProperty","setPullOffset","offsetValue","preparePullAnimation","translate","opacity","pull","ANIMATION","parsedSpacing","spacingValue","currentSwipeOffset","swipeDuration","swipeEasing","count","newSwipeState","newSwipeAnimationDuration","containerWidth","elapsedTime","expectedTime","swipeParams","SWIPE","pullParams","PULL","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","pullUpEnabled","pullDownEnabled","onPullStart","onPullProgress","onPullFinish","onPullCancel","onClose","pointers","activePointer","startTime","gesture","clearPointer","pointerId","currentPointers","p","addPointer","persist","lookupPointer","find","exceedsPullThreshold","threshold","pointer","currentOffset","HTMLElement","classList","contains","isCurrentPointer","clientX","clientY","startGesture","newGesture","usePointerSwipe","intent","intentCleanup","resetCleanup","wheelInertia","wheelInertiaCleanup","cancelSwipeIntentCleanup","cancelSwipeResetCleanup","handleCleanup","handleCancelSwipe","setWheelInertia","inertia","currentSwipeIntent","newSwipeOffset","sign","useWheelSwipe","focusOnMount","querySelector","onViewCallback","view","slideRect","React.useImperativeHandle","container","role","tabIndex","controls","cssPrefix$2","cssSlidePrefix","CarouselSlide","click","offscreen","activeElement","condition","inert","rendered","slideHeader","slideContainer","slideFooter","renderSlide","Placeholder","CarouselModule","items","placeholder","useNavigationState","prevDisabled","nextDisabled","useKeyboardNavigation","throttle","handleKeyDown","NavigationButton","NavigationModule","buttonPrev","buttonNext","iconPrev","iconNext","navigationPrev","navigationNext","noScrollPadding","isHTMLElement","element","padScrollbar","property","computedValue","originalValue","getPropertyValue","removeProperty","NoScrollModule","ownerWindow","body","scrollbar","innerWidth","elements","getElementsByTagName","i","add","remove","clean","cssPrefix$1","setAttribute","attribute","previousValue","getAttribute","removeAttribute","PortalModule","mounted","setMounted","visible","setVisible","restoreFocus","animationDuration","handleClose","exiting","exited","handleEnter","scrollTop","reflow","entering","indexOf","tagName","entered","handleRef","createPortal","root","relatedTarget","RootModule","ToolbarModule","buttonClose","iconClose","renderNode","child","mergeAnimation","defaultAnimation","defaultAnimationEasing","restDefaultAnimation","restAnimation","Lightbox","restProps","defaultCarousel","defaultRender","defaultToolbar","defaultController","defaultNoScroll","defaultOn","defaultSlides","defaultIndex","defaultPlugins","restDefaultProps","config","augmentation","augmentations","pop","addParent","append","addChild","precede","addSibling","addModule","replace","augment","plugin","reduce","acc","withPlugins","defaultZoomProps","maxZoomPixelRatio","zoomInMultiplier","doubleTapDelay","doubleClickDelay","doubleClickMaxStops","keyboardMoveDistance","wheelZoomDistanceFactor","pinchZoomDistanceFactor","scrollToZoom","resolveZoomProps","zoom","useZoomProps","distance","pointerA","pointerB","scaleZoom","delta","clamp","ZoomControllerContext","useZoom","ZoomContextProvider","zoomWrapper","setZoomWrapper","imageRect","maxZoom","imageDimensions","maxImageRect","useZoomImageRect","offsetX","offsetY","changeZoom","changeOffsets","zoomIn","zoomOut","zoomWrapperRef","setZoom","setOffsetX","setOffsetY","zoomAnimation","zoomAnimationStart","zoomAnimationDuration","playZoomAnimation","useZoomAnimation","currentSource","dx","dy","targetZoom","newZoom","newOffsetX","newOffsetY","maxOffsetX","maxOffsetY","rapid","handleControllerRectChange","useZoomState","onZoomCallback","useZoomCallback","activePointers","lastPointerDown","pinchZoomDistance","translateCoordinates","pageX","pageY","scrollX","scrollY","left","top","metaKey","meta","stopPropagation","move","handleChangeZoom","zoomValue","replacePointer","pointerType","timeStamp","currentDistance","coordinate","cleanupSensors","useZoomSensors","zoomRef","useImperativeHandle","ZoomInIcon","ZoomOutIcon","ZoomButton","onLoseFocus","wasEnabled","wasFocused","zoomInCallback","zoomOutCallback","zoomDisabled","iconZoomIn","iconZoomOut","ZoomButtonsGroup","zoomInRef","zoomOutRef","focusSibling","sibling","focusZoomIn","focusZoomOut","ZoomToolbarControl","buttonZoom","source","ResponsiveImage","useReducer","interactive","targetWidth","pixelDensity","devicePixelRatio","handleResize","targetSource","handlePreload","currentPreload","WebkitTransform","assign","position","visibility","ZoomWrapper","setImageDimensions","slideProps","isResponsiveImageSlide","Zoom","zoomProps","defaultThumbnailsProps","border","borderRadius","gap","vignette","hidden","showToggle","resolveThumbnailsProps","thumbnails","useThumbnailsProps","cssPrefix","cssThumbnailPrefix","VideoThumbnailIcon","UnknownThumbnailIcon","activePrefix","fadeInPrefix","fadeOutPrefix","placeholderPrefix","DELAY","DURATION","Thumbnail","active","fadeIn","fadeOut","onLoseFocusCallback","thumbnail","customThumbnail","imageSlideProps","thumbnailIconClass","poster","renderThumbnail","isHorizontal","includes","boxSize","dimension","getThumbnailKey","ThumbnailsTrack","track","borderStyle","borderColor","handleControllerSwipe","animationOffset","trackRect","display","thumbnailsContainer","thumbnailsTrack","fadeAnimationDuration","slideIndex","ThumbnailsContext","useThumbnails","ThumbnailsContextProvider","show","hide","thumbnailsIcon","strokeLinejoin","ThumbnailsVisible","ThumbnailsHidden","mask","ThumbnailsButton","buttonThumbnails","iconThumbnailsVisible","iconThumbnailsHidden","Thumbnails","thumbnailsProps","SimpleImageViewer","isOpen","images","initialIndex","isSwipingDown","setIsSwipingDown","touchStartRef","touchMoveRef","scrollPosRef","isArray","currentPos","scrollTo","styleElement","innerHTML","head","appendChild","findContainer","handleTouchStart","e","touches","handleTouchMove","touchY","touchX","zoomElement","isZoomed","handleTouchEnd","ReactDOM","backgroundColor","backdropFilter","objectFit","boxShadow","color","background","alignItems","justifyContent","marginTop","marginRight"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}