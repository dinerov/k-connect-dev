import{r as Y,a as O,b as q,g as G,j as e,h as J,i as a,l as h,d as n,T as i,P as _,a3 as L,m as K,V as Q,G as X,o as P,a0 as U,D as Z,E as ee,H as te,aF as se,J as ae,bq as re,af as ie,A as ne}from"./vendor-mui.08p3AH88.js";import{u as oe,r as o}from"./vendor-router.BRqU_Zs2.js";import{A as le}from"./ArrowBack.DeCcUwS3.js";import{g as A}from"./vendor-react.DF-_cTkv.js";import{r as T,S as de,c as ce}from"./index.CdVNWeFt.js";import{a as B}from"./vendor.CL98q8z6.js";var F,u={};function xe(){if(F)return u;F=1;var s=Y();Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var p=s(T()),m=O();return u.default=(0,p.default)((0,m.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline"),u}const pe=A(xe());var H,b={};function me(){if(H)return b;H=1;var s=Y();Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=s(T()),m=O();return b.default=(0,p.default)([(0,m.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,m.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,m.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5"},"2")],"SentimentVeryDissatisfied"),b}const he=A(me()),ue=({lifted:s,winner:p})=>e.jsxs(a,{sx:{position:"relative",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx(a,{sx:{width:"80%",height:"80%",backgroundImage:'url("/static/icons/cup.png")',backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",transform:s?"translateY(-25px)":"translateY(0)",transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)",zIndex:2}}),p&&e.jsx(a,{sx:{position:"absolute",bottom:"10%",left:"50%",transform:"translateX(-50%)",width:30,height:30,borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, #ff5722, #e91e63)",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",zIndex:1,opacity:s?1:0,transition:"opacity 0.3s ease 0.4s"}})]}),be=()=>{const s=q(),p=oe(),m=G(s.breakpoints.down("sm")),[k,R]=o.useState(0),[f,C]=o.useState("10"),[d,W]=o.useState(null),[c,g]=o.useState(!1),[r,D]=o.useState(null),[j,y]=o.useState(!1),[E,S]=o.useState(!1),[M,x]=o.useState(null),[$,v]=o.useState(!1),[N,I]=o.useState(!1),z=o.useCallback(async()=>{try{y(!0);const t=await B.get("/api/user/points");t?.data?.points!==void 0&&R(parseInt(t.data.points))}catch{x("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0431\u0430\u043B\u0430\u043D\u0441. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.")}finally{y(!1)}},[]);o.useEffect(()=>{z()},[z]);const w=t=>parseInt(t).toLocaleString();return e.jsxs(J,{maxWidth:"md",sx:{mt:{xs:2,sm:3},mb:{xs:10,sm:10},pb:{xs:"80px",sm:0},px:{xs:1,sm:2}},children:[e.jsx(de,{title:"\u0422\u0440\u0438 \u0447\u0430\u0448\u0438 | \u041C\u0438\u043D\u0438-\u0438\u0433\u0440\u044B | \u041A-\u041A\u043E\u043D\u043D\u0435\u043A\u0442",description:"\u0418\u0433\u0440\u0430 \u0422\u0440\u0438 \u0447\u0430\u0448\u0438 - \u0443\u0433\u0430\u0434\u0430\u0439\u0442\u0435, \u043F\u043E\u0434 \u043A\u0430\u043A\u043E\u0439 \u0447\u0430\u0448\u0435\u0439 \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u0441\u044F \u0448\u0430\u0440\u0438\u043A!"}),e.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:2,sm:0},mb:3},children:[e.jsx(h,{startIcon:e.jsx(le,{}),onClick:()=>p("/minigames"),sx:{color:s.palette.text.primary,"&:hover":{backgroundColor:n(s.palette.primary.main,.1)}},children:"\u041A \u0438\u0433\u0440\u0430\u043C"}),e.jsxs(a,{sx:{p:1.5,borderRadius:2,backgroundColor:n(s.palette.background.paper,.5),border:`1px solid ${n(s.palette.primary.main,.2)}`,backdropFilter:"blur(8px)",width:{xs:"100%",sm:"auto"}},children:[e.jsx(i,{variant:"body2",color:"text.secondary",align:m?"left":"right",children:"\u0412\u0430\u0448 \u0431\u0430\u043B\u0430\u043D\u0441:"}),e.jsxs(i,{variant:"h6",sx:{fontWeight:700,color:s.palette.primary.main},children:[w(k)," \u0431\u0430\u043B\u043B\u043E\u0432"]})]})]}),e.jsxs(_,{elevation:2,sx:{p:3,mb:4,borderRadius:3,background:`linear-gradient(135deg, ${n("#e91e63",.1)}, ${n("#e91e63",.05)})`,position:"relative",overflow:"hidden"},children:[e.jsx(a,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.1,background:`radial-gradient(circle at 30% 50%, ${n("#e91e63",.3)} 0%, transparent 70%)`,zIndex:0}}),e.jsxs(a,{sx:{position:"relative",zIndex:1},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.jsx(a,{component:"img",src:"/static/icons/cup.png",alt:"Cup icon",sx:{width:36,height:36,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}}),e.jsx(i,{variant:"h4",component:"h1",sx:{fontWeight:700,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:"\u0422\u0440\u0438 \u0447\u0430\u0448\u0438"}),e.jsx(L,{title:"\u041F\u0440\u0430\u0432\u0438\u043B\u0430 \u0438\u0433\u0440\u044B",children:e.jsx(h,{size:"small",sx:{ml:"auto"},onClick:()=>S(!0),children:e.jsx(pe,{})})})]}),e.jsx(i,{variant:"body1",color:"text.secondary",children:"\u0423\u0433\u0430\u0434\u0430\u0439\u0442\u0435, \u043F\u043E\u0434 \u043A\u0430\u043A\u043E\u0439 \u0447\u0430\u0448\u0435\u0439 \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u0441\u044F \u0448\u0430\u0440\u0438\u043A, \u0438 \u0432\u044B\u0438\u0433\u0440\u0430\u0439\u0442\u0435 \u0432 \u0434\u0432\u0430 \u0440\u0430\u0437\u0430 \u0431\u043E\u043B\u044C\u0448\u0435 \u0441\u0432\u043E\u0435\u0439 \u0441\u0442\u0430\u0432\u043A\u0438!"})]})]}),e.jsxs(_,{sx:{p:{xs:2,sm:3},borderRadius:3,mb:3,background:s.palette.mode==="dark"?"linear-gradient(to bottom, #424242, #303030)":"linear-gradient(to bottom, #ffffff, #f5f5f5)"},children:[e.jsxs(a,{sx:{mb:4},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,"&:before":{content:'""',display:"block",width:3,height:20,backgroundColor:"#e91e63",borderRadius:4}},children:"\u0412\u0430\u0448\u0430 \u0441\u0442\u0430\u0432\u043A\u0430"}),e.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,alignItems:"flex-start",flexWrap:{sm:"wrap"}},children:[e.jsx(K,{label:"\u0421\u0443\u043C\u043C\u0430 \u0441\u0442\u0430\u0432\u043A\u0438",variant:"outlined",value:f,onChange:t=>{const l=t.target.value.replace(/[^0-9]/g,"");C(l)},disabled:c,sx:{width:{xs:"100%",sm:200},"& .MuiOutlinedInput-root":{borderRadius:2}},InputProps:{endAdornment:e.jsx(h,{variant:"text",size:"small",onClick:()=>{C(Math.floor(k).toString())},disabled:c,sx:{minWidth:"auto",color:s.palette.text.secondary,"&:hover":{backgroundColor:"transparent",color:s.palette.primary.main}},children:"max"})}}),e.jsx(a,{sx:{display:"flex",gap:1,flexWrap:"wrap",width:{xs:"100%",sm:"auto"}},children:[10,50,100,500].map(t=>e.jsx(h,{variant:"outlined",disabled:c,onClick:()=>C(t.toString()),sx:{flex:{xs:1,sm:"none"},minWidth:"60px",borderRadius:2,borderColor:n(s.palette.divider,.5),"&:hover":{borderColor:s.palette.primary.main,backgroundColor:n(s.palette.primary.main,.1)}},children:t},t))})]})]}),e.jsx(Q,{sx:{my:3}}),e.jsxs(a,{sx:{mb:4},children:[e.jsx(i,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,"&:before":{content:'""',display:"block",width:3,height:20,backgroundColor:"#e91e63",borderRadius:4}},children:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0447\u0430\u0448\u0443"}),e.jsx(a,{sx:{mt:3,position:"relative",background:s.palette.mode==="dark"?"linear-gradient(to bottom, #212121, #1e1e1e)":"linear-gradient(to bottom, #f0f0f0, #e0e0e0)",borderRadius:4,p:2,py:3,mb:3,overflow:"hidden","&:before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"5px",background:"linear-gradient(to right, #e91e63, #9c27b0)"}},children:e.jsx(X,{container:!0,spacing:2,justifyContent:"center",children:[1,2,3].map(t=>e.jsx(X,{item:!0,xs:4,sm:4,children:e.jsxs(a,{onClick:()=>{c||W(t)},sx:{height:{xs:140,sm:180},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:c?"default":"pointer",position:"relative",transition:"all 0.3s ease-in-out",transform:d!==t||$?"translateY(0)":"translateY(-5px)",filter:c&&d!==t?"grayscale(40%) brightness(0.8)":"none","&:hover":{transform:c?"translateY(0)":d===t?"translateY(-5px)":"translateY(-8px)"},animation:$&&d===t?"shake 0.5s ease-in-out":"none","@keyframes shake":{"0%, 100%":{transform:"translateX(0)"},"25%":{transform:"translateX(-5px) rotate(-5deg)"},"50%":{transform:"translateX(5px) rotate(5deg)"},"75%":{transform:"translateX(-5px) rotate(-5deg)"}}},children:[d===t&&!c&&e.jsx(a,{sx:{position:"absolute",bottom:-5,left:"25%",width:"50%",height:3,background:"#e91e63",borderRadius:4,boxShadow:"0 0 8px rgba(233, 30, 99, 0.6)",transition:"opacity 0.3s ease",zIndex:1}}),e.jsx(a,{sx:{width:"100%",height:"100%",position:"relative"},children:e.jsx(ue,{lifted:N,winner:r&&r.winning_cup===t})}),e.jsxs(i,{variant:"subtitle2",align:"center",sx:{fontSize:{xs:"0.8rem",sm:"0.9rem"},fontWeight:600,color:d===t?"#e91e63":"text.secondary",mt:1,transition:"color 0.3s ease"},children:["\u0427\u0430\u0448\u0430 ",t]})]})},t))})})]}),e.jsx(a,{sx:{display:"flex",justifyContent:"center",gap:2,mt:4},children:c?e.jsx(h,{variant:"outlined",size:"large",onClick:()=>{g(!1),W(null),D(null),I(!1)},sx:{minWidth:200,py:1.5,fontSize:"1.1rem",borderRadius:3,borderColor:"#e91e63",color:"#e91e63","&:hover":{borderColor:"#c2185b",backgroundColor:n("#e91e63",.05)}},children:"\u0418\u0433\u0440\u0430\u0442\u044C \u0441\u043D\u043E\u0432\u0430"}):e.jsx(h,{variant:"contained",size:"large",onClick:async()=>{const t=parseInt(f,10);if(isNaN(t)||t<=0)x("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u0443\u044E \u0441\u0442\u0430\u0432\u043A\u0443.");else if(t>k)x("\u041D\u0435\u0434\u043E\u0441\u0442\u0430\u0442\u043E\u0447\u043D\u043E \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043B\u044F \u0441\u0442\u0430\u0432\u043A\u0438.");else if(d!==null){y(!0),g(!0),v(!0),I(!1);try{const l=await B.post("/api/minigames/cups/play",{bet:t,selected_cup:d});l?.data?.success?setTimeout(()=>{v(!1);const V={...l.data,is_win:l.data.won,new_balance:l.data.balance};D(V),I(!0),l.data.balance!==void 0?R(parseInt(l.data.balance)):z()},1500):(x(l?.data?.error||"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0438\u0433\u0440\u0435."),g(!1),v(!1))}catch{x("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0432\u0437\u0430\u0438\u043C\u043E\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0438 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043E\u043C. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."),g(!1),v(!1)}finally{setTimeout(()=>y(!1),1e3)}}else x("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0447\u0430\u0448\u0443.")},disabled:d===null||f===""||parseInt(f,10)<=0||j,sx:{minWidth:200,py:1.5,fontSize:"1.1rem",borderRadius:3,backgroundColor:"#e91e63","&:hover":{backgroundColor:"#c2185b"},boxShadow:"0 4px 12px rgba(233, 30, 99, 0.3)"},startIcon:j?e.jsx(P,{size:20,color:"inherit"}):null,children:j?"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...":"\u0418\u0433\u0440\u0430\u0442\u044C"})})]}),r&&e.jsx(U,{in:!0,timeout:800,children:e.jsxs(_,{sx:{p:3,mb:3,borderRadius:3,backgroundColor:r.is_win?n(s.palette.success.main,.1):n(s.palette.error.main,.1),border:`1px solid ${r.is_win?n(s.palette.success.main,.3):n(s.palette.error.main,.3)}`},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",mb:2,gap:1},children:[r.is_win?e.jsx(ce,{sx:{color:s.palette.success.main,fontSize:28}}):e.jsx(he,{sx:{color:s.palette.error.main,fontSize:28}}),e.jsx(i,{variant:"h5",sx:{color:r.is_win?s.palette.success.main:s.palette.error.main,fontWeight:700,fontSize:{xs:"1.25rem",sm:"1.5rem"}},children:r.is_win?"\u041F\u043E\u0437\u0434\u0440\u0430\u0432\u043B\u044F\u0435\u043C!":"\u0412\u044B \u043D\u0435 \u0443\u0433\u0430\u0434\u0430\u043B\u0438!"})]}),e.jsx(i,{variant:"body1",paragraph:!0,children:r.is_win?`\u0412\u044B \u0432\u044B\u0438\u0433\u0440\u0430\u043B\u0438 ${w(r.winnings||2*r.bet)} \u0431\u0430\u043B\u043B\u043E\u0432! \u0428\u0430\u0440\u0438\u043A \u0431\u044B\u043B \u043F\u043E\u0434 \u0447\u0430\u0448\u0435\u0439 ${r.winning_cup}.`:`\u0428\u0430\u0440\u0438\u043A \u0431\u044B\u043B \u043F\u043E\u0434 \u0447\u0430\u0448\u0435\u0439 ${r.winning_cup}. \u0412\u044B \u043F\u043E\u0442\u0435\u0440\u044F\u043B\u0438 ${w(r.bet)} \u0431\u0430\u043B\u043B\u043E\u0432.`}),e.jsx(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",gap:2,mt:2},children:e.jsxs(i,{variant:"body2",color:"text.secondary",children:["\u041D\u043E\u0432\u044B\u0439 \u0431\u0430\u043B\u0430\u043D\u0441: ",e.jsx("strong",{children:w(r.new_balance||r.balance)})," \u0431\u0430\u043B\u043B\u043E\u0432"]})})]})}),e.jsxs(Z,{open:E,onClose:()=>S(!1),sx:{"& .MuiDialog-paper":{borderRadius:3,"@media (max-width: 600px)":{width:"100%",maxWidth:"100%",margin:0,borderRadius:0}}},children:[e.jsx(ee,{children:'\u041F\u0440\u0430\u0432\u0438\u043B\u0430 \u0438\u0433\u0440\u044B "\u0422\u0440\u0438 \u0447\u0430\u0448\u0438"'}),e.jsx(te,{children:e.jsxs(se,{children:[e.jsx(i,{paragraph:!0,children:'"\u0422\u0440\u0438 \u0447\u0430\u0448\u0438" - \u044D\u0442\u043E \u043A\u043B\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043A\u0430\u044F \u0438\u0433\u0440\u0430 \u043D\u0430 \u0432\u0435\u0437\u0435\u043D\u0438\u0435 \u0438 \u0438\u043D\u0442\u0443\u0438\u0446\u0438\u044E. \u041F\u0440\u0430\u0432\u0438\u043B\u0430 \u043F\u0440\u043E\u0441\u0442\u044B:'}),e.jsxs(i,{component:"ol",sx:{pl:2},children:[e.jsx("li",{children:"\u0421\u0434\u0435\u043B\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0432\u043A\u0443 \u0438\u0437 \u0441\u0432\u043E\u0435\u0433\u043E \u0431\u0430\u043B\u0430\u043D\u0441\u0430 \u043E\u0447\u043A\u043E\u0432."}),e.jsx("li",{children:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0434\u043D\u0443 \u0438\u0437 \u0442\u0440\u0435\u0445 \u0447\u0430\u0448, \u043F\u043E\u0434 \u043A\u043E\u0442\u043E\u0440\u043E\u0439, \u043A\u0430\u043A \u0432\u044B \u0434\u0443\u043C\u0430\u0435\u0442\u0435, \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u0441\u044F \u0448\u0430\u0440\u0438\u043A."}),e.jsx("li",{children:"\u0415\u0441\u043B\u0438 \u0432\u044B \u0443\u0433\u0430\u0434\u0430\u043B\u0438, \u0432\u0430\u0448\u0430 \u0441\u0442\u0430\u0432\u043A\u0430 \u0443\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442\u0441\u044F!"}),e.jsx("li",{children:"\u0415\u0441\u043B\u0438 \u043D\u0435 \u0443\u0433\u0430\u0434\u0430\u043B\u0438, \u0432\u044B \u0442\u0435\u0440\u044F\u0435\u0442\u0435 \u0441\u0443\u043C\u043C\u0443 \u0441\u0442\u0430\u0432\u043A\u0438."})]}),e.jsx(i,{paragraph:!0,sx:{mt:2},children:"\u0428\u0430\u043D\u0441 \u0432\u044B\u0438\u0433\u0440\u044B\u0448\u0430 \u0441\u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0435\u0442 1 \u043A 3, \u0447\u0442\u043E \u0434\u0430\u0451\u0442 33.3% \u0432\u0435\u0440\u043E\u044F\u0442\u043D\u043E\u0441\u0442\u044C \u043F\u043E\u0431\u0435\u0434\u044B."}),e.jsx(i,{children:"\u0423\u0434\u0430\u0447\u0438 \u0432 \u0438\u0433\u0440\u0435!"})]})}),e.jsx(ae,{children:e.jsx(h,{onClick:()=>S(!1),autoFocus:!0,children:"\u041F\u043E\u043D\u044F\u0442\u043D\u043E"})})]}),e.jsx(re,{sx:{color:"#fff",zIndex:t=>t.zIndex.drawer+1},open:j,children:e.jsx(P,{color:"inherit"})}),e.jsx(ie,{open:!!M,autoHideDuration:5e3,onClose:()=>x(null),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(ne,{onClose:()=>x(null),severity:"error",sx:{width:"100%"},children:M})})]})};export{be as default};
