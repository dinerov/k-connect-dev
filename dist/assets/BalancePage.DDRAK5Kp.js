import{r as D,a as R,b as we,j as e,s as d,v as at,t as _e,i as o,P as nt,d as x,T as s,g as Gt,o as Ce,h as Qt,a3 as Kt,w as le,O as ce,l as C,bd as er,bm as tr,k as q,q as N,a5 as rr,bn as ar,Q as j,a7 as it,U as v,C as nr,p as ir,H as Se,I as sr,V as or,af as dr,D as st,m as ot,J as lr}from"./vendor-mui.08p3AH88.js";import{r as c,u as cr,a as dt,L as pr}from"./vendor-router.BRqU_Zs2.js";import{r as B,A as xr,d as P,l as mr,s as pe,b as Ie}from"./index.CdVNWeFt.js";import{a as S}from"./vendor.CL98q8z6.js";import{S as ze,T as De}from"./ShoppingCart.BDp27tTE.js";import{g as W}from"./vendor-react.DF-_cTkv.js";import{T as hr}from"./Timeline.GD_rQ3dF.js";import{E as lt}from"./ExpandMore.Ch98balh.js";import{P as gr}from"./People.xr_JbldX.js";import{A as ct}from"./Add.BKfOzMjp.js";import{S as pt}from"./Send.DjUSpM3V.js";import{A as Re}from"./AccountBalanceWallet.DfnSQtMa.js";import{D as Be}from"./Diamond.CBNwN0TB.js";import{F as ur}from"./balls.C0g-ojbU.js";import{A as We}from"./AccountCircle.C55a0IjL.js";import{T as br}from"./Tag.-0_LtIDs.js";import{C as Me}from"./Close.BG2YHWMj.js";import{T as xe}from"./TouchApp.DGDvsy05.js";import{S as xt}from"./SportsEsports.C6PbSIRD.js";import{T as fr}from"./TransferMenu.2g5UFehs.js";import{A as jr}from"./ArrowForward.BKNSZeDS.js";import"./thumbnails.CEJMDkxh.js";import"./History.BL_2VNvs.js";import"./dateUtils.JaLtthGQ.js";import"./Delete.C47j6PO2.js";import"./Save.D4JlNQm5.js";import"./MoreVert.C0-1U5Ci.js";import"./Person.B_G_dVGx.js";var mt,J={};function yr(){if(mt)return J;mt=1;var t=D();Object.defineProperty(J,"__esModule",{value:!0}),J.default=void 0;var a=t(B()),l=R();return J.default=(0,a.default)((0,l.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),J}const vr=W(yr());var ht,Z={};function kr(){if(ht)return Z;ht=1;var t=D();Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=void 0;var a=t(B()),l=R();return Z.default=(0,a.default)((0,l.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"Payment"),Z}const wr=W(kr());var gt,G={};function _r(){if(gt)return G;gt=1;var t=D();Object.defineProperty(G,"__esModule",{value:!0}),G.default=void 0;var a=t(B()),l=R();return G.default=(0,a.default)([(0,l.jsx)("path",{d:"M19.5 3.5 18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2v14H3v3c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V2zM19 19c0 .55-.45 1-1 1s-1-.45-1-1v-3H8V5h11z"},"0"),(0,l.jsx)("path",{d:"M9 7h6v2H9zm7 0h2v2h-2zm-7 3h6v2H9zm7 0h2v2h-2z"},"1")],"ReceiptLong"),G}const Cr=W(_r());var ut,Q={};function Sr(){if(ut)return Q;ut=1;var t=D();Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var a=t(B()),l=R();return Q.default=(0,a.default)((0,l.jsx)("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"}),"FlashOn"),Q}const bt=W(Sr());var ft,K={};function Ir(){if(ft)return K;ft=1;var t=D();Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var a=t(B()),l=R();return K.default=(0,a.default)((0,l.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),K}const zr=W(Ir());var jt,ee={};function Dr(){if(jt)return ee;jt=1;var t=D();Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=void 0;var a=t(B()),l=R();return ee.default=(0,a.default)((0,l.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),ee}const yt=W(Dr()),vt=(t,a,l=null)=>{const g=l||t;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){if(/iPad|iPhone|iPod/.test(navigator.userAgent))return void(window.location.href=g);try{const h=window.open(g,"_blank");if(!h||h.closed||h.closed===void 0){const y=document.createElement("a");y.href=g,y.download=`receipt_${a}.pdf`,y.target="_blank",y.click()}}catch{window.location.href=g}}else{const h=document.createElement("a");h.href=g,h.target="_blank",h.rel="noopener noreferrer",h.click()}};var kt,te={};function Rr(){if(kt)return te;kt=1;var t=D();Object.defineProperty(te,"__esModule",{value:!0}),te.default=void 0;var a=t(B()),l=R();return te.default=(0,a.default)((0,l.jsx)("path",{d:"M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5z"}),"CallMade"),te}const Br=W(Rr());var wt,re={};function Wr(){if(wt)return re;wt=1;var t=D();Object.defineProperty(re,"__esModule",{value:!0}),re.default=void 0;var a=t(B()),l=R();return re.default=(0,a.default)((0,l.jsx)("path",{d:"M20 5.41 18.59 4 7 15.59V9H5v10h10v-2H8.41z"}),"CallReceived"),re}const Mr=W(Wr()),Fr=d(nt)(({theme:t,fullWidth:a=!1})=>({borderRadius:"16px",backgroundColor:l=>l.palette.mode==="dark"?"#1E1E1E":l.palette.background.paper,backgroundImage:"unset",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.2)",overflow:"hidden",mb:1,border:"1px solid rgba(255, 255, 255, 0.1)",width:a?"100%":"auto",maxWidth:a?"none":750,minWidth:320,mx:"auto",position:"relative","::before":{content:'""',position:"absolute",left:-80,top:"50%",transform:"translateY(-50%) rotate(-12deg)",width:180,height:220,background:"linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)",opacity:.25,filter:"blur(18px)",borderRadius:"50%",zIndex:1,pointerEvents:"none"},"::after":{content:'""',position:"absolute",right:-80,top:"50%",transform:"translateY(-50%) rotate(12deg)",width:180,height:220,background:"linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)",opacity:.25,filter:"blur(18px)",borderRadius:"50%",zIndex:1,pointerEvents:"none"},zIndex:2})),Tr=({value:t,onChange:a,tabs:l,variant:g="standard",centered:h=!1,fullWidth:y=!1,...V})=>(we(),e.jsx(Fr,{fullWidth:y,children:e.jsx(at,{value:t,onChange:a,variant:g,centered:h,sx:{"& .MuiTab-root":{color:k=>k.palette.mode==="dark"?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",backgroundColor:"#1c1c1c",fontWeight:"bold",fontSize:"1rem",textTransform:"none",borderRadius:0,minHeight:48,transition:"color 0.2s","&.Mui-selected":{color:k=>k.palette.primary.main,backgroundColor:"#1c1c1c"}},"& .MuiTabs-indicator":{backgroundColor:"#D0BCFF",height:3,borderRadius:"3px",transition:"all 0.2s"},minHeight:48},...V,children:l.map((k,ae)=>{const A=k.icon;return e.jsx(_e,{label:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[A&&e.jsx(A,{sx:{mr:1}}),k.label]}),value:k.value},ae)})})})),$r={content:'""',position:"absolute",left:-80,top:"50%",transform:"translateY(-50%) rotate(-12deg)",width:180,height:220,background:"linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)",opacity:.25,filter:"blur(18px)",borderRadius:"50%",zIndex:1,pointerEvents:"none"},Hr={content:'""',position:"absolute",right:-80,top:"50%",transform:"translateY(-50%) rotate(12deg)",width:180,height:220,background:"linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)",opacity:.25,filter:"blur(18px)",borderRadius:"50%",zIndex:1,pointerEvents:"none"},Pr={content:'""',position:"absolute",left:-80,top:0,transform:"rotate(-12deg)",width:180,height:90,background:"linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)",opacity:.25,filter:"blur(18px)",borderRadius:"50%",zIndex:1,pointerEvents:"none"},Or={content:'""',position:"absolute",right:-80,top:0,transform:"rotate(12deg)",width:180,height:90,background:"linear-gradient(13.89deg, #B69DF8 47.02%, #D0BCFF 97.69%)",opacity:.25,filter:"blur(18px)",borderRadius:"50%",zIndex:1,pointerEvents:"none"},Vr=(t,a="dark",l,g={})=>{const h="#B69DF8",y="#D0BCFF";return(g.position||"center")==="top"?{"&::before":{...Pr,background:`linear-gradient(13.89deg, ${h} 47.02%, ${y} 97.69%)`,opacity:a==="dark"?.25:.15},"&::after":{...Or,background:`linear-gradient(13.89deg, ${h} 47.02%, ${y} 97.69%)`,opacity:a==="dark"?.25:.15}}:{"&::before":{...$r,background:`linear-gradient(13.89deg, ${h} 47.02%, ${y} 97.69%)`,opacity:a==="dark"?.25:.15},"&::after":{...Hr,background:`linear-gradient(13.89deg, ${h} 47.02%, ${y} 97.69%)`,opacity:a==="dark"?.25:.15}}},Ar=(t,a="dark")=>({border:`1px solid ${a==="dark"?"rgba(255, 255, 255, 0.1)":x(t.palette.primary.main,.2)}`,background:a==="dark"?"#1c1c1c":x(t.palette.background.paper,.8),backdropFilter:"blur(10px)",borderRadius:"16px",position:"relative",overflow:"hidden",zIndex:2}),Er=d(o)(({theme:t,styleVariant:a="default"})=>({width:"100%",margin:"0 auto",marginBottom:t.spacing(1),...Ar(t,a),color:a==="dark"?"white":t.palette.text.primary,textAlign:"left",padding:14,...Vr(0,a)})),Lr=d(s)(({theme:t,styleVariant:a="default"})=>({fontWeight:700,margin:0,color:a==="dark"?"white":t.palette.text.primary,"&.MuiTypography-root":{margin:0,marginBottom:0},...t.components?.InfoBlock?.styleOverrides?.title})),Xr=d(s)(({theme:t,styleVariant:a="default"})=>({color:a==="dark"?"rgba(255,255,255,0.7)":t.palette.text.secondary,...t.components?.InfoBlock?.styleOverrides?.description})),O=({title:t,description:a,children:l,styleVariant:g="default",sx:h,titleSx:y,descriptionSx:V,...k})=>(we(),e.jsxs(Er,{styleVariant:g,sx:h,...k,children:[t&&e.jsx(Lr,{variant:"h5",styleVariant:g,sx:y,children:t}),a&&e.jsx(Xr,{variant:"body2",styleVariant:g,sx:V,children:a}),l]})),Yr=d(s)(({theme:t})=>({fontSize:"3.5rem",fontWeight:"700",marginTop:t.spacing(.5),marginBottom:t.spacing(.5),color:"#ffffff",lineHeight:1.2})),Ur=d(j)(({theme:t})=>({borderRadius:12,marginBottom:t.spacing(1),transition:"all 0.3s ease","&:hover":{backgroundColor:x(t.palette.primary.main,.1),transform:"translateX(4px)"}})),qr=d(s)(({theme:t,type:a})=>({fontWeight:"bold",fontSize:"0.9rem",padding:"4px 8px",borderRadius:"8px",backgroundColor:x(a==="positive"?t.palette.success.main:t.palette.error.main,.1),color:a==="positive"?t.palette.success.main:t.palette.error.main})),Nr=d("img")({width:40,height:40,objectFit:"contain"}),Jr=d(o)(({theme:t})=>({width:64,height:64,margin:"0 auto",marginBottom:t.spacing(2),"& svg":{width:"100%",height:"100%",filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2))"}}));d(nt)(({theme:t})=>({padding:t.spacing(2),marginBottom:t.spacing(2),borderRadius:16,background:x(t.palette.background.paper,.4),position:"relative",overflow:"hidden"}));const Zr=d("img")({width:50,height:50,objectFit:"contain"}),Gr=d(o)(({theme:t})=>({display:"flex",flexDirection:"row",justifyContent:"space-between",gap:t.spacing(2),marginTop:t.spacing(2)})),Fe=d(o)(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,padding:t.spacing(1),cursor:"pointer",borderRadius:16,transition:"all 0.2s ease","&:hover":{backgroundColor:x(t.palette.primary.main,.1)}})),Te=d(o)(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"center",width:44,height:44,borderRadius:"50%",backgroundColor:"#614C93",marginBottom:t.spacing(.8),"& svg":{color:"#fff",fontSize:24}})),$e=d(s)(({theme:t})=>({fontSize:"0.6rem",fontWeight:500,color:"#fff",textAlign:"center",whiteSpace:"nowrap",textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"})),He=({children:t,value:a,index:l,...g})=>e.jsx("div",{role:"tabpanel",hidden:a!==l,id:`tabpanel-${l}`,"aria-labelledby":`tab-${l}`,...g,style:{marginTop:"8px"},children:a===l&&e.jsx(o,{children:t})});d(o)(({theme:t})=>({display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:t.spacing(2),marginTop:t.spacing(4),marginBottom:t.spacing(3),[t.breakpoints.down("sm")]:{gridTemplateColumns:"repeat(1, 1fr)"}})),d(o)(({theme:t,colorStart:a,colorEnd:l})=>({position:"relative",borderRadius:16,overflow:"hidden",padding:t.spacing(2.5),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",background:`linear-gradient(135deg, ${a} 0%, ${l} 100%)`,boxShadow:`0 8px 20px -12px ${x(l,.6)}`,transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:`0 15px 30px -8px ${x(l,.7)}`},"&::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",background:`radial-gradient(circle at 100% 0%, ${x("#ffffff",.2)} 0%, transparent 25%)`,pointerEvents:"none"}})),d(o)(({theme:t})=>({width:60,height:60,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:x("#ffffff",.15),backdropFilter:"blur(5px)",marginBottom:t.spacing(1.5),transition:"all 0.3s ease",boxShadow:`0 4px 15px -5px ${x("#000000",.2)}`,"& svg":{fontSize:32,color:"#ffffff"}})),d(s)(({theme:t})=>({fontWeight:700,color:"#ffffff",fontSize:"1.1rem",textAlign:"center",marginBottom:t.spacing(.5)})),d(s)(({theme:t})=>({fontSize:"0.8rem",color:x("#ffffff",.8),textAlign:"center"}));const _t=d(st)(({theme:t})=>({"& .MuiDialog-container":{zIndex:999999999999},"& .MuiDialog-paper":{borderRadius:16,background:t.palette.mode==="dark"?"rgba(18, 18, 18, 0.8)":"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2)",border:t.palette.mode==="dark"?"1px solid rgba(255, 255, 255, 0.1)":"1px solid rgba(208, 188, 255, 0.3)",overflow:"hidden",maxWidth:"450px",width:"100%",margin:t.spacing(2),[t.breakpoints.down("sm")]:{width:"100%",maxWidth:"100%",margin:0,borderRadius:0}},"& .MuiDialogTitle-root":{fontSize:"1.2rem",fontWeight:500}})),Ct=d(o)(({theme:t})=>({position:"relative",overflow:"hidden",padding:t.spacing(2),borderBottom:"1px solid "+(t.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(208, 188, 255, 0.2)"),background:t.palette.mode==="dark"?"linear-gradient(90deg, rgba(208, 188, 255, 0.2) 0%, rgba(0, 0, 0, 0) 100%)":"linear-gradient(90deg, rgba(208, 188, 255, 0.2) 0%, rgba(255, 255, 255, 0) 100%)"})),St=d(o)(({theme:t})=>({position:"absolute",top:-50,right:-50,width:150,height:150,borderRadius:"50%",background:"radial-gradient(circle, rgba(208, 188, 255, 0.3) 0%, rgba(208, 188, 255, 0) 70%)",zIndex:0})),It=d(o)(({theme:t})=>({position:"relative",zIndex:1,display:"flex",alignItems:"center"})),zt=d(lr)(({theme:t})=>({padding:t.spacing(2),paddingLeft:t.spacing(3),paddingRight:t.spacing(3),justifyContent:"space-between",backgroundColor:t.palette.mode==="dark"?"rgba(0, 0, 0, 0.4)":"rgba(255, 255, 255, 0.6)",borderTop:"1px solid "+(t.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(208, 188, 255, 0.2)")})),Qr=d(C)(({theme:t})=>({borderRadius:12,paddingLeft:t.spacing(3),paddingRight:t.spacing(3),borderColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",color:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)","&:hover":{borderColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.4)",background:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}})),Pe=d(C)(({theme:t})=>({borderRadius:12,paddingLeft:t.spacing(4),paddingRight:t.spacing(4),paddingTop:t.spacing(.75),paddingBottom:t.spacing(.75),boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",background:"linear-gradient(45deg, #6200ee 30%, #9c64f2 90%)",color:"#fff","&:hover":{boxShadow:"0 6px 16px rgba(0, 0, 0, 0.25)"}})),Dt=d(o)(({theme:t})=>({position:"relative",padding:t.spacing(2.5),borderRadius:8,backgroundColor:t.palette.mode==="dark"?"rgba(208, 188, 255, 0.05)":"rgba(208, 188, 255, 0.1)",border:"1px solid "+(t.palette.mode==="dark"?"rgba(208, 188, 255, 0.2)":"rgba(208, 188, 255, 0.3)"),marginBottom:t.spacing(2)})),Kr=d(ot)(({theme:t})=>({"& .MuiOutlinedInput-root":{borderRadius:12,backgroundColor:t.palette.mode==="dark"?"rgba(0, 0, 0, 0.3)":"rgba(255, 255, 255, 0.8)","&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.primary.main}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.primary.main,borderWidth:2}}},"& .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)"},"& .MuiInputLabel-root":{color:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)"}}));d(o)(({theme:t})=>({display:"flex",alignItems:"center",justifyContent:"center",width:48,height:48,borderRadius:"50%",backgroundColor:"rgba(156, 100, 242, 0.2)",marginRight:t.spacing(2),"& svg":{color:"#9c64f2",fontSize:28}})),d(o)(({theme:t})=>({marginBottom:t.spacing(3)})),d(ot)(({theme:t})=>({"& .MuiOutlinedInput-root":{borderRadius:12,backgroundColor:t.palette.mode==="dark"?"rgba(0, 0, 0, 0.3)":"rgba(255, 255, 255, 0.8)","&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.primary.main}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.primary.main,borderWidth:2}}},"& .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)"},"& .MuiInputLabel-root":{color:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)"}})),d(o)(({theme:t})=>({marginTop:-2,marginBottom:t.spacing(3),borderRadius:"0 0 12px 12px",backgroundColor:"rgba(30, 30, 30, 0.95)",border:"1px solid rgba(255, 255, 255, 0.1)",borderTop:"none",overflow:"hidden"})),d(o)(({theme:t})=>({padding:t.spacing(1,2),display:"flex",alignItems:"center",cursor:"pointer",transition:"background-color 0.2s","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}})),d(q)(({theme:t})=>({width:32,height:32,fontSize:"0.9rem",marginRight:t.spacing(1.5),backgroundColor:t.palette.primary.main})),d(C)(({theme:t})=>({borderRadius:12,paddingLeft:t.spacing(3),paddingRight:t.spacing(3),background:"linear-gradient(45deg, #6200ee 30%, #9c64f2 90%)",color:"#fff",boxShadow:"0 4px 10px rgba(98, 0, 238, 0.25)","&:hover":{boxShadow:"0 6px 12px rgba(98, 0, 238, 0.4)"},"&:disabled":{background:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.12)":"rgba(0, 0, 0, 0.12)",color:t.palette.mode==="dark"?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.26)"}}));const ea=d(C)(({theme:t})=>({marginTop:t.spacing(2),marginBottom:t.spacing(1),padding:t.spacing(1.5),borderRadius:16,backgroundColor:x(t.palette.primary.main,.1),color:t.palette.primary.main,"&:hover":{backgroundColor:x(t.palette.primary.main,.2)}})),ta=d(o)(({theme:t})=>({width:80,height:80,borderRadius:"50%",backgroundColor:x(t.palette.success.main,.2),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",marginBottom:t.spacing(2)})),Rt=async t=>{try{const a=`TR-${t.id||Date.now().toString().slice(-8)}`,l=await S.post("/api/user/generate-receipt",{transaction_data:{transactionId:a,amount:Math.abs(t.amount),recipientUsername:t.type==="transfer"?t.amount<0?t.recipient_username:t.sender_username:"",senderUsername:t.type==="transfer"?t.amount<0?t.sender_username:t.recipient_username:"",date:t.date}});if(!l.data||!l.data.success)throw new Error("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u0433\u0435\u043D\u0435\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0447\u0435\u043A \u043D\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435");{const g=`data:application/pdf;base64,${l.data.pdf_data}`;vt(g,a,l.data.file_path)}}catch{}},ra=d(st)(({theme:t})=>({"& .MuiDialog-paper":{borderRadius:20,background:t.palette.mode==="dark"?"linear-gradient(135deg, rgba(35, 35, 40, 0.95) 0%, rgba(20, 20, 25, 0.95) 100%)":"linear-gradient(135deg, rgba(250, 250, 255, 0.95) 0%, rgba(240, 240, 250, 0.95) 100%)",backdropFilter:"blur(20px)",boxShadow:"0 20px 80px rgba(0, 0, 0, 0.2)",overflow:"hidden",maxWidth:"500px",[t.breakpoints.down("sm")]:{width:"100%",maxWidth:"100%",margin:0,borderRadius:0}}})),aa=d(o)(({theme:t,type:a})=>({padding:t.spacing(3,3,3.5,3),background:a==="income"?"linear-gradient(135deg, rgba(46, 125, 50, 0.1) 0%, rgba(76, 175, 80, 0.2) 100%)":"linear-gradient(135deg, rgba(211, 47, 47, 0.1) 0%, rgba(244, 67, 54, 0.2) 100%)",borderBottom:`1px solid ${x(t.palette.divider,.1)}`,position:"relative",overflow:"hidden"})),na=d(s)(({theme:t,type:a})=>({fontWeight:700,fontSize:"2.2rem",lineHeight:1.2,color:a==="income"?t.palette.success.main:t.palette.error.main,marginTop:t.spacing(1),marginBottom:t.spacing(.5)})),ia=d(N)(({theme:t,status:a})=>({borderRadius:12,height:24,fontSize:"0.7rem",fontWeight:600,backgroundColor:x(a==="completed"?t.palette.success.main:t.palette.grey[500],.1),color:a==="completed"?t.palette.success.main:t.palette.grey[500],border:`1px solid ${x(a==="completed"?t.palette.success.main:t.palette.grey[500],.3)}`,margin:t.spacing(0,.5)})),u=d(o)(({theme:t})=>({display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1.5,0),borderBottom:`1px solid ${x(t.palette.divider,.1)}`,"&:last-child":{borderBottom:"none"}})),b=d(s)(({theme:t})=>({color:x(t.palette.text.primary,.6),fontSize:"0.85rem",fontWeight:500})),f=d(s)(({theme:t})=>({color:t.palette.text.primary,fontSize:"0.85rem",fontWeight:600,textAlign:"right",wordBreak:"break-word",maxWidth:"50%"})),sa=d(q)(({theme:t,transactionType:a})=>({width:46,height:46,borderRadius:14,backgroundColor:x(a==="positive"?t.palette.success.main:t.palette.error.main,.15),border:`1px solid ${x(a==="positive"?t.palette.success.main:t.palette.error.main,.3)}`,padding:t.spacing(.7),"& .MuiSvgIcon-root":{fontSize:"1.4rem"}})),oa=d(o)(({theme:t})=>({display:"flex",alignItems:"center",padding:"2.5px",width:"100%",cursor:"pointer",transition:"all 0.2s ease","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.05)"}})),da=d(o)(({theme:t})=>({marginLeft:t.spacing(2),flex:1,width:"100%",overflow:"hidden"})),la=d(s)(({theme:t})=>({fontWeight:600,fontSize:"0.95rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"260px","@media (max-width: 600px)":{maxWidth:"160px"}})),ca=d(s)(({theme:t})=>({fontSize:"0.75rem",color:x(t.palette.text.secondary,.8),marginTop:2})),pa=d(Se)(({theme:t})=>({padding:t.spacing(3)})),xa=d(o)(({theme:t,expanded:a})=>({maxHeight:a?"1000px":"0",overflow:"hidden",opacity:a?1:0,transition:t.transitions.create(["opacity","max-height"],{duration:t.transitions.duration.standard})})),ma=d(lt)(({theme:t,expanded:a})=>({transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),transform:a?"rotate(180deg)":"rotate(0deg)",color:"rgba(255,255,255,0.7)"})),ha=()=>{const{user:t}=c.useContext(xr),a=we(),l=cr(),g=Gt(a.breakpoints.down("sm")),[h,y]=c.useState(0),[V,k]=c.useState(0),[ae,A]=c.useState([]),[Oe,Ve]=c.useState([]),[Ae,Bt]=c.useState([]),[me,Ee]=c.useState([]),[E,Wt]=c.useState([]),[Le,Mt]=c.useState(!0),[ga,Ft]=c.useState(null),[ne,Tt]=c.useState(0),[ua,ba]=c.useState(!1),[he,Xe]=c.useState(!1),[L,ie]=c.useState({username:"",amount:"",message:"",recipient_id:null}),[fa,ja]=c.useState({}),[Ye,Ue]=c.useState({open:!1,message:"",severity:"info"}),[$t,T]=c.useState({loading:!1,exists:!1,suggestions:[],timer:null}),[Ht,$]=c.useState(!1),[X,se]=c.useState(""),[M,ge]=c.useState(!1),[qe,H]=c.useState(""),[w,Y]=c.useState(null),[ue,Ne]=c.useState(0),[Pt,be]=c.useState(!1),[oe,ya]=c.useState(null),[_,fe]=c.useState(null),[va,ka]=c.useState(!1),[Ot,Je]=c.useState(!1),[n,Ze]=c.useState(null),[je,Vt]=c.useState([]),I=c.useRef(null),[ye,At]=c.useState(1),[ve,Et]=c.useState(!1),de=dt.useMemo(()=>[...ae.map(r=>({...r,type:"purchase",date:new Date(r.purchase_date),amount:-r.price_paid,title:"\u041F\u043E\u043A\u0443\u043F\u043A\u0430 \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u0430",description:`"${r.badge.name}"`,icon:e.jsx(ze,{sx:{color:"error.main"}})})),...Oe.map(r=>({...r,type:"royalty",date:new Date(r.purchase_date),amount:r.royalty_amount,title:"\u0420\u043E\u044F\u043B\u0442\u0438 \u043E\u0442 \u043F\u043E\u043A\u0443\u043F\u043A\u0438",description:`${r.buyer.name}`,buyer_name:r.buyer.name,badge_name:r.badge_name,icon:e.jsx(P,{sx:{color:"success.main"}})})),...Ae.map(r=>{const i=parseInt(r.sender_id,10)===parseInt(t.id,10),p=r.sender_id===r.recipient_id&&r.message==="\u0412\u044B\u0432\u043E\u0434 \u0431\u0430\u043B\u043B\u043E\u0432 \u0438\u0437 \u043A\u043B\u0438\u043A\u0435\u0440\u0430";let m=p?"\u0412\u044B\u0432\u043E\u0434 \u0438\u0437 \u043A\u043B\u0438\u043A\u0435\u0440\u0430":i?"\u041F\u0435\u0440\u0435\u0432\u043E\u0434":"\u041F\u043E\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435",z=p?"\u0411\u0430\u043B\u043B\u044B \u0438\u0437 \u043A\u043B\u0438\u043A\u0435\u0440\u0430":i?r.recipient_username:r.sender_username;return{...r,type:"transfer",date:new Date(r.date),amount:p?r.amount:i?-r.amount:r.amount,title:m,description:z,is_sender:!p&&i,icon:p?e.jsx(xe,{sx:{color:"success.main"}}):i?e.jsx(pt,{sx:{color:"error.main"}}):e.jsx(Re,{sx:{color:"success.main"}})}}),...E.map(r=>({...r,type:"username",date:new Date(r.purchase_date),amount:-r.price_paid,title:"\u041F\u043E\u043A\u0443\u043F\u043A\u0430 \u044E\u0437\u0435\u0440\u043D\u0435\u0439\u043C\u0430",description:`@${r.username}`,icon:e.jsx(We,{sx:{color:"error.main"}})})),...je.filter(r=>r.transaction_type==="weekly_activity").map(r=>({...r,type:"weekly_activity",date:new Date(r.date||r.created_at),title:"\u0415\u0436\u0435\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u044B\u0435 \u0431\u0430\u043B\u043B\u044B",description:r.description||"\u041D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u0435 \u0437\u0430 \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C",icon:e.jsx(De,{sx:{color:"success.main"}})})),...je.filter(r=>r.transaction_type!=="weekly_activity").map(r=>{let i=null,p=r.description||"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F",m=r.transaction_type||"unknown";return(m.includes("blackjack")||m.includes("minigame"))&&(m==="blackjack_win"||m==="blackjack_win_21"?(i=e.jsx(pe,{sx:{color:"success.main"}}),p='\u0412\u044B\u0438\u0433\u0440\u044B\u0448 \u0432 \u0438\u0433\u0440\u0435 "21"'):m==="blackjack_tie"?(i=e.jsx(pe,{sx:{color:"info.main"}}),p='\u041D\u0438\u0447\u044C\u044F \u0432 \u0438\u0433\u0440\u0435 "21"'):m==="blackjack_lose"||m==="blackjack_lose_bust"?(i=e.jsx(pe,{sx:{color:"error.main"}}),p='\u041F\u0440\u043E\u0438\u0433\u0440\u044B\u0448 \u0432 \u0438\u0433\u0440\u0435 "21"'):m==="minigame_bet"?(i=e.jsx(xt,{sx:{color:"error.main"}}),p="\u0421\u0442\u0430\u0432\u043A\u0430 \u0432 \u043C\u0438\u043D\u0438-\u0438\u0433\u0440\u0435"):i=e.jsx(xt,{sx:{color:r.amount>0?"success.main":"error.main"}})),{...r,type:"game",date:new Date(r.date),title:p,description:r.transaction_type.replace(/_/g," "),icon:i}})].sort((r,i)=>i.date-r.date),[ae,Oe,Ae,E,je,t?.id]);c.useEffect(()=>{t&&(Ge(),Lt(),Xt(),Yt(),Ut(),Qe(),qt(),et(),Nt())},[t]),c.useEffect(()=>{},[_]);const Ge=async()=>{try{const r=await S.get("/api/user/points");y(r.data.points)}catch{Ft("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0431\u0430\u043B\u0430\u043D\u0441 \u0431\u0430\u043B\u043B\u043E\u0432")}},Lt=async()=>{try{const r=await S.get("/api/leaderboard/user/"+t.id+"?period=week");k(r.data.score||0)}catch{k(0)}},Xt=async()=>{try{const r=(await S.get("/api/badges/purchases")).data.purchases.sort((i,p)=>new Date(p.purchase_date)-new Date(i.purchase_date));A(r)}catch{A([])}finally{Mt(!1)}},Yt=async()=>{try{const r=await S.get("/api/badges/royalties");Ve(r.data.royalties||[])}catch{Ve([])}},Ut=async()=>{try{const r=await S.get("/api/badges/created");Ee(r.data.badges||[])}catch{Ee([])}},Qe=async()=>{try{const r=await S.get("/api/user/transfer-history");r.data&&r.data.transfers&&Bt(r.data.transfers)}catch{}},qt=async()=>{try{const r=await S.get("/api/user/username-purchases");r.data&&r.data.purchases&&Wt(r.data.purchases)}catch{}};c.useCallback(r=>{if(I.current&&clearTimeout(I.current),!r)return T(i=>({...i,loading:!1,exists:!1,suggestions:[]})),void ie(i=>({...i,recipient_id:null}));I.current=setTimeout(()=>{T(i=>({...i,loading:!0})),S.get(`/api/user/search-recipients?query=${r}`).then(i=>{if(i.data&&i.data.users){const p=i.data.users.find(m=>m.username.toLowerCase()===r.toLowerCase());ie(p?m=>({...m,recipient_id:p.id}):m=>({...m,recipient_id:null})),T(m=>({...m,loading:!1,exists:!!p,suggestions:i.data.users.slice(0,3)}))}else T(p=>({...p,loading:!1,exists:!1,suggestions:[]})),ie(p=>({...p,recipient_id:null}))}).catch(i=>{T(p=>({...p,loading:!1,exists:!1,suggestions:[]})),ie(p=>({...p,recipient_id:null}))})},1e3)},[]);const U=r=>{const i=new Date(r),p=i.getTimezoneOffset();return new Date(i.getTime()-6e4*p).toLocaleString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZoneName:"short"})},Ke=(()=>{const r=new Date,i=r.getDay(),p=i===0?-6:1-i,m=new Date(r);m.setDate(r.getDate()+p),m.setHours(0,0,0,0);const z=new Date(m);return z.setDate(m.getDate()+6),z.setHours(23,50,0,0),{start:m.toLocaleDateString("ru-RU",{day:"numeric",month:"long"}),end:z.toLocaleDateString("ru-RU",{day:"numeric",month:"long"})}})(),et=async()=>{try{const r=await S.get("/api/user/subscription/status");r.data&&r.data.active&&r.data.subscription_type?fe({active:!0,type:r.data.subscription_type,expires_at:r.data.expiration_date,features:r.data.features||[]}):fe(null)}catch{fe(null)}},tt=()=>{Je(!1),Ze(null)},rt=r=>`${r<0?"-":"+"}${Math.abs(r)}`,Nt=async()=>{try{const r=await S.get("/api/user/transactions-history");r.data&&r.data.transactions&&Vt(r.data.transactions)}catch{}};c.useEffect(()=>{$t.loading&&T(r=>({...r,loading:!1}))},[L.username]),c.useEffect(()=>{!he&&I.current&&(clearTimeout(I.current),I.current=null)},[he]),c.useEffect(()=>()=>{I.current&&(clearTimeout(I.current),I.current=null)},[]);const Jt=dt.useMemo(()=>{const r=10*(ye-1);return de.slice(r,r+10)},[de,ye]),Zt=de.length>10*ye;return Le?e.jsx(o,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsx(Ce,{})}):e.jsxs(Qt,{maxWidth:"md",sx:{py:4,pb:12.5,paddingTop:2,[a.breakpoints.down("sm")]:{pl:1,pr:1}},children:[e.jsx(O,{styleVariant:"dark",sx:{"&::before":{bottom:0,transform:"rotate(-12deg)"},"&::after":{bottom:0,transform:"rotate(12deg)"}},title:e.jsxs(o,{sx:{textAlign:"center"},children:[e.jsx(Jr,{children:e.jsx(ur,{})}),e.jsx(s,{variant:"subtitle1",sx:{color:"rgba(255,255,255,0.8)",marginBottom:1},children:"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u0431\u0430\u043B\u0430\u043D\u0441"}),e.jsx(Yr,{children:h})]}),description:e.jsxs(Gr,{children:[e.jsxs(Fe,{onClick:()=>l("/badge-shop"),children:[e.jsx(Te,{children:e.jsx(wr,{})}),e.jsx($e,{children:"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u044C"})]}),e.jsxs(Fe,{onClick:()=>$(!0),children:[e.jsx(Te,{children:e.jsx(ct,{})}),e.jsx($e,{children:"\u041F\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u044C"})]}),e.jsxs(Fe,{onClick:()=>Xe(!0),children:[e.jsx(Te,{children:e.jsx(pt,{})}),e.jsx($e,{children:"\u041F\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438"})]})]})}),e.jsx(O,{styleVariant:"dark",description:e.jsxs(e.Fragment,{children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(vr,{sx:{mr:1,color:"rgba(255,255,255,0.7)"}}),e.jsxs(s,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:[Ke.start," \u2014 ",Ke.end]})]}),e.jsxs(s,{variant:"h4",sx:{fontWeight:"bold",color:"#4caf50",mb:2},children:["+",V," \u0431\u0430\u043B\u043B\u043E\u0432"]}),e.jsx(s,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)"},children:"\u042D\u0442\u043E \u043F\u0440\u043E\u0433\u043D\u043E\u0437 \u0431\u0430\u043B\u043B\u043E\u0432, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0432\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 \u0432 \u043A\u043E\u043D\u0446\u0435 \u043D\u0435\u0434\u0435\u043B\u0438 \u0437\u0430 \u0432\u0430\u0448\u0443 \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C. \u041E\u0431\u043D\u043E\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0440\u0430\u0437 \u0432 \u0447\u0430\u0441."})]})}),e.jsx(O,{styleVariant:"dark",title:e.jsxs(o,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",cursor:"pointer",marginBottom:0},onClick:()=>Et(!ve),children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(mr,{sx:{mr:1,color:"rgba(255,255,255,0.7)"}}),e.jsx(s,{variant:"h6",sx:{color:"white"},children:"\u041A\u0430\u043A \u043D\u0430\u0447\u0438\u0441\u043B\u044F\u044E\u0442\u0441\u044F \u0431\u0430\u043B\u043B\u044B?"}),e.jsx(ma,{expanded:ve,sx:{ml:1}})]}),e.jsx(o,{onClick:r=>r.stopPropagation(),children:e.jsx(Kt,{title:"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435 \u043E \u043D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u0438 \u0431\u0430\u043B\u043B\u043E\u0432",children:e.jsx(le,{size:"small",component:pr,to:"/leaderboard",sx:{color:"rgba(255,255,255,0.7)","&:hover":{color:"white",backgroundColor:"rgba(255,255,255,0.1)"}},children:e.jsx(hr,{})})})})]}),description:e.jsxs(xa,{expanded:ve,children:[e.jsx(s,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)",mt:2},children:"\u0411\u0430\u043B\u043B\u044B \u043D\u0430\u0447\u0438\u0441\u043B\u044F\u044E\u0442\u0441\u044F \u0437\u0430 \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C \u043D\u0430 \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0435:"}),e.jsxs(o,{component:"ul",sx:{color:"rgba(255,255,255,0.7)",mt:1,pl:2,"& li":{mb:1}},children:[e.jsx("li",{children:"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u043F\u043E\u0441\u0442\u043E\u0432 \u0438 \u0438\u0441\u0442\u043E\u0440\u0438\u0439"}),e.jsx("li",{children:"\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u043B\u0430\u0439\u043A\u043E\u0432 \u0438 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0435\u0432"}),e.jsx("li",{children:"\u041E\u0442\u0432\u0435\u0442\u044B \u043D\u0430 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438"}),e.jsx("li",{children:"\u0420\u0435\u043F\u043E\u0441\u0442\u044B \u0438 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440\u044B"}),e.jsx("li",{children:"\u0420\u0435\u0430\u043A\u0446\u0438\u0438 \u043D\u0430 \u0438\u0441\u0442\u043E\u0440\u0438\u0438"})]}),e.jsx(s,{variant:"body2",sx:{color:"rgba(255,255,255,0.7)",mt:2},children:"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0443\u044E \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044E \u043E \u0441\u0438\u0441\u0442\u0435\u043C\u0435 \u043D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u044F \u0431\u0430\u043B\u043B\u043E\u0432 \u043C\u043E\u0436\u043D\u043E \u043D\u0430\u0439\u0442\u0438 \u0432 \u0440\u0430\u0437\u0434\u0435\u043B\u0435 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430."})]})}),e.jsx(Tr,{value:ne,onChange:(r,i)=>{Tt(i)},variant:"fullWidth",fullWidth:!0,tabs:[{label:"\u0418\u0441\u0442\u043E\u0440\u0438\u044F",value:0,icon:Cr,iconPosition:"start"},{label:"\u0410\u043A\u0442\u0438\u0432\u044B",value:1,icon:Be,iconPosition:"start"},{label:"\u041F\u043E\u0434\u043F\u0438\u0441\u043A\u0430",value:2,icon:bt,iconPosition:"start"}]}),e.jsx(He,{value:ne,index:0,children:e.jsx(O,{styleVariant:"dark",description:null,sx:{pt:0,padding:"2.5px","&::before":{top:0,transform:"rotate(-12deg)",height:"90px"},"&::after":{top:0,transform:"rotate(12deg)",height:"90px"}},children:Le?e.jsx(o,{display:"flex",justifyContent:"center",my:4,children:e.jsx(Ce,{size:30})}):de.length===0?e.jsx(o,{sx:{textAlign:"center",py:3},children:e.jsx(s,{variant:"body2",color:"text.secondary",children:"\u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442 \u0438\u0441\u0442\u043E\u0440\u0438\u0438 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0439"})}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{sx:{width:"100%"},children:Jt.map((r,i)=>e.jsx(Ur,{onClick:()=>(p=>{Ze(p),Je(!0)})(r),children:e.jsxs(oa,{children:[e.jsx(sa,{transactionType:r.amount>0?"positive":"negative",children:r.type==="purchase"?e.jsx(Nr,{src:`/static/images/bages/shop/${r.badge.image_path}`,alt:r.badge.name}):r.icon}),e.jsxs(da,{children:[e.jsx(la,{children:r.title}),e.jsx(ca,{children:U(r.date)})]}),e.jsxs(o,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[e.jsxs(qr,{type:r.amount>0?"positive":"negative",children:[r.amount>0?"+":"",r.amount]}),e.jsx(s,{variant:"caption",sx:{mt:.5,fontWeight:500,opacity:.7},children:r.description&&r.description.length>18?r.description.slice(0,18)+"...":r.description})]})]})},`${r.type}-${r.id||i}`))}),Zt&&e.jsx(o,{display:"flex",justifyContent:"center",mt:2,mb:1,children:e.jsx(C,{variant:"outlined",onClick:()=>{At(r=>r+1)},endIcon:e.jsx(jr,{}),children:"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430"})})]})})}),e.jsx(ra,{open:Ot,onClose:tt,fullWidth:!0,maxWidth:"sm",fullScreen:g,children:n&&e.jsxs(e.Fragment,{children:[e.jsxs(aa,{type:n.amount>0?"income":"expense",children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[n.type==="transfer"&&n.sender_id===n.recipient_id&&n.message==="\u0412\u044B\u0432\u043E\u0434 \u0431\u0430\u043B\u043B\u043E\u0432 \u0438\u0437 \u043A\u043B\u0438\u043A\u0435\u0440\u0430"?e.jsx(xe,{sx:{mr:1,color:"success.main"}}):n.type==="transfer"&&n.is_sender?e.jsx(Br,{sx:{mr:1,color:"error.main"}}):n.type==="transfer"?e.jsx(Mr,{sx:{mr:1,color:"success.main"}}):n.type==="purchase"?e.jsx(ze,{sx:{mr:1,color:"error.main"}}):n.type==="username"?e.jsx(We,{sx:{mr:1,color:"info.main"}}):n.type==="weekly_activity"?e.jsx(De,{sx:{mr:1,color:"success.main"}}):n.type==="game"?e.jsx(pe,{sx:{mr:1,color:n.amount>0?"success.main":"error.main"}}):e.jsx(Be,{sx:{mr:1,color:"success.main"}}),e.jsx(s,{variant:"subtitle1",fontWeight:600,color:"text.primary",children:n.type==="transfer"?n.sender_id===n.recipient_id&&n.message==="\u0412\u044B\u0432\u043E\u0434 \u0431\u0430\u043B\u043B\u043E\u0432 \u0438\u0437 \u043A\u043B\u0438\u043A\u0435\u0440\u0430"?"\u0412\u044B\u0432\u043E\u0434 \u0438\u0437 \u043A\u043B\u0438\u043A\u0435\u0440\u0430":n.is_sender?"\u0418\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u043F\u0435\u0440\u0435\u0432\u043E\u0434":"\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u043F\u0435\u0440\u0435\u0432\u043E\u0434":n.type==="purchase"?"\u041F\u043E\u043A\u0443\u043F\u043A\u0430 \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u0430":n.type==="royalty"?"\u0420\u043E\u044F\u043B\u0442\u0438 \u043E\u0442 \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u0430":n.type==="weekly_activity"?"\u0415\u0436\u0435\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u043E\u0435 \u043D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u0435":n.type==="username"?"\u041F\u043E\u043A\u0443\u043F\u043A\u0430 \u044E\u0437\u0435\u0440\u043D\u0435\u0439\u043C\u0430":n.type==="game"?"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0432 \u043C\u0438\u043D\u0438-\u0438\u0433\u0440\u0435":"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F"})]}),e.jsx(ia,{label:"\u0412\u044B\u043F\u043E\u043B\u043D\u0435\u043D",status:"completed"})]}),e.jsx(na,{type:n.amount>0?"income":"expense",children:rt(n.amount)}),e.jsx(s,{variant:"caption",color:"text.secondary",children:U(n.date)})]}),e.jsxs(pa,{children:[e.jsxs(u,{children:[e.jsx(b,{children:"ID \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438"}),e.jsx(f,{children:(ke=n,`TR-${ke.id||new Date(ke.date).getTime().toString().slice(-8)}`)})]}),n.type==="transfer"&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx(b,{children:"\u0422\u0438\u043F"}),e.jsx(f,{children:n.sender_id===n.recipient_id&&n.message==="\u0412\u044B\u0432\u043E\u0434 \u0431\u0430\u043B\u043B\u043E\u0432 \u0438\u0437 \u043A\u043B\u0438\u043A\u0435\u0440\u0430"?"\u0412\u044B\u0432\u043E\u0434 \u0438\u0437 \u043A\u043B\u0438\u043A\u0435\u0440\u0430":n.is_sender?"\u0418\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u043F\u0435\u0440\u0435\u0432\u043E\u0434":"\u0412\u0445\u043E\u0434\u044F\u0449\u0438\u0439 \u043F\u0435\u0440\u0435\u0432\u043E\u0434"})]}),n.sender_id===n.recipient_id&&n.message==="\u0412\u044B\u0432\u043E\u0434 \u0431\u0430\u043B\u043B\u043E\u0432 \u0438\u0437 \u043A\u043B\u0438\u043A\u0435\u0440\u0430"?e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx(b,{children:"\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A"}),e.jsx(f,{children:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(xe,{sx:{fontSize:"1rem",mr:.5,color:"success.main"}}),e.jsx("span",{children:"\u041A\u043B\u0438\u043A\u0435\u0440"})]})})]}),e.jsxs(u,{children:[e.jsx(b,{children:"\u0422\u0438\u043F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438"}),e.jsx(f,{children:"\u0412\u044B\u0432\u043E\u0434 \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043D\u044B\u0445 \u0431\u0430\u043B\u043B\u043E\u0432"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx(b,{children:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u0435\u043B\u044C"}),e.jsx(f,{children:n.sender_username})]}),e.jsxs(u,{children:[e.jsx(b,{children:"\u041F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u044C"}),e.jsx(f,{children:n.recipient_username})]})]}),n.message&&e.jsxs(u,{children:[e.jsx(b,{children:"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435"}),e.jsx(f,{children:n.message})]})]}),n.type==="purchase"&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx(b,{children:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u0430"}),e.jsx(f,{children:n.badge.name})]}),n.badge.description&&e.jsxs(u,{children:[e.jsx(b,{children:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"}),e.jsx(f,{children:n.badge.description})]})]}),n.type==="royalty"&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx(b,{children:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u0430"}),e.jsx(f,{children:n.badge_name})]}),e.jsxs(u,{children:[e.jsx(b,{children:"\u041F\u043E\u043A\u0443\u043F\u0430\u0442\u0435\u043B\u044C"}),e.jsx(f,{children:n.buyer_name})]})]}),n.type==="username"&&e.jsxs(u,{children:[e.jsx(b,{children:"\u042E\u0437\u0435\u0440\u043D\u0435\u0439\u043C"}),e.jsxs(f,{children:["@",n.username]})]}),n.type==="weekly_activity"&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx(b,{children:"\u0422\u0438\u043F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438"}),e.jsx(f,{children:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(De,{sx:{fontSize:"1rem",mr:.5,color:"success.main"}}),e.jsx("span",{children:"\u0415\u0436\u0435\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u043E\u0435 \u043D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u0435"})]})})]}),e.jsxs(u,{children:[e.jsx(b,{children:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"}),e.jsx(f,{children:n.description})]}),e.jsxs(u,{children:[e.jsx(b,{children:"\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u044F"}),e.jsx(f,{children:U(n.date)})]})]}),n.type==="game"&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx(b,{children:"\u0422\u0438\u043F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0438"}),e.jsx(f,{children:n.description})]}),e.jsxs(u,{children:[e.jsx(b,{children:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"}),e.jsx(f,{children:n.title})]})]}),e.jsxs(u,{children:[e.jsx(b,{children:"\u0421\u0443\u043C\u043C\u0430"}),e.jsx(f,{sx:{color:n.amount>0?"success.main":"error.main",fontWeight:700},children:rt(n.amount)})]}),n.type==="transfer"&&e.jsx(C,{startIcon:e.jsx(yt,{}),variant:"outlined",onClick:()=>Rt(n),sx:{borderRadius:2},children:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C \u0447\u0435\u043A"}),n.type==="weekly_activity"&&e.jsx(o,{sx:{mt:2,p:2,bgcolor:"rgba(76, 175, 80, 0.1)",borderRadius:2},children:e.jsx(s,{variant:"body2",color:"success.main",children:"\u0411\u0430\u043B\u043B\u044B \u043D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u044B \u0437\u0430 \u0432\u0430\u0448\u0443 \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C \u043D\u0430 \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0435 \u0437\u0430 \u043F\u0440\u043E\u0448\u0435\u0434\u0448\u0443\u044E \u043D\u0435\u0434\u0435\u043B\u044E."})}),e.jsxs(o,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:[n.sender_id===n.recipient_id&&n.message==="\u0412\u044B\u0432\u043E\u0434 \u0431\u0430\u043B\u043B\u043E\u0432 \u0438\u0437 \u043A\u043B\u0438\u043A\u0435\u0440\u0430"&&e.jsx(C,{startIcon:e.jsx(xe,{}),variant:"outlined",color:"secondary",onClick:()=>Rt(n),sx:{ml:2,borderRadius:2},children:"\u0427\u0435\u043A \u0432\u044B\u043F\u043B\u0430\u0442\u044B"}),e.jsx(C,{onClick:tt,sx:{ml:2,borderRadius:2},children:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"})]})]})]})}),e.jsx(He,{value:ne,index:1,children:e.jsx(O,{styleVariant:"dark",description:null,sx:{pt:0,padding:"2.5px","&::before":{top:0,transform:"rotate(-12deg)",height:"90px"},"&::after":{top:0,transform:"rotate(12deg)",height:"90px"}},children:me.length>0||E.length>0?e.jsxs(ce,{sx:{width:"100%"},children:[me.map(r=>e.jsxs(er,{sx:{mb:2,borderRadius:"12px",overflow:"hidden","&:before":{display:"none"},boxShadow:"none",background:x(a.palette.background.paper,.4)},children:[e.jsx(tr,{expandIcon:e.jsx(lt,{}),sx:{borderRadius:"12px"},children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[e.jsx(q,{variant:"rounded",sx:{mr:2,bgcolor:"background.paper",p:.5},children:e.jsx(Zr,{src:`/static/images/bages/shop/${r.image_path}`,alt:r.name})}),e.jsxs(o,{sx:{flexGrow:1},children:[e.jsx(s,{variant:"subtitle1",children:r.name}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",mt:.5},children:[e.jsx(N,{size:"small",label:`${r.price} \u0431\u0430\u043B\u043B\u043E\u0432`,sx:{mr:1,fontSize:"0.7rem"}}),e.jsx(rr,{badgeContent:r.purchases.length,color:"primary",sx:{mr:1},children:e.jsx(gr,{fontSize:"small"})}),r.total_royalty_earned>0&&e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(P,{sx:{color:"success.main",fontSize:"1rem",mr:.5}}),e.jsxs(s,{variant:"caption",color:"success.main",fontWeight:"bold",children:["+",r.total_royalty_earned]})]})]})]})]})}),e.jsxs(ar,{children:[e.jsx(s,{variant:"body2",color:"text.secondary",paragraph:!0,children:r.description||"\u0411\u0435\u0437 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u044F"}),r.purchases.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(s,{variant:"subtitle2",gutterBottom:!0,children:["\u041F\u043E\u043A\u0443\u043F\u043A\u0438 (",r.purchases.length,")"]}),e.jsx(ce,{dense:!0,sx:{bgcolor:x(a.palette.background.paper,.3),borderRadius:2,mb:1},children:r.purchases.map(i=>e.jsxs(j,{children:[e.jsx(it,{children:e.jsx(q,{src:i.buyer.avatar_url,alt:i.buyer.name,sx:{width:32,height:32}})}),e.jsx(v,{primary:i.buyer.name,secondary:e.jsx(o,{component:"span",sx:{display:"flex",flexDirection:"column",mt:.5},children:e.jsxs(s,{variant:"caption",color:"text.secondary",children:["\u041F\u0440\u0438\u043E\u0431\u0440\u0435\u0442\u0435\u043D: ",U(i.date)]})})}),e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(P,{sx:{color:"success.main",fontSize:"1rem",mr:.5}}),e.jsxs(s,{variant:"caption",color:"success.main",fontWeight:"bold",children:["+",i.royalty_amount]})]})]},i.id))})]}):e.jsx(s,{variant:"body2",color:"text.secondary",children:"\u041F\u043E\u043A\u0430 \u043D\u0435\u0442 \u043F\u043E\u043A\u0443\u043F\u043E\u043A \u044D\u0442\u043E\u0433\u043E \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u0430"})]})]},r.id)),me.length>0&&E.length>0&&e.jsx(s,{variant:"subtitle1",sx:{px:2,py:1,color:"text.secondary",fontWeight:500},children:"@ \u042E\u0437\u0435\u0440\u043D\u0435\u0439\u043C\u044B"}),E.map(r=>e.jsxs(j,{sx:{borderRadius:"12px",mb:2,background:x(a.palette.background.paper,.4),padding:"12px 16px","&:hover":{background:x(a.palette.background.paper,.6)}},children:[e.jsx(it,{children:e.jsx(q,{sx:{bgcolor:r.is_active?"success.main":"action.disabled",width:40,height:40},children:e.jsx(br,{})})}),e.jsx(v,{primary:e.jsxs(o,{sx:{display:"flex",alignItems:"center"},children:[e.jsxs(s,{variant:"subtitle1",sx:{fontWeight:600},children:["@",r.username]}),r.is_active&&e.jsx(N,{size:"small",label:"\u0410\u043A\u0442\u0438\u0432\u043D\u044B\u0439",color:"success",sx:{ml:1,height:20,"& .MuiChip-label":{px:1,py:.2}}})]}),secondary:e.jsxs(o,{component:"span",sx:{display:"flex",flexDirection:"column",mt:.5},children:[e.jsxs(s,{variant:"caption",color:"text.secondary",children:["\u041F\u0440\u0438\u043E\u0431\u0440\u0435\u0442\u0435\u043D: ",U(r.purchase_date)]}),e.jsxs(s,{variant:"caption",color:"text.secondary",children:["\u0414\u043B\u0438\u043D\u0430: ",r.length," \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"]})]})}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",ml:1},children:[e.jsx(P,{sx:{color:"error.main",fontSize:"1rem",mr:.5}}),e.jsxs(s,{variant:"subtitle2",fontWeight:"bold",color:"error.main",children:["-",r.price_paid]})]})]},r.id))]}):e.jsxs(o,{sx:{textAlign:"center",py:5,px:3,bgcolor:x(a.palette.background.paper,.4),borderRadius:4},children:[e.jsx(Re,{sx:{fontSize:60,color:"primary.main",opacity:.7,mb:2}}),e.jsx(s,{variant:"h6",gutterBottom:!0,children:"\u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442 \u0430\u043A\u0442\u0438\u0432\u043E\u0432"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"\u0421\u043E\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u0438 \u0438\u043B\u0438 \u043F\u0440\u0438\u043E\u0431\u0440\u0435\u0442\u0430\u0439\u0442\u0435 \u0443\u043D\u0438\u043A\u0430\u043B\u044C\u043D\u044B\u0435 \u044E\u0437\u0435\u0440\u043D\u0435\u0439\u043C\u044B, \u0447\u0442\u043E\u0431\u044B \u043E\u043D\u0438 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u043B\u0438\u0441\u044C \u0437\u0434\u0435\u0441\u044C"}),e.jsx(C,{variant:"contained",color:"primary",onClick:()=>l("/username-auction"),startIcon:e.jsx(We,{}),sx:{mr:2,mb:{xs:2,sm:0}},children:"\u0410\u0443\u043A\u0446\u0438\u043E\u043D \u044E\u0437\u0435\u0440\u043D\u0435\u0439\u043C\u043E\u0432"}),e.jsx(C,{variant:"outlined",color:"primary",onClick:()=>l("/badge-shop"),startIcon:e.jsx(ze,{}),children:"\u041C\u0430\u0433\u0430\u0437\u0438\u043D \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u043E\u0432"})]})})}),e.jsx(He,{value:ne,index:2,children:e.jsx(O,{styleVariant:"dark",description:null,sx:{pt:0,padding:"2.5px"},children:_&&_.active?e.jsx(nr,{elevation:3,sx:{backgroundImage:"unset"},children:e.jsxs(ir,{children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Be,{sx:{mr:1,color:"primary.main"}}),e.jsx(s,{variant:"h6",fontWeight:"bold",children:"\u0410\u043A\u0442\u0438\u0432\u043D\u0430\u044F \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0430"})]}),e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(s,{variant:"body1",children:["\u0422\u0438\u043F: ",e.jsx(N,{label:_.type.charAt(0).toUpperCase()+_.type.slice(1),color:_.type==="premium"?"secondary":_.type==="ultimate"?"primary":"default",size:"small",sx:{fontWeight:"bold",ml:1}})]}),e.jsxs(s,{variant:"body2",children:["\u0418\u0441\u0442\u0435\u043A\u0430\u0435\u0442: ",new Date(_.expires_at).toLocaleDateString(),e.jsxs(s,{variant:"caption",color:"text.secondary",sx:{ml:1},children:["(\u043E\u0441\u0442\u0430\u043B\u043E\u0441\u044C ",Math.ceil((new Date(_.expires_at)-new Date)/864e5)," \u0434\u043D\u0435\u0439)"]})]}),e.jsxs(o,{sx:{mt:1},children:[e.jsx(s,{variant:"body2",fontWeight:"medium",children:"\u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0438:"}),e.jsxs(ce,{dense:!0,sx:{pl:2},children:[_.type==="basic"&&e.jsxs(e.Fragment,{children:[e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u0415\u0436\u0435\u043C\u0435\u0441\u044F\u0447\u043D\u043E\u0435 \u043F\u043E\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435  \u043D\u0430 1.000 \u0431\u0430\u043B\u043B\u043E\u0432"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u041E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0440\u0435\u043A\u043B\u0430\u043C\u044B"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0434\u043E 5 \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u043E\u0432"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u041F\u043E\u043A\u0443\u043F\u043A\u0430 \u0434\u043E 5 \u042E\u0437\u0435\u0440\u043D\u0435\u0439\u043C\u043E\u0432"})})]}),_.type==="premium"&&e.jsxs(e.Fragment,{children:[e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u0415\u0436\u0435\u043C\u0435\u0441\u044F\u0447\u043D\u043E\u0435 \u043F\u043E\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435  \u043D\u0430 5.000 \u0431\u0430\u043B\u043B\u043E\u0432"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438 \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u044B"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442\u043D\u0430\u044F \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0430"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0434\u043E 8 \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u043E\u0432"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u041F\u043E\u043A\u0443\u043F\u043A\u0430 \u0434\u043E 8 \u042E\u0437\u0435\u0440\u043D\u0435\u0439\u043C\u043E\u0432"})})]}),_.type==="ultimate"&&e.jsxs(e.Fragment,{children:[e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u0412\u0441\u0435 \u043F\u0440\u0435\u0438\u043C\u0443\u0449\u0435\u0441\u0442\u0432\u0430 Premium"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u0415\u0436\u0435\u043C\u0435\u0441\u044F\u0447\u043D\u043E\u0435 \u043F\u043E\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435  \u043D\u0430 10.000 \u0431\u0430\u043B\u043B\u043E\u0432"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0410\u043D\u0438\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u043E\u0432"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u0411\u0435\u0437\u043B\u0438\u043C\u0438\u0442\u043D\u043E\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0431\u0435\u0439\u0434\u0436\u0438\u043A\u043E\u0432"})}),e.jsx(j,{sx:{py:0},children:e.jsx(v,{primary:"\u041F\u043E\u043A\u0443\u043F\u043A\u0430 \u043D\u0435\u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u043D\u043E\u0433\u043E \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u042E\u0437\u0435\u0440\u043D\u0435\u0439\u043C\u043E\u0432"})})]})]})]})]})]})}):e.jsxs(o,{sx:{textAlign:"center",py:5,px:3,bgcolor:x(a.palette.background.paper,.4),borderRadius:4},children:[e.jsx(bt,{sx:{fontSize:60,color:"primary.main",opacity:.7,mb:2}}),e.jsx(s,{variant:"h6",gutterBottom:!0,children:"\u0423 \u0432\u0430\u0441 \u043D\u0435\u0442 \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0439 \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0438"}),e.jsx(s,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"\u0410\u043A\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u043C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044F\u043C \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u044B"}),e.jsx(C,{variant:"contained",color:"primary",onClick:()=>$(!0),startIcon:e.jsx(ct,{}),children:"\u0410\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u043B\u044E\u0447"})]})})}),e.jsxs(_t,{open:Ht,onClose:()=>{M||($(!1),se(""),H(""),Y(null),Ne(0))},fullWidth:!0,children:[e.jsxs(Ct,{children:[e.jsx(St,{}),e.jsxs(It,{children:[e.jsx(P,{color:"primary",sx:{mr:1.5,fontSize:24}}),e.jsx(s,{variant:"h6",fontWeight:"bold",color:"primary.light",children:"\u041F\u043E\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435 \u0431\u0430\u043B\u0430\u043D\u0441\u0430"})]}),!M&&e.jsx(le,{"aria-label":"close",onClick:()=>$(!1),sx:{position:"absolute",right:8,top:8},children:e.jsx(Me,{})})]}),e.jsxs(Se,{sx:{p:3,pt:2.5,bgcolor:"transparent"},children:[e.jsxs(at,{value:ue,onChange:(r,i)=>Ne(i),sx:{mb:3},children:[e.jsx(_e,{label:"\u0423 \u043C\u0435\u043D\u044F \u0435\u0441\u0442\u044C \u043A\u043B\u044E\u0447"}),e.jsx(_e,{label:"\u0414\u043E\u043D\u0430\u0442"})]}),ue!==0||w?ue===1?e.jsxs(Dt,{children:[e.jsx(s,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"\u041F\u043E\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435 \u0441 \u043F\u043E\u043C\u043E\u0449\u044C\u044E \u0434\u043E\u043D\u0430\u0442\u0430"}),e.jsx(s,{variant:"body2",paragraph:!0,children:"\u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u044C \u0431\u0430\u043B\u0430\u043D\u0441 \u0440\u0443\u0431\u043B\u044F\u043C\u0438 \u0447\u0435\u0440\u0435\u0437 Boosty."}),e.jsx(s,{variant:"body2",sx:{fontWeight:"bold",mb:2},children:"1 \u0440\u0443\u0431\u043B\u044C = 5 \u0431\u0430\u043B\u043B\u043E\u0432"}),e.jsx(C,{variant:"contained",color:"primary",startIcon:e.jsx(P,{}),fullWidth:!0,onClick:()=>window.open("https://boosty.to/qsoul","_blank"),children:"\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u043F\u043E\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044E"})]}):e.jsx(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:4,position:"relative",overflow:"hidden"},children:e.jsxs(o,{sx:{animation:"pop-in 0.5s cubic-bezier(0.19, 1, 0.22, 1) forwards","@keyframes pop-in":{"0%":{transform:"scale(0)",opacity:0},"80%":{transform:"scale(1.1)",opacity:1},"100%":{transform:"scale(1)",opacity:1}},display:"flex",flexDirection:"column",alignItems:"center",zIndex:2},children:[e.jsx(Ie,{color:"success",sx:{fontSize:80,mb:2}}),e.jsx(s,{variant:"h6",gutterBottom:!0,align:"center",children:"\u041A\u043B\u044E\u0447 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D!"}),e.jsx(s,{variant:"body1",align:"center",children:w.message}),w.type==="points"?e.jsxs(o,{sx:{mt:3,p:2,borderRadius:2,bgcolor:"background.paper",boxShadow:1,width:"100%",maxWidth:250,animation:"fade-in 1s ease-in-out forwards","@keyframes fade-in":{from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}}},children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,align:"center",children:"\u041D\u043E\u0432\u044B\u0439 \u0431\u0430\u043B\u0430\u043D\u0441:"}),e.jsxs(s,{variant:"h6",color:"primary",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(Re,{sx:{mr:1}}),w.newBalance," \u0431\u0430\u043B\u043B\u043E\u0432"]})]}):e.jsxs(o,{sx:{mt:3,p:2,borderRadius:2,bgcolor:"background.paper",boxShadow:1,width:"100%",maxWidth:300,animation:"fade-in 1s ease-in-out forwards","@keyframes fade-in":{from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}}},children:[e.jsx(s,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,align:"center",children:"\u0410\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0430:"}),e.jsx(o,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:e.jsx(N,{label:w.subscriptionType==="basic"?"\u0411\u0430\u0437\u043E\u0432\u0430\u044F":w.subscriptionType==="premium"?"\u041F\u0440\u0435\u043C\u0438\u0443\u043C":w.subscriptionType==="ultimate"?"\u0423\u043B\u044C\u0442\u0438\u043C\u0435\u0439\u0442":w.subscriptionType,color:"secondary",sx:{fontSize:"1rem",py:2,px:1}})}),e.jsxs(s,{variant:"body2",color:"text.secondary",align:"center",children:["\u0421\u0440\u043E\u043A \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F \u0434\u043E: ",w.expiresAt?new Date(w.expiresAt).toLocaleDateString():"\u0411\u0435\u0441\u0441\u0440\u043E\u0447\u043D\u043E"]}),e.jsxs(s,{variant:"body2",color:"text.secondary",align:"center",sx:{mt:1},children:["\u0414\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C: ",w.duration_days," \u0434\u043D\u0435\u0439"]})]})]})}):e.jsxs(Dt,{children:[e.jsx(s,{variant:"body1",gutterBottom:!0,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447 \u0430\u043A\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0434\u043B\u044F \u043F\u043E\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F \u0431\u0430\u043B\u0430\u043D\u0441\u0430:"}),e.jsx(Kr,{fullWidth:!0,label:"\u041A\u043B\u044E\u0447 \u0430\u043A\u0442\u0438\u0432\u0430\u0446\u0438\u0438",variant:"outlined",placeholder:"XXXX-XXXX-XXXX-XXXX",value:X,onChange:r=>{const i=(p=>{const m=p.replace(/[^A-Za-z0-9]/g,"").toUpperCase();let z="";for(let F=0;F<m.length;F++)F>0&&F%4==0&&F<16&&(z+="-"),F<16&&(z+=m[F]);return z})(r.target.value);se(i),H("")},error:!!qe,helperText:qe,disabled:M,sx:{mt:2,mb:2},InputProps:{endAdornment:X&&e.jsx(sr,{position:"end",children:e.jsx(le,{onClick:()=>se(""),edge:"end",children:e.jsx(Me,{fontSize:"small"})})})}}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"\u041A\u043B\u044E\u0447 \u0430\u043A\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043C\u043E\u0436\u043D\u043E \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0432 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0435 \u043F\u043E\u043A\u0443\u043F\u043A\u0438 \u043D\u0430 \u043D\u0430\u0448\u0435\u043C \u0441\u0430\u0439\u0442\u0435 \u0438\u043B\u0438 \u043E\u0442 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u0430."})]})]}),e.jsx(zt,{children:w?e.jsx(Pe,{onClick:()=>{$(!1),Y(null),se("")},sx:{mx:"auto"},children:"\u0413\u043E\u0442\u043E\u0432\u043E"}):e.jsxs(e.Fragment,{children:[e.jsx(Qr,{onClick:()=>$(!1),variant:"outlined",disabled:M,children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e.jsx(Pe,{onClick:async()=>{H(""),Y(null),ge(!0);try{const r=await fetch("/api/user/redeem-key",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:X})}),i=await r.json();if(!r.ok)return i.error&&i.error.includes("\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0443")&&i.error.includes("\u0442\u0430\u043A \u043A\u0430\u043A \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044C \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0430 \u0431\u043E\u043B\u0435\u0435 \u0432\u044B\u0441\u043E\u043A\u043E\u0433\u043E \u0443\u0440\u043E\u0432\u043D\u044F")?H(i.error):H(i.error||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0430\u043A\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043A\u043B\u044E\u0447\u0430"),void ge(!1);i.type==="points"?(Y({message:i.message,type:"points",newBalance:i.new_balance}),y(i.new_balance)):i.type==="subscription"&&(Y({message:i.message,type:"subscription",subscriptionType:i.subscription_type,expiresAt:i.expires_at,duration_days:i.duration_days}),et())}catch{H("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0430\u043A\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043A\u043B\u044E\u0447\u0430")}finally{ge(!1)}},disabled:!X||M||X.length<19,startIcon:M?e.jsx(Ce,{size:16,color:"inherit"}):null,children:M?"\u0410\u043A\u0442\u0438\u0432\u0430\u0446\u0438\u044F...":"\u0410\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u043B\u044E\u0447"})]})})]}),e.jsxs(_t,{open:Pt,onClose:()=>be(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxs(Ct,{children:[e.jsx(St,{}),e.jsxs(It,{children:[e.jsx(Ie,{color:"success",sx:{mr:1.5,fontSize:24}}),e.jsx(s,{variant:"h6",fontWeight:"bold",color:"success.main",children:"\u041F\u0435\u0440\u0435\u0432\u043E\u0434 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D \u0443\u0441\u043F\u0435\u0448\u043D\u043E"})]}),e.jsx(le,{"aria-label":"close",onClick:()=>be(!1),sx:{position:"absolute",right:8,top:8},children:e.jsx(Me,{})})]}),e.jsx(Se,{sx:{p:3,pt:2.5,bgcolor:"transparent"},children:e.jsxs(o,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:2,textAlign:"center"},children:[e.jsx(ta,{children:e.jsx(Ie,{color:"success",sx:{fontSize:50}})}),e.jsx(s,{variant:"h5",gutterBottom:!0,children:"\u0421\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043F\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043D\u044B"}),e.jsxs(s,{variant:"body1",color:"text.secondary",paragraph:!0,children:["\u0412\u044B \u043F\u0435\u0440\u0435\u0432\u0435\u043B\u0438 ",e.jsxs("strong",{children:[L.amount," \u0431\u0430\u043B\u043B\u043E\u0432"]})," \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044E ",e.jsx("strong",{children:L.username})]}),L.message&&e.jsxs(s,{variant:"body2",paragraph:!0,sx:{fontStyle:"italic",mt:1},children:['"',L.message,'"']}),e.jsx(or,{sx:{my:2,width:"100%"}}),e.jsx(s,{variant:"subtitle2",sx:{mb:2},children:"\u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u043A\u0430\u0447\u0430\u0442\u044C \u0441\u043F\u0440\u0430\u0432\u043A\u0443 \u043E \u043F\u0435\u0440\u0435\u0432\u043E\u0434\u0435 \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 PDF"}),e.jsx(ea,{onClick:()=>{if(oe)try{vt(oe.dataUrl,`TR-${Date.now().toString().slice(-8)}`,oe.filePath)}catch{Ue({open:!0,message:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0442\u043A\u0440\u044B\u0442\u044C PDF. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.",severity:"error"})}},startIcon:e.jsx(yt,{}),endIcon:e.jsx(zr,{}),disabled:!oe,children:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0441\u043F\u0440\u0430\u0432\u043A\u0443"})]})}),e.jsx(zt,{children:e.jsx(Pe,{onClick:()=>be(!1),sx:{mx:"auto"},children:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"})})]}),e.jsx(dr,{open:Ye.open,autoHideDuration:6e3,onClose:()=>{Ue(r=>({...r,open:!1}))},message:Ye.message}),e.jsx(fr,{open:he,onClose:()=>Xe(!1),userPoints:h,onSuccess:r=>{Ge(),Qe()}})]});var ke};export{ha as default};
