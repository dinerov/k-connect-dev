import{j as e,D as ss,E as rs,T as o,w as R,ak as kr,H as wr,A as ut,G as k,i,l as ee,ar as Qe,J as Cr,o as ie,aG as Sr,P as Ee,O as Ze,Q as yt,a7 as D,k as de,aH as _r,U as M,ap as as,aI as is,aJ as zr,m as et,au as Pr,av as Wr,aw as Tr,a8 as O,aK as Ir,am as $r,q as Rr,aL as Fr,r as Er,a as Br,b as ns,g as tt,s as f,d as xe,aM as os,al as ze,aN as ft,a0 as Pe,a4 as be,p as st,aO as je,aP as ls,aQ as rt,aR as cs,ao as at,aS as ds,aT as xs,aU as ps,C as Be,a3 as ms,aV as hs,K as Dr,e as bt,aW as Mr,a6 as gs,aX as us,aY as ys,aZ as Ar,af as Or,a_ as fs,a$ as Lr,b0 as Yr,h as Nr,an as Gr,B as Ur}from"./vendor-mui.08p3AH88.js";import{r as a,a as bs,e as Xr,h as Jr,u as Hr,d as Kr}from"./vendor-router.BRqU_Zs2.js";import{r as qr,T as js,u as Vr,S as jt}from"./index.CdVNWeFt.js";import{F as Qr,f as Zr}from"./MobilePlayer.Dn8-ai5r.js";import{a as ne}from"./vendor.CL98q8z6.js";import{a as pe}from"./imageUtils.BkCfy0de.js";import{b as ea,c as vs,d as ta}from"./TransferMenu.2g5UFehs.js";import{C as sa}from"./Close.BG2YHWMj.js";import{g as ra}from"./vendor-react.DF-_cTkv.js";import{E as ks}from"./Edit.6-hI7nty.js";import{A as aa}from"./Add.BKfOzMjp.js";import{V as ws}from"./Visibility.Bq_lujd_.js";import{V as Cs}from"./VisibilityOff.qSdmZWpe.js";import{P as Ss}from"./Person.B_G_dVGx.js";import"./KeyboardArrowDown.Cwa-wUfu.js";import"./MusicNote.D4Jp3FIY.js";import"./QueueMusic.Dom8AGTx.js";import"./PlayArrow.GqmCGL4o.js";import"./thumbnails.CEJMDkxh.js";import"./History.BL_2VNvs.js";import"./dateUtils.JaLtthGQ.js";import"./Delete.C47j6PO2.js";import"./Save.D4JlNQm5.js";import"./MoreVert.C0-1U5Ci.js";import"./Send.DjUSpM3V.js";const ia=["\u0440\u044D\u043F","\u0431\u043E\u0434\u0440\u043E\u0435","\u0433\u0440\u0443\u0441\u0442\u043D\u043E\u0435","\u0432\u0435\u0441\u0451\u043B\u043E\u0435","\u0441\u043F\u043E\u043A\u043E\u0439\u043D\u043E\u0435","\u043F\u043E\u043F","\u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u0438\u043A\u0430"],na=s=>{if(s===0)return"0 Bytes";const p=Math.floor(Math.log(s)/Math.log(1024));return parseFloat((s/Math.pow(1024,p)).toFixed(2))+" "+["Bytes","KB","MB","GB"][p]},oa=({open:s,onClose:p,onSuccess:d})=>{const[C,X]=a.useState([]),[I,w]=a.useState(0),[P,ve]=a.useState(!1),[F,J]=a.useState(!1),[te,S]=a.useState(""),[W,H]=a.useState(!1),[K,B]=a.useState(0);a.useEffect(()=>{s||ke()},[s]);const ke=()=>{X([]),w(0),S(""),H(!1),B(0)},wt=()=>({file:null,coverFile:null,coverPreview:"",title:"",artist:"",album:"",genre:"",description:"",duration:0,metadata:{fileFormat:"",sampleRate:0,bitDepth:0,channels:0,fileSize:0}}),Te=async c=>{const x=Array.from(c.target.files);if(!x.length)return;const y=x.slice(0,10);x.length>10?S("\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0442\u0440\u0435\u043A\u043E\u0432 \u0434\u043B\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438: 10. \u041F\u0435\u0440\u0432\u044B\u0435 10 \u0444\u0430\u0439\u043B\u043E\u0432 \u0431\u044B\u043B\u0438 \u0432\u044B\u0431\u0440\u0430\u043D\u044B."):S(""),J(!0);const _=[];for(const v of y){if(!v.type.startsWith("audio/"))continue;const u=wt();u.file=v;try{const T=await Ct(v);if(T){if(u.title=T.title||"",u.artist=T.artist||"",u.album=T.album||"",u.genre=T.genre||"",u.duration=T.duration||0,u.metadata={fileFormat:T.file_format||"",sampleRate:T.sample_rate||0,bitDepth:T.bit_depth||0,channels:T.channels||0,fileSize:T.file_size||0},T.cover_data){u.coverPreview=T.cover_data;try{const me=await fetch(T.cover_data),N=await me.blob(),re=new File([N],"cover."+(T.cover_mime?T.cover_mime.split("/")[1]:"jpg"),{type:T.cover_mime||"image/jpeg"});u.coverFile=re}catch{}}}else{const me=v.name.replace(/\.[^/.]+$/,"");if(me.includes(" - ")){const N=me.split(" - ");u.artist=N[0].trim(),u.title=N[1].trim()}else u.title=me;try{const N=URL.createObjectURL(v),re=new Audio;await new Promise(Ie=>{re.onloadedmetadata=()=>{u.duration=Math.round(re.duration),URL.revokeObjectURL(N),Ie()},re.onerror=()=>{URL.revokeObjectURL(N),Ie()},re.src=N})}catch{}}}catch{}_.push(u)}_.length>0&&(X(_),w(0)),J(!1)},Ct=async c=>{const x=new FormData;x.append("file",c);try{const y=await ne.post("/api/music/metadata",x,{headers:{"Content-Type":"multipart/form-data"}});if(y.data.success)return y.data.metadata}catch{}return null},Me=c=>{const x=c.target.files[0];if(!x)return;if(!x.type.startsWith("image/"))return void S("\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0434\u043B\u044F \u043E\u0431\u043B\u043E\u0436\u043A\u0438");const y=[...C];y[I].coverFile=x,y[I].coverPreview=URL.createObjectURL(x),X(y),S("")},se=(c,x)=>{const y=[...C];y[I][c]=x,X(y)};return e.jsxs(ss,{open:s,onClose:P?null:p,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"70vh","@media (max-width: 600px)":{width:"100%",maxWidth:"100%",margin:0,borderRadius:0}}},children:[e.jsxs(rs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(o,{variant:"h6",children:C.length>0?`\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0442\u0440\u0435\u043A\u043E\u0432 (${C.length})`:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0442\u0440\u0435\u043A\u043E\u0432"}),!P&&e.jsx(R,{onClick:p,size:"small",children:e.jsx(kr,{})})]}),e.jsxs(wr,{sx:{pb:1},children:[te&&e.jsx(ut,{severity:"error",sx:{mb:2},children:te}),W&&e.jsx(ut,{severity:"success",sx:{mb:2},children:C.length>1?`${C.length} \u0442\u0440\u0435\u043A\u043E\u0432 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043E!`:"\u0422\u0440\u0435\u043A \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D!"}),C.length===0?e.jsxs(i,{sx:{textAlign:"center",py:2},children:[e.jsxs(ee,{variant:"outlined",component:"label",htmlFor:"audio-upload-multi",startIcon:e.jsx(Qe,{}),sx:{mb:2},disabled:F,children:["\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0442\u0440\u0435\u043A\u0438 (\u0434\u043E 10)",e.jsx("input",{id:"audio-upload-multi",type:"file",accept:"audio/*",multiple:!0,hidden:!0,onChange:Te,disabled:F})]}),F&&e.jsxs(i,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2},children:[e.jsx(ie,{size:24}),e.jsx(o,{variant:"body2",sx:{ml:2},children:"\u0418\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u0435 \u043C\u0435\u0442\u0430\u0434\u0430\u043D\u043D\u044B\u0445..."})]})]}):e.jsxs(k,{container:!0,spacing:2,children:[e.jsxs(k,{item:!0,xs:12,md:3,children:[e.jsx(Ee,{variant:"outlined",sx:{height:"100%",overflow:"auto"},children:e.jsx(Ze,{dense:!0,sx:{p:0},children:C.map((c,x)=>e.jsxs(yt,{selected:x===I,button:!0,onClick:()=>w(x),sx:{borderLeft:x===I?"3px solid":"3px solid transparent",borderLeftColor:"primary.main","&:hover":{bgcolor:"action.hover"}},children:[e.jsx(D,{children:c.coverPreview?e.jsx(de,{variant:"rounded",src:c.coverPreview}):e.jsx(de,{variant:"rounded",children:e.jsx(_r,{})})}),e.jsx(M,{primary:c.title||"\u0411\u0435\u0437 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F",secondary:c.artist||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C",primaryTypographyProps:{noWrap:!0},secondaryTypographyProps:{noWrap:!0}}),e.jsx(as,{children:e.jsx(R,{edge:"end",size:"small",onClick:y=>{y.stopPropagation(),(_=>{const v=[...C];v.splice(_,1),X(v),I>=v.length&&w(Math.max(0,v.length-1))})(x)},children:e.jsx(is,{fontSize:"small"})})})]},x))})}),e.jsx(i,{sx:{mt:2,textAlign:"center"},children:e.jsxs(ee,{variant:"outlined",component:"label",htmlFor:"audio-upload-multi-add",startIcon:e.jsx(Qe,{}),fullWidth:!0,size:"small",disabled:P||F||C.length>=10,children:["\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0435\u0449\u0435",e.jsx("input",{id:"audio-upload-multi-add",type:"file",accept:"audio/*",multiple:!0,hidden:!0,onChange:Te,disabled:P||F||C.length>=10})]})})]}),e.jsx(k,{item:!0,xs:12,md:9,children:(()=>{if(!C.length||I<0||I>=C.length)return e.jsxs(i,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",p:3},children:[e.jsx(zr,{sx:{fontSize:60,color:"text.secondary",mb:2}}),e.jsx(o,{variant:"body1",color:"text.secondary",textAlign:"center",children:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043C\u0443\u0437\u044B\u043A\u0430\u043B\u044C\u043D\u044B\u0435 \u0444\u0430\u0439\u043B\u044B \u0434\u043B\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438"}),e.jsx(o,{variant:"body2",color:"text.secondary",textAlign:"center",sx:{mt:1},children:"\u041F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044E\u0442\u0441\u044F \u0444\u043E\u0440\u043C\u0430\u0442\u044B MP3, FLAC, WAV, OGG \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0430\u0443\u0434\u0438\u043E \u0444\u043E\u0440\u043C\u0430\u0442\u044B"})]});const c=C[I];return e.jsxs(k,{container:!0,spacing:2,children:[e.jsx(k,{item:!0,xs:12,children:e.jsx(et,{label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0442\u0440\u0435\u043A\u0430",fullWidth:!0,required:!0,value:c.title,onChange:x=>se("title",x.target.value),disabled:P})}),e.jsx(k,{item:!0,xs:12,sm:6,children:e.jsx(et,{label:"\u0418\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C",fullWidth:!0,required:!0,value:c.artist,onChange:x=>se("artist",x.target.value),disabled:P})}),e.jsx(k,{item:!0,xs:12,sm:6,children:e.jsx(et,{label:"\u0410\u043B\u044C\u0431\u043E\u043C",fullWidth:!0,value:c.album,onChange:x=>se("album",x.target.value),disabled:P})}),e.jsx(k,{item:!0,xs:12,children:e.jsxs(Pr,{fullWidth:!0,children:[e.jsx(Wr,{id:"genre-label",children:"\u0416\u0430\u043D\u0440"}),e.jsxs(Tr,{labelId:"genre-label",value:c.genre,label:"\u0416\u0430\u043D\u0440",onChange:x=>se("genre",x.target.value),disabled:P,children:[e.jsx(O,{value:"",children:e.jsx("em",{children:"\u041D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043E"})}),ia.map(x=>e.jsx(O,{value:x,children:x},x))]})]})}),e.jsx(k,{item:!0,xs:12,children:e.jsx(et,{label:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",fullWidth:!0,multiline:!0,rows:3,value:c.description,onChange:x=>se("description",x.target.value),disabled:P})}),e.jsxs(k,{item:!0,xs:12,md:6,children:[e.jsx(o,{variant:"subtitle2",gutterBottom:!0,children:"\u041E\u0431\u043B\u043E\u0436\u043A\u0430"}),e.jsxs(i,{sx:{border:"1px dashed",borderColor:"divider",borderRadius:1,p:2,textAlign:"center",mb:1,height:150,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",cursor:"pointer",position:"relative",backgroundImage:c.coverPreview?`url(${c.coverPreview})`:"none",backgroundSize:"cover",backgroundPosition:"center","&:hover":{borderColor:"primary.main",bgcolor:c.coverPreview?"unset":"rgba(208, 188, 255, 0.04)"}},component:"label",htmlFor:`cover-upload-${I}`,children:[!c.coverPreview&&e.jsxs(e.Fragment,{children:[e.jsx(Ir,{sx:{fontSize:40,color:"text.secondary",mb:1}}),e.jsx(o,{variant:"body2",color:"text.secondary",children:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0434\u043B\u044F \u043E\u0431\u043B\u043E\u0436\u043A\u0438"})]}),e.jsx("input",{id:`cover-upload-${I}`,type:"file",accept:"image/*",hidden:!0,onChange:Me,disabled:P})]})]}),e.jsx(k,{item:!0,xs:12,md:6,children:e.jsxs(i,{sx:{p:1.5,border:"1px solid",borderColor:"divider",borderRadius:1,height:"100%"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[e.jsx($r,{sx:{color:"primary.main",mr:1}}),e.jsx(o,{variant:"body2",fontWeight:"medium",children:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u0442\u0440\u0435\u043A\u0435"})]}),e.jsxs(k,{container:!0,spacing:1,children:[e.jsx(k,{item:!0,xs:12,children:e.jsxs(o,{variant:"body2",children:["\u0414\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C: ",Math.floor(c.duration/60),":",String(c.duration%60).padStart(2,"0")]})}),c.file&&e.jsxs(e.Fragment,{children:[e.jsx(k,{item:!0,xs:12,children:e.jsxs(o,{variant:"caption",color:"text.secondary",children:["\u0424\u0430\u0439\u043B: ",c.file.name]})}),c.metadata.fileFormat&&e.jsx(k,{item:!0,xs:12,sm:6,children:e.jsxs(o,{variant:"caption",color:"text.secondary",children:["\u0424\u043E\u0440\u043C\u0430\u0442: ",c.metadata.fileFormat]})}),c.metadata.fileSize>0&&e.jsx(k,{item:!0,xs:12,sm:6,children:e.jsxs(o,{variant:"caption",color:"text.secondary",children:["\u0420\u0430\u0437\u043C\u0435\u0440: ",na(c.metadata.fileSize)]})}),c.metadata.sampleRate>0&&e.jsx(k,{item:!0,xs:12,sm:6,children:e.jsxs(o,{variant:"caption",color:"text.secondary",children:["\u0427\u0430\u0441\u0442\u043E\u0442\u0430: ",c.metadata.sampleRate," \u0413\u0446"]})}),c.metadata.bitDepth>0&&e.jsx(k,{item:!0,xs:12,sm:6,children:e.jsxs(o,{variant:"caption",color:"text.secondary",children:["\u0411\u0438\u0442: ",c.metadata.bitDepth," \u0431\u0438\u0442"]})}),c.metadata.channels>0&&e.jsx(k,{item:!0,xs:12,sm:6,children:e.jsxs(o,{variant:"caption",color:"text.secondary",children:["\u041A\u0430\u043D\u0430\u043B\u044B: ",c.metadata.channels]})})]})]}),c.metadata.fileFormat&&e.jsx(i,{sx:{mt:1},children:e.jsx(Rr,{size:"small",label:c.metadata.fileFormat,color:"primary",variant:"outlined",icon:e.jsx(Fr,{fontSize:"small"})})})]})})]})})()})]})]}),e.jsxs(Cr,{sx:{p:2,pt:0},children:[e.jsx(ee,{onClick:p,disabled:P,color:"inherit",children:"\u041E\u0442\u043C\u0435\u043D\u0430"}),e.jsx(ee,{onClick:async()=>{const c=C.findIndex(x=>!(x.file&&x.title&&x.artist&&x.coverFile));if(c!==-1)return w(c),void S("\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u0441\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043F\u043E\u043B\u044F \u0434\u043B\u044F \u0432\u0441\u0435\u0445 \u0442\u0440\u0435\u043A\u043E\u0432 (\u0444\u0430\u0439\u043B, \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435, \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C, \u043E\u0431\u043B\u043E\u0436\u043A\u0430)");ve(!0),S(""),H(!1),B(0);try{const x=new FormData;C.forEach((v,u)=>{x.append(`file[${u}]`,v.file),x.append(`cover[${u}]`,v.coverFile),x.append(`title[${u}]`,v.title),x.append(`artist[${u}]`,v.artist),x.append(`album[${u}]`,v.album||""),x.append(`genre[${u}]`,v.genre||""),x.append(`description[${u}]`,v.description||""),x.append(`duration[${u}]`,v.duration||0)});const y=v=>{const u=Math.round(100*v.loaded/v.total);B(u)},_=await ne.post("/api/music/upload",x,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:y});if(_.data.success){const v=_.data.tracks||[_.data.track];H(!0),_.data.errors&&_.data.errors.length>0&&S("\u041D\u0435\u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0442\u0440\u0435\u043A\u0438 \u043D\u0435 \u0431\u044B\u043B\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B: "+_.data.errors.join(", ")),setTimeout(()=>{d&&d(v),p()},1500)}else S(_.data.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0442\u0440\u0435\u043A\u043E\u0432")}catch(x){S(x.response?.data?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0442\u0440\u0435\u043A\u043E\u0432")}finally{ve(!1),B(100)}},variant:"contained",disabled:P||C.length===0,startIcon:P?e.jsx(ie,{size:20}):e.jsx(Sr,{}),children:P?e.jsxs(e.Fragment,{children:["\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430... ",K,"%"]}):C.length>1?`\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C ${C.length} \u0442\u0440\u0435\u043A\u043E\u0432`:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0442\u0440\u0435\u043A"})]})]})};var _s,De={};function la(){if(_s)return De;_s=1;var s=Er();Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var p=s(qr()),d=Br();return De.default=(0,p.default)((0,d.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"PlayCircleOutline"),De}const vt=ra(la()),ca=f(ss)(({theme:s})=>({"&&":{"& .MuiDialog-paper":{[s.breakpoints.down("sm")]:{borderRadius:"0 !important",maxWidth:"100% !important",maxHeight:"100% !important",width:"100% !important",height:"100% !important",margin:"0 !important"},[s.breakpoints.up("sm")]:{borderRadius:`${s.spacing(2)}px !important`,maxWidth:"800px !important",maxHeight:"80vh !important",width:"800px !important",height:"80vh !important",margin:"40px auto !important"},backgroundColor:s.palette.mode==="light"?s.palette.background.paper:s.palette.mode==="contrast"?"#101010":"#121212",backgroundImage:"none !important",overflow:"hidden !important"}}})),da=f(rs)(({theme:s})=>({display:"flex",alignItems:"center",justifyContent:"space-between",padding:s.spacing(2,3),borderBottom:`1px solid ${s.palette.divider}`,backgroundColor:s.palette.mode==="light"?s.palette.background.paper:s.palette.mode==="contrast"?"#101010":"#1A1A1A",color:s.palette.mode==="light"?s.palette.text.primary:"#fff"})),xa=f(i)(({theme:s})=>({width:"100%",aspectRatio:"1/1",borderRadius:s.spacing(2),overflow:"hidden",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"})),pa=f(yt)(({theme:s,isPlaying:p})=>({borderRadius:s.spacing(1),marginBottom:s.spacing(.5),padding:s.spacing(1,1.5),backgroundColor:p?xe(s.palette.primary.main,s.palette.mode==="light"?.15:.25):"transparent","&:hover":{backgroundColor:p?xe(s.palette.primary.main,s.palette.mode==="light"?.2:.3):s.palette.mode==="light"?xe(s.palette.grey[300],.3):xe(s.palette.common.white,.05)}})),ma=f(de)(({theme:s})=>({width:36,height:36,borderRadius:s.spacing(1)})),ha=f(i)(({theme:s})=>({overflow:"auto",height:"100%",padding:s.spacing(0,0,0,0),"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{backgroundColor:s.palette.mode==="light"?xe(s.palette.grey[300],.3):xe(s.palette.common.white,.05),borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{backgroundColor:s.palette.mode==="light"?xe(s.palette.grey[500],.4):xe(s.palette.common.white,.2),borderRadius:"3px"}})),it=f(ee)(({theme:s})=>({borderRadius:s.spacing(3),padding:s.spacing(1,3),textTransform:"none",boxShadow:"none"})),zs=f(de)(({theme:s})=>({width:36,height:36,marginRight:s.spacing(1)})),ga=f(i)(({theme:s})=>({display:"flex",alignItems:"center",justifyContent:"center",color:s.palette.primary.main,marginRight:s.spacing(1),animation:"pulse 1.5s infinite ease-in-out","@keyframes pulse":{"0%":{opacity:.6},"50%":{opacity:1},"100%":{opacity:.6}}})),ua=({open:s,onClose:p,playlist:d=null,onEdit:C,onPlayTrack:X,isLoading:I=!1,nowPlaying:w=null})=>{const P=ns(),{themeSettings:ve}=a.useContext(js),F=tt(P.breakpoints.down("sm")),J=tt("(max-width:360px)"),te=W=>{X&&X(W)},S=()=>{C&&d&&(C(d),p())};return d||I?e.jsxs(ca,{open:s,onClose:p,fullScreen:!1,maxWidth:!1,fullWidth:!1,children:[e.jsxs(da,{children:[e.jsx(o,{variant:"h6",sx:{fontWeight:600},children:I?"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442\u0430...":d?.name||"\u041F\u043B\u0435\u0439\u043B\u0438\u0441\u0442"}),e.jsx(R,{edge:"end",color:"inherit",onClick:p,"aria-label":"close",children:e.jsx(sa,{})})]}),I?e.jsx(i,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:e.jsx(ie,{})}):e.jsx(ha,{children:e.jsxs(i,{sx:{p:3},children:[e.jsxs(i,{sx:{display:"flex",flexDirection:F?"column":"row",gap:3,mb:4},children:[e.jsxs(i,{sx:{width:F?"100%":"220px",flexShrink:0},children:[e.jsx(xa,{children:e.jsx("img",{src:d?.cover_url||d?.cover_image||"/static/uploads/system/playlist_placeholder.jpg",alt:d?.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),F&&e.jsxs(i,{sx:{mt:2},children:[e.jsx(o,{variant:"h6",sx:{fontWeight:700,mb:.5},children:d?.name}),d?.description&&e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1.5},children:d?.description}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:1.5},children:[e.jsx(zs,{src:d?.owner?.avatar_url,children:e.jsx(Ss,{})}),e.jsx(o,{variant:"body2",fontWeight:500,children:d?.owner?.name||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C"})]}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[e.jsx(i,{sx:{display:"flex",alignItems:"center"},children:e.jsxs(o,{variant:"body2",color:"text.secondary",children:[d?.tracks_count||0," ",Ps(d?.tracks_count||0)]})}),e.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[d?.is_public?e.jsx(ws,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}}):e.jsx(Cs,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}}),e.jsx(o,{variant:"body2",color:"text.secondary",children:d?.is_public?"\u041F\u0443\u0431\u043B\u0438\u0447\u043D\u044B\u0439":"\u041F\u0440\u0438\u0432\u0430\u0442\u043D\u044B\u0439"})]})]}),e.jsxs(i,{sx:{display:"flex",gap:1,mt:1},children:[d?.is_owner&&e.jsx(it,{variant:"outlined",color:"primary",onClick:S,startIcon:e.jsx(ks,{}),size:"small",fullWidth:!0,children:J?"":"\u0420\u0435\u0434."}),d?.tracks&&d.tracks.length>0&&e.jsx(it,{variant:"contained",color:"primary",onClick:()=>te(d.tracks[0]),startIcon:e.jsx(vt,{}),size:"small",fullWidth:!0,children:J?"":"\u0421\u043B\u0443\u0448."})]})]})]}),!F&&e.jsxs(i,{sx:{flex:1},children:[e.jsx(o,{variant:"h5",sx:{fontWeight:700,mb:1},children:d?.name}),d?.description&&e.jsx(o,{variant:"body1",color:"text.secondary",sx:{mb:2},children:d?.description}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(zs,{src:d?.owner?.avatar_url,children:e.jsx(Ss,{})}),e.jsx(o,{variant:"body1",fontWeight:500,children:d?.owner?.name||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C"})]}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:3,mb:3},children:[e.jsx(i,{sx:{display:"flex",alignItems:"center"},children:e.jsxs(o,{variant:"body2",color:"text.secondary",children:[d?.tracks_count||0," ",Ps(d?.tracks_count||0)]})}),e.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[d?.is_public?e.jsx(ws,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}}):e.jsx(Cs,{fontSize:"small",sx:{mr:.5,color:"text.secondary"}}),e.jsx(o,{variant:"body2",color:"text.secondary",children:d?.is_public?"\u041F\u0443\u0431\u043B\u0438\u0447\u043D\u044B\u0439":"\u041F\u0440\u0438\u0432\u0430\u0442\u043D\u044B\u0439"})]})]}),e.jsxs(i,{sx:{display:"flex",gap:2},children:[d?.is_owner&&e.jsx(it,{variant:"outlined",color:"primary",onClick:S,startIcon:e.jsx(ks,{}),children:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C"}),d?.tracks&&d.tracks.length>0&&e.jsx(it,{variant:"contained",color:"primary",onClick:()=>te(d.tracks[0]),startIcon:e.jsx(vt,{}),children:"\u0421\u043B\u0443\u0448\u0430\u0442\u044C"})]})]})]}),d?.tracks&&d.tracks.length>0?e.jsxs(i,{children:[e.jsx(o,{variant:"h6",sx:{fontWeight:600,mb:2},children:"\u0422\u0440\u0435\u043A\u0438"}),e.jsx(Ee,{variant:"outlined",sx:{borderRadius:W=>W.breakpoints.down("sm")?W.spacing(1):W.spacing(2),overflow:"hidden",mx:1},children:e.jsx(Ze,{disablePadding:!0,children:d.tracks.map((W,H)=>{const K=(B=>w&&w.id===B.id)(W);return e.jsxs(pa,{divider:H!==d.tracks.length-1,onClick:()=>te(W),isPlaying:K,sx:{cursor:"pointer"},children:[e.jsx(i,{sx:{display:"flex",alignItems:"center",width:"24px",mr:1,flexShrink:0},children:K?e.jsx(ga,{children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:[e.jsx("rect",{x:"4",y:"4",width:"3",height:"16",rx:"1.5",children:e.jsx("animate",{attributeName:"height",from:"16",to:"6",dur:"0.6s",begin:"0s",repeatCount:"indefinite",values:"16;6;16",keyTimes:"0;0.5;1"})}),e.jsx("rect",{x:"10.5",y:"4",width:"3",height:"16",rx:"1.5",children:e.jsx("animate",{attributeName:"height",from:"6",to:"16",dur:"0.6s",begin:"0.1s",repeatCount:"indefinite",values:"6;16;6",keyTimes:"0;0.5;1"})}),e.jsx("rect",{x:"17",y:"4",width:"3",height:"16",rx:"1.5",children:e.jsx("animate",{attributeName:"height",from:"16",to:"6",dur:"0.6s",begin:"0.2s",repeatCount:"indefinite",values:"16;6;16",keyTimes:"0;0.5;1"})})]})}):e.jsx(o,{variant:"body2",color:"text.secondary",children:H+1})}),e.jsx(D,{sx:{minWidth:50},children:e.jsx(ma,{src:W.cover_path,alt:W.title,children:e.jsx(ea,{})})}),e.jsx(M,{primary:W.title,secondary:W.artist,primaryTypographyProps:{fontWeight:500,noWrap:!0,title:W.title,color:K?"primary":"inherit"},secondaryTypographyProps:{noWrap:!0,title:W.artist},sx:{mr:1}}),e.jsx(R,{edge:"end",size:"small",onClick:B=>{B.stopPropagation(),te(W)},children:e.jsx(vt,{})})]},W.id)})})})]}):e.jsxs(i,{sx:{textAlign:"center",p:4,bgcolor:P.palette.mode==="dark"?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.05)",borderRadius:2,mt:2},children:[e.jsx(o,{color:"text.secondary",children:"\u042D\u0442\u043E\u0442 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442 \u043F\u043E\u043A\u0430 \u043F\u0443\u0441\u0442"}),d?.is_owner&&e.jsx(ee,{variant:"outlined",startIcon:e.jsx(aa,{}),sx:{mt:2},onClick:S,children:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0442\u0440\u0435\u043A\u0438"})]})]})})]}):null};function Ps(s){const p=s%10,d=s%100;return d>=11&&d<=19?"\u0442\u0440\u0435\u043A\u043E\u0432":p===1?"\u0442\u0440\u0435\u043A":p>=2&&p<=4?"\u0442\u0440\u0435\u043A\u0430":"\u0442\u0440\u0435\u043A\u043E\u0432"}const Ws=(s,p)=>{let d;return function(...C){clearTimeout(d),d=setTimeout(()=>{clearTimeout(d),s(...C)},p)}},ya=f(Nr)(({theme:s})=>({marginTop:s.spacing(2),marginBottom:s.spacing(14),padding:s.spacing(0,1),[s.breakpoints.up("md")]:{marginBottom:s.spacing(16),padding:s.spacing(0,3)}})),Ts=f(Be,{shouldForwardProp:s=>s!=="active"})(({theme:s,active:p})=>({cursor:"pointer",height:"100%",background:p?`linear-gradient(135deg, ${s.palette.primary.main}33 0%, ${s.palette.primary.main}1A 100%)`:`linear-gradient(135deg, ${s.palette.mode==="dark"?"rgba(25,25,25,0.7)":"rgba(240,240,240,0.7)"} 0%, ${s.palette.mode==="dark"?"rgba(15,15,15,0.7)":"rgba(250,250,250,0.7)"} 100%)`,backdropFilter:"blur(8px)",borderRadius:16,overflow:"hidden",transition:"all 0.3s ease",transform:p?"scale(1.02)":"scale(1)",boxShadow:p?"0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)":"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",border:p?`1px solid ${s.palette.primary.main}`:"1px solid "+(s.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"),"&:hover":{transform:"scale(1.03)",boxShadow:"0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)",border:`1px solid ${s.palette.primary.main}33`}})),Is=f(i)(({theme:s})=>({display:"flex",alignItems:"center",justifyContent:"center",width:60,height:60,borderRadius:"50%",background:`linear-gradient(45deg, ${s.palette.primary.main}33 0%, ${s.palette.mode==="dark"?"rgba(25,25,25,0.2)":"rgba(240,240,240,0.2)"} 100%)`,border:"1px solid "+(s.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)"),marginBottom:s.spacing(1.5),boxShadow:"0 4px 8px rgba(0,0,0,0.15)","& svg":{fontSize:28}}));f(fs)(({theme:s})=>({position:"fixed",bottom:s.spacing(9),right:s.spacing(2),zIndex:5,[s.breakpoints.up("md")]:{bottom:s.spacing(4),right:s.spacing(4)}}));const fa=f(i)(({theme:s,open:p})=>({position:"sticky",top:0,zIndex:5,width:"100%",padding:p?s.spacing(2,1):s.spacing(2,2,1),backdropFilter:"blur(10px)",backgroundColor:p?s.palette.mode==="dark"?"rgba(18,18,18,0.9)":"rgba(250,250,250,0.9)":s.palette.mode==="dark"?"rgba(18,18,18,0.6)":"rgba(250,250,250,0.6)",transition:"all 0.3s ease",borderRadius:p?0:"0 0 16px 16px",boxShadow:p?"none":"0 4px 20px rgba(0,0,0,0.1)"})),kt=f(i)(({theme:s,focused:p})=>({display:"flex",alignItems:"center",width:"100%",borderRadius:24,backgroundColor:p?s.palette.mode==="dark"?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.15)":s.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",padding:s.spacing(1,2),transition:"all 0.3s ease",boxShadow:p?`0 0 0 2px ${s.palette.primary.main}66`:"none","& input":{width:"100%",border:"none",outline:"none",background:"transparent",color:s.palette.text.primary,fontSize:"16px","&::placeholder":{color:s.palette.text.secondary}}})),ba=f(yt,{shouldForwardProp:s=>s!=="active"})(({theme:s,active:p})=>({padding:s.spacing(.5,1),borderRadius:8,cursor:"pointer",marginBottom:8,backgroundColor:p?`${s.palette.primary.main}1A`:"transparent",transition:"transform 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease",border:p?`1px solid ${s.palette.primary.main}33`:"1px solid transparent","&:hover":{backgroundColor:s.palette.mode==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.03)",transform:"translateY(-2px)",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"}}));f(Be)(({theme:s})=>({borderRadius:12,overflow:"hidden",backgroundColor:s.palette.mode==="dark"?"rgba(25,25,25,0.6)":"rgba(250,250,250,0.6)",backdropFilter:"blur(10px)",transition:"all 0.3s ease",height:"100%","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 20px rgba(0,0,0,0.2)"}}));const ja=f(Ur)(({theme:s})=>({position:"fixed",bottom:0,left:0,right:0,zIndex:10,height:65,backgroundColor:"rgba(18,18,18,0.95)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(255,255,255,0.05)"})),We=f(Ee)(({theme:s})=>({borderRadius:"16px",padding:s.spacing(2),marginBottom:s.spacing(2),background:s.palette.mode==="dark"?"linear-gradient(135deg, rgba(30,30,30,0.7) 0%, rgba(10,10,10,0.7) 100%)":"linear-gradient(135deg, rgba(250,250,250,0.7) 0%, rgba(240,240,240,0.7) 100%)",backdropFilter:"blur(10px)",boxShadow:"0 4px 30px rgba(0,0,0,0.1)",border:"1px solid "+(s.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)")})),va=f(i)(({theme:s})=>({width:"100%",position:"relative",borderRadius:16,overflow:"hidden",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",aspectRatio:"1/1","&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(0deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0) 50%)",pointerEvents:"none"},"& img":{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.5s ease"},"&:hover img":{transform:"scale(1.05)"}})),nt=f(ee)(({theme:s,color:p="primary"})=>({borderRadius:30,padding:s.spacing(1,3),textTransform:"none",fontWeight:500,letterSpacing:.5,backgroundColor:p==="primary"?s.palette.primary.main:"rgba(255,255,255,0.1)",color:p==="primary"?"#fff":"rgba(255,255,255,0.9)",transition:"all 0.2s ease","&:hover":{backgroundColor:p==="primary"?s.palette.primary.dark:"rgba(255,255,255,0.2)",transform:"translateY(-2px)",boxShadow:p==="primary"?"0 4px 12px rgba(55,120,255,0.4)":"0 4px 10px rgba(0,0,0,0.2)"}}));f(Be)(({theme:s})=>({height:"100%",display:"flex",flexDirection:"column",borderRadius:16,backgroundColor:s.palette.mode==="dark"?"rgba(18,18,18,0.6)":"rgba(250,250,250,0.6)",backdropFilter:"blur(10px)",transition:"all 0.3s ease",cursor:"pointer","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 20px rgba(0,0,0,0.2)"}}));const $s=f(i)(({theme:s})=>({display:"flex",alignItems:"center",padding:s.spacing(1),borderRadius:8,transition:"background-color 0.2s ease","&:hover":{backgroundColor:s.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"}})),ka=f(i)(({theme:s})=>({position:"fixed",top:0,left:0,right:0,zIndex:100,width:"100%",height:64,padding:s.spacing(0,1.5),background:s.palette.mode==="dark"?"rgba(18,18,18,0.95)":"rgba(250,250,250,0.95)",backdropFilter:"blur(10px)",boxShadow:"0 1px 3px rgba(0,0,0,0.12)",borderBottom:"1px solid "+(s.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"),display:"flex",alignItems:"center"}));f(o)(({theme:s})=>({fontSize:"1.5rem",fontWeight:600,marginBottom:s.spacing(1),marginTop:s.spacing(4),color:s.palette.mode==="dark"?"#ffffff":"#121212",display:"flex",alignItems:"center","& svg":{marginRight:s.spacing(1),color:s.palette.primary.main}})),f(o)(({theme:s})=>({fontSize:"0.875rem",fontWeight:400,marginBottom:s.spacing(2),color:s.palette.text.secondary}));const Rs=f(i)(({theme:s})=>({display:"flex",alignItems:"center",padding:s.spacing(1,0),borderBottom:`1px solid ${s.palette.divider}`,borderRadius:0,cursor:"pointer",transition:"background-color 0.2s ease","&:hover":{backgroundColor:"rgba(255,255,255,0.03)"}})),Fs=f(i)(({theme:s})=>({width:36,textAlign:"center",fontWeight:700,fontSize:"0.95rem",color:s.palette.text.secondary,marginRight:s.spacing(1)})),Es=f(i)(({theme:s})=>({width:42,height:42,borderRadius:4,overflow:"hidden",marginRight:s.spacing(2),flexShrink:0,boxShadow:"0 2px 8px rgba(0,0,0,0.2)"})),Bs=f(i)(({theme:s})=>({display:"flex",flexDirection:"column",flexGrow:1,overflow:"hidden"})),Ds=f(o)(({theme:s})=>({fontWeight:500,fontSize:"0.9rem",marginBottom:2,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})),Ms=f(o)(({theme:s})=>({fontWeight:400,fontSize:"0.8rem",color:s.palette.text.secondary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}));f(i)(({theme:s})=>({display:"flex",alignItems:"center",fontSize:"0.75rem",color:s.palette.text.secondary,marginLeft:s.spacing(1),"& svg":{fontSize:"0.9rem",marginRight:4}})),f(i)(({theme:s})=>({marginBottom:s.spacing(4)})),f(k)(({theme:s})=>({marginTop:s.spacing(2),marginBottom:s.spacing(4)}));const wa=bs.memo(()=>{const[s,p]=a.useState(0),[d,C]=a.useState(!1),[X,I]=a.useState(!1),[w,P]=a.useState(""),[ve,F]=a.useState(!1),[J,te]=a.useState(1),[S,W]=a.useState([]),[H,K]=a.useState(!1),[B,ke]=a.useState(null),[wt,Te]=a.useState(!1),[Ct,Me]=a.useState(!1),[se,c]=a.useState(!1),[x,y]=a.useState(!1),[_,v]=a.useState("categories"),[u,T]=a.useState(!1),[me,N]=a.useState(!1),[re,Ie]=a.useState(!1),[As,Os]=a.useState(!1),[Ls,Ys]=a.useState(!0),[St,Ns]=a.useState(0),[Gs,ot]=a.useState(!1),{section:we}=Xr(),[he,lt]=a.useState({trending:[],most_played:[],most_liked:[],new_releases:[]}),[Us,_t]=a.useState(!0),[Ae,zt]=a.useState(null),[G,Xs]=a.useState(null),[Oe,m]=a.useState({open:!1,message:"",severity:"success"}),[Pt,Js]=a.useState([]),[Hs,Wt]=a.useState(!0),[$e,Tt]=a.useState(""),[It,Ce]=a.useState([]),[Ks,$t]=a.useState(!1),[qs,ge]=a.useState(!1),[ue,ye]=a.useState(null),[Re,Rt]=a.useState({open:!1,mouseX:null,mouseY:null}),[ae,Vs]=a.useState(null),[Ca,Sa]=a.useState(!0),[Qs,Ft]=a.useState(!1),[Se,Et]=a.useState(null),[Zs,Bt]=a.useState(!1),fe=ns(),Le=tt(fe.breakpoints.down("md"));tt(fe.breakpoints.between("sm","md"));const{themeSettings:_a}=a.useContext(js),q=a.useRef(null),er=a.useRef(null);a.useRef(null);const[ct]=Jr(),U=Hr(),tr=Kr(),h=Vr(),{tracks:L,likedTracks:$,newTracks:sr,randomTracks:rr,popularTracks:ar,currentTrack:E,isPlaying:ir,togglePlay:za,isLoading:Dt,searchResults:V,isSearching:nr,searchTracks:Pa,setCurrentSection:oe,playTrack:le,likeTrack:or,setRandomTracks:Wa,setTracks:Ta}=h,dt=h.loadMoreTracks||(async()=>{}),[xt,pt]=a.useState(h.hasMoreTracks||!1),[mt,Mt]=a.useState(!1),Fe=a.useRef(null),At=a.useRef(s);a.useEffect(()=>{const t=()=>{const r=window.pageYOffset||document.documentElement.scrollTop;Os(r>500),Ys(!(r>St&&r>100)),Ns(r),N(r>20)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[St]),a.useEffect(()=>{(async()=>{if(typeof oe=="function")try{oe("all"),h.resetPagination&&await h.resetPagination("all",!0),oe("liked"),h.resetPagination&&await h.resetPagination("liked");const t=we||"categories";oe(t==="categories"?"all":t)}catch{}})(),lr(),hr()},[]);const lr=a.useCallback(async()=>{try{_t(!0);const t=await ne.get("/api/music/charts");if(t.data.success){const r=t.data.charts;if(r){const n=new Set($.map(j=>j.id)),l=j=>j&&Array.isArray(j)?j.map(z=>{if(!z||!z.id)return z;const g=n.has(z.id),Z=E?.id===z.id?E:j.find(Y=>Y.id===z.id)||ar.find(Y=>Y.id===z.id)||sr.find(Y=>Y.id===z.id)||rr.find(Y=>Y.id===z.id);return Z?{...z,is_liked:Z.is_liked}:{...z,is_liked:g}}):j,b={most_played:l(r.most_played),trending:l(r.trending),most_liked:l(r.most_liked),new_releases:l(r.new_releases)};lt(b)}else lt(t.data.charts)}}catch{}finally{_t(!1)}},[$]);a.useEffect(()=>{(()=>{const t=we||"categories";if(t!==(_==="categories"?"categories":s===0?"liked":"all")){if(_==="categories"&&t!=="categories")U("/music/categories",{replace:!0});else if(_==="tracks"){const r=s===0?"liked":"all";t!==r&&U(`/music/${r}`,{replace:!0})}}})()},[_,s,we,U]);const Ot=a.useCallback(async()=>{try{const t=await fetch("/api/music/playlists/public");if(!t.ok)return[];const r=await t.json();return r.success?r.playlists:[]}catch{return[]}},[]),A=a.useCallback(async()=>{try{K(!0);const t=await fetch("/api/music/playlists");if(!t.ok)return void K(!1);const r=await t.text();let n;try{n=JSON.parse(r)}catch{return void K(!1)}let l=[];n.success&&(l=await Promise.all(n.playlists.map(async g=>{let Z=[];try{const Y=await fetch(`/api/music/playlists/${g.id}`);if(Y.ok){const qe=await Y.json();qe.success&&qe.playlist&&qe.playlist.tracks&&(Z=qe.playlist.tracks.slice(0,3).map(Ve=>({id:Ve.id,title:Ve.title,artist:Ve.artist,cover_path:Ve.cover_path})))}}catch{}return{id:g.id,name:g.name,description:g.description||"",is_public:g.is_public,cover_image:g.cover_url||"/static/uploads/system/playlist_placeholder.jpg",tracks_count:g.track_count||0,created_at:g.created_at,updated_at:g.updated_at,is_owner:!0,preview_tracks:Z}})));const b=(await Ot()).map(g=>({id:g.id,name:g.name,description:g.description||"",is_public:!0,cover_image:g.cover_url||g.cover_image||"/static/uploads/system/playlist_placeholder.jpg",tracks_count:g.tracks_count||0,created_at:g.created_at,updated_at:g.updated_at,owner:g.owner,is_owner:!1,preview_tracks:g.preview_tracks||[]})),j=new Set(b.map(g=>g.id)),z=l.filter(g=>!j.has(g.id)||g.is_owner);W([...z,...b])}catch{W([])}finally{K(!1)}},[Ot]);a.useEffect(()=>{J===1&&A()},[J,A]);const Lt=async t=>{y(!0);try{const r=await fetch(`/api/music/playlists/${t}`,{method:"DELETE"}),n=await r.text();let l;try{l=JSON.parse(n)}catch{return m({open:!0,message:"Error deleting playlist: Server returned invalid response",severity:"error"}),y(!1),{success:!1}}return r.ok?(m({open:!0,message:"Playlist deleted successfully",severity:"success"}),A(),{success:!0}):(m({open:!0,message:`Error deleting playlist: ${l.error||r.statusText}`,severity:"error"}),{success:!1})}catch(r){return m({open:!0,message:`Error deleting playlist: ${r.message}`,severity:"error"}),{success:!1}}finally{y(!1)}},Ye=async(t,r)=>{y(!0);try{const n=await fetch(`/api/music/playlists/${t}/tracks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({track_ids:[r]})}),l=await n.text();let b;try{b=JSON.parse(l)}catch{return m({open:!0,message:"Error adding track: Server returned invalid response",severity:"error"}),y(!1),{success:!1}}return n.ok?(m({open:!0,message:"Track added to playlist successfully",severity:"success"}),A(),{success:!0}):(m({open:!0,message:`Error adding track: ${b.error||n.statusText}`,severity:"error"}),{success:!1})}catch(n){return m({open:!0,message:`Error adding track: ${n.message}`,severity:"error"}),{success:!1}}finally{y(!1)}},Yt=async(t,r)=>{y(!0);try{const n=await fetch(`/api/music/playlists/${t}/tracks/${r}`,{method:"DELETE"}),l=await n.text();let b;try{b=JSON.parse(l)}catch{return m({open:!0,message:"Error removing track: Server returned invalid response",severity:"error"}),y(!1),{success:!1}}return n.ok?(m({open:!0,message:"Track removed from playlist successfully",severity:"success"}),A(),{success:!0}):(m({open:!0,message:`Error removing track: ${b.error||n.statusText}`,severity:"error"}),{success:!1})}catch(n){return m({open:!0,message:`Error removing track: ${n.message}`,severity:"error"}),{success:!1}}finally{y(!1)}},ht=a.useCallback(async t=>{y(!0);try{const r=await fetch(`/api/music/playlists/${t}`),n=await r.text();let l;try{l=JSON.parse(n)}catch{return m({open:!0,message:"Error playing playlist: Server returned invalid response",severity:"error"}),y(!1),{success:!1}}if(r.ok&&l.success&&l.playlist.tracks.length>0){const b=`playlist_${t}`;oe(b);const j=l.playlist.tracks[0];return le(j,b),typeof h.setPlaylistTracks=="function"&&h.setPlaylistTracks(l.playlist.tracks,b),{success:!0}}return l.success&&l.playlist.tracks.length===0?(m({open:!0,message:"This playlist has no tracks",severity:"info"}),{success:!1}):(m({open:!0,message:`Error playing playlist: ${l.error||r.statusText}`,severity:"error"}),{success:!1})}catch(r){return m({open:!0,message:`Error playing playlist: ${r.message}`,severity:"error"}),{success:!1}}finally{y(!1)}},[le,oe,h]);a.useCallback((t,r)=>{const n=s;if(p(r),n!==r){window.scrollTo(0,0),w&&(P(""),q.current&&(q.current.value=""));const l={0:"liked",1:"all"}[r]||"all";if(c(!0),h.resetPagination){const b=l==="all";h.resetPagination(l,b).then(()=>{c(!1)}).catch(j=>{c(!1)})}else setTimeout(()=>{c(!1)},800);h.setCurrentSection&&h.setCurrentSection(l)}},[s,w,h.resetPagination,h.setCurrentSection,$,L,c]);const Ne=a.useCallback(t=>{le(t)},[le]);a.useCallback(()=>{C(!0)},[]);const cr=a.useCallback(()=>{C(!1),document.body.style.overflow="",document.body.style.touchAction=""},[]),gt=a.useCallback(()=>{I(!0)},[]),dr=a.useCallback(()=>{I(!1)},[]);a.useCallback((t,r)=>{te(r)},[]),a.useCallback((t=null)=>{ke(t),Te(!0)},[]),a.useCallback(()=>{ke(null),Te(!1)},[]);const Nt=a.useCallback(t=>{ke(t),Me(!0)},[]);a.useCallback(()=>{ke(null),Me(!1)},[]);const Gt=a.useMemo(()=>w.trim()?V:s===0?$||[]:L||[],[s,L,$,w,V]),xr=a.useCallback(Ws(t=>{t.trim()?(ot(!0),h.searchTracks(t).then(r=>{setSearchResults(r||[]),ot(!1),r.length===0&&m({open:!0,message:"\u041F\u043E \u0432\u0430\u0448\u0435\u043C\u0443 \u0437\u0430\u043F\u0440\u043E\u0441\u0443 \u043D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",severity:"info"})}).catch(r=>{ot(!1),m({open:!0,message:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u0438\u0441\u043A\u0435. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.",severity:"error"})})):setSearchResults([])},500),[m,h.searchTracks]),Ut=t=>{const r=t.target.value;P(r),r.trim()?xr(r):Ge()},Ge=()=>{P(""),q.current&&(q.current.value="");const t={0:"liked",1:"all"}[s]||"all";h.resetPagination&&h.resetPagination(t)},Ue=a.useMemo(()=>w.trim()?V:Gt,[w,V,Gt]),Xe=a.useMemo(()=>Dt||se,[Dt,se]);a.useEffect(()=>{if(typeof dt!="function")return;const t={0:"liked",1:"all"}[s]||"all",r=typeof h.hasMoreByType=="object"?h.hasMoreByType[t]!==!1:xt;let n=!1;const l=new IntersectionObserver(async b=>{const[j]=b;if(!j.isIntersecting||mt||n||Xe||!r)j.isIntersecting;else{Mt(!0),n=!0;try{await dt(t)===!1&&pt(!1)}catch{pt(!1)}finally{Mt(!1),n=!1}}},{threshold:.2});return Fe.current&&r&&!Xe&&!w&&l.observe(Fe.current),()=>{Fe.current&&l.unobserve(Fe.current)}},[xt,mt,dt,s,h.hasMoreByType,Xe,w,L.length,$.length]),a.useEffect(()=>{if(At.current!==s){At.current=s,window.scrollTo(0,0);const t={0:"liked",1:"all"}[s]||"all";if(w&&P(""),h.resetPagination&&h.resetPagination(t),h.setCurrentSection&&h.setCurrentSection(t),typeof h.hasMoreByType=="object"){const r=h.hasMoreByType[t];pt(r!==!1)}}},[s,h.hasMoreByType,h.resetPagination,h.setCurrentSection,w]);const Q=()=>{switch(s){case 0:return{title:"\u041C\u043D\u0435 \u043D\u0440\u0430\u0432\u0438\u0442\u0441\u044F",subtitle:"\u0412\u0430\u0448\u0438 \u043B\u044E\u0431\u0438\u043C\u044B\u0435 \u0442\u0440\u0435\u043A\u0438",type:"playlist",cover:pe("/uploads/system/like_playlist.jpg","liked"),tracks:$||[]};case 1:return{title:"\u0412\u0441\u0435 \u0442\u0440\u0435\u043A\u0438",subtitle:"\u0422\u0440\u0435\u043A\u0438 \u0432 \u0441\u043B\u0443\u0447\u0430\u0439\u043D\u043E\u043C \u043F\u043E\u0440\u044F\u0434\u043A\u0435",type:"collection",cover:pe("/uploads/system/new_tracks.jpg","all"),tracks:L||[]};default:return{title:"\u041C\u0443\u0437\u044B\u043A\u0430",subtitle:"",type:"collection",cover:pe("/uploads/system/album_placeholder.jpg","album"),tracks:[]}}};Q(),a.useEffect(()=>()=>{document.body.style.overflow="",document.body.style.touchAction=""},[]);const Xt=(t,r)=>{r&&r.stopPropagation();const n=`${window.location.origin}/music/track/${t.id}`;navigator.clipboard.writeText(n).then(()=>{m({open:!0,message:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u0442\u0440\u0435\u043A \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430",severity:"success"})}).catch(l=>{m({open:!0,message:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443",severity:"error"})}),ce()},ce=()=>{zt(null)},Jt=(t,r)=>{r!=="clickaway"&&m({...Oe,open:!1})};a.useEffect(()=>{const t=tr.pathname.split("/"),r=t[t.length-2]==="track"?t[t.length-1]:null;r&&(async()=>{try{const n=await fetch(`/api/music/${r}`);if(!n.ok)throw new Error("Failed to fetch track");const l=await n.json();l.success&&l.track&&(le(l.track),C(!0))}catch{}})()},[ct]);const Ht=a.useCallback(t=>{p(t),v("tracks"),U("/music/"+(t===0?"liked":"all"))},[U]),Kt=a.useCallback(()=>{v("categories"),U("/music/categories")},[U]),pr=a.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),mr=a.useCallback(async()=>{Ie(!0);const t=s===0?"liked":"all";h.resetPagination&&await h.resetPagination(t),setTimeout(()=>{Ie(!1)},1e3)},[s,h]),Je=a.useCallback(()=>{T(t=>!t),u?(P(""),q.current&&(q.current.value="")):setTimeout(()=>{q.current&&q.current.focus()},300)},[u]),He=t=>{or(t)};a.useEffect(()=>{if(he&&$){const t=new Set($.map(r=>r.id));(()=>{const r=n=>n&&Array.isArray(n)?n.map(l=>l&&l.id?{...l,is_liked:t.has(l.id)}:l):n;lt(n=>({...n,most_played:r(n.most_played),new_releases:r(n.new_releases),trending:r(n.trending),most_liked:r(n.most_liked)}))})()}},[$]);const qt=(t,r)=>{const n=E&&E.id===t.id,l=n&&ir;return e.jsxs(ba,{active:n,onClick:()=>Ne(t),onContextMenu:b=>((j,z)=>{j.preventDefault(),j.stopPropagation(),Xs(z),zt({mouseX:j.clientX-2,mouseY:j.clientY-4})})(b,t),children:[e.jsx(D,{children:e.jsxs(i,{sx:{position:"relative",borderRadius:1,overflow:"hidden"},children:[e.jsx(de,{variant:"rounded",src:t.cover_path||"/static/uploads/system/album_placeholder.jpg",alt:t.title,sx:{width:50,height:50,boxShadow:"0 4px 10px rgba(0,0,0,0.2)",bgcolor:"rgba(0,0,0,0.2)"}}),e.jsx(i,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0,0,0,0.4)",display:"flex",alignItems:"center",justifyContent:"center",opacity:l?1:0,transition:"opacity 0.2s ease"},children:l?e.jsx(Gr,{fontSize:"small"}):e.jsx(at,{fontSize:"small"})}),t.is_verified&&e.jsx(i,{sx:{position:"absolute",top:4,right:4,bgcolor:"rgba(0, 0, 0, 0.6)",borderRadius:"50%",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i,{component:"span",sx:{width:12,height:12,display:"flex",alignItems:"center",justifyContent:"center",color:fe.palette.primary.main,fontSize:10},children:"\u2713"})})]})}),e.jsx(M,{primary:e.jsx(o,{variant:"body1",noWrap:!0,sx:{color:n?fe.palette.primary.main:"inherit",fontWeight:n?500:400},children:t.title}),secondary:e.jsxs(i,{component:"span",sx:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[t.artist&&t.artist.split(",").map((b,j,z)=>e.jsxs(bs.Fragment,{children:[e.jsx(o,{component:"span",variant:"body2",onClick:g=>{g.stopPropagation(),(Z=>{Z.stopPropagation(),t.artist_info&&t.artist_info.id&&U(`/artist/${t.artist_info.id}`)})(g)},sx:{cursor:t.artist_info&&t.artist_info.id?"pointer":"default","&:hover":{color:t.artist_info&&t.artist_info.id?fe.palette.primary.main:"inherit",textDecoration:t.artist_info&&t.artist_info.id?"underline":"none"}},children:b.trim()}),j<z.length-1&&e.jsx(o,{component:"span",variant:"body2",color:"text.secondary",children:","})]},j)),e.jsxs(o,{component:"span",variant:"body2",color:"text.secondary",noWrap:!0,children:[t.album?` \u2022 ${t.album} \u2022 `:" \u2022 ",Zr(t.duration)]})]}),sx:{overflowX:"hidden"}}),e.jsx(as,{children:e.jsx(R,{edge:"end","aria-label":"like",onClick:b=>{b.stopPropagation(),He(t.id)},size:"small",children:t.is_liked?e.jsx(je,{fontSize:"small",color:"error"}):e.jsx(rt,{fontSize:"small"})})})]},t.id)},hr=a.useCallback(async()=>{try{Wt(!0);const t=await ne.get("/api/moderator/artists?page=1&per_page=6");t.data.success&&Js(t.data.artists||[])}catch{}finally{Wt(!1)}},[]),gr=a.useCallback(Ws(t=>{t.trim().length>=2?(async r=>{if(!r||r.trim().length<2)Ce([]);else try{$t(!0);const n=`/api/search/artists?query=${encodeURIComponent(r.trim())}`,l=await ne.get(n);l.data.success?Ce(l.data.artists||[]):(Ce([]),m({open:!0,message:`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u0438\u0441\u043A\u0435 \u0430\u0440\u0442\u0438\u0441\u0442\u043E\u0432: ${l.data.error||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430"}`,severity:"error"}))}catch{Ce([]);try{const l=await ne.get(`/api/moderator/artists?search=${encodeURIComponent(r.trim())}&page=1&per_page=10`);l.data.success?Ce(l.data.artists||[]):m({open:!0,message:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u0438\u0441\u043A\u0435 \u0430\u0440\u0442\u0438\u0441\u0442\u043E\u0432. \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u0435.",severity:"error"})}catch{m({open:!0,message:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u0438\u0441\u043A\u0435 \u0430\u0440\u0442\u0438\u0441\u0442\u043E\u0432. \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u0435.",severity:"error"})}}finally{$t(!1)}})(t):Ce([])},500),[]),Vt=t=>{U(`/artist/${t}`)},Ke=a.useCallback(()=>{ye(null),ge(!0)},[]),ur=a.useCallback(t=>{ye(t),ge(!0)},[]),yr=a.useCallback(()=>{ge(!1),ye(null)},[]),fr=a.useCallback(async(t,r)=>{c(!0);try{if((await Promise.all(r.map(n=>Ye(t,n)))).every(n=>n===!0)&&(m({open:!0,message:`${r.length} ${r.length===1?"\u0442\u0440\u0435\u043A \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D":"\u0442\u0440\u0435\u043A\u043E\u0432 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043E"} \u0432 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442`,severity:"success"}),await A(),ue&&ue.id===t)){const n=await ne.get(`/api/music/playlists/${t}`);n.data.success&&ye(n.data.playlist)}}finally{c(!1)}},[Ye,A,ue]),br=a.useCallback(async(t,r)=>{c(!0);try{if(await Yt(t,r)&&(await A(),ue&&ue.id===t)){const n=await ne.get(`/api/music/playlists/${t}`);n.data.success&&ye(n.data.playlist)}}finally{c(!1)}},[Yt,A,ue]),Qt=a.useCallback(async t=>{c(!0);try{await Lt(t)&&(ge(!1),ye(null),await A())}finally{c(!1)}},[Lt,A]),Zt=a.useCallback((t,r)=>{t.preventDefault(),t.stopPropagation(),Vs(r),Rt({open:!0,mouseX:t.clientX-2,mouseY:t.clientY-4})},[]),_e=a.useCallback(()=>{Rt({open:!1,mouseX:null,mouseY:null})},[]),es=a.useCallback(async t=>{Bt(!0);try{const r=await fetch(`/api/music/playlists/${t}`);if(!r.ok)throw new Error(`Failed to fetch playlist: ${r.statusText}`);const n=await r.json();return n.success?n.playlist:(m({open:!0,message:`Error fetching playlist: ${n.error}`,severity:"error"}),null)}catch(r){return m({open:!0,message:`Error: ${r.message}`,severity:"error"}),null}finally{Bt(!1)}},[]),ts=a.useCallback(async t=>{const r=S.find(n=>n.id===t);Et(r),Ft(!0);try{const n=await es(t);n&&Et(n)}catch{}},[S,es]),jr=a.useCallback(t=>{ye(t),ge(!0)},[]);a.useCallback(t=>{if(t)if(ce(),S&&S.length>0){const r=S[0].id;Ye(r,t)}else m({open:!0,message:"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0451 \u043D\u0435\u0442 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442\u043E\u0432. \u0421\u043E\u0437\u0434\u0430\u0439\u0442\u0435 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442 \u0441\u043D\u0430\u0447\u0430\u043B\u0430.",severity:"info"}),Ke()},[S,ce,Ye,Ke]);const vr=a.useCallback(t=>{if(Se){const r=`playlist_${Se.id}`;oe(r),le(t,r),typeof h.setPlaylistTracks=="function"&&Se.tracks&&h.setPlaylistTracks(Se.tracks,r)}},[Se,oe,le,h]);return a.useEffect(()=>{const t=ct.get("playlist");t&&(async()=>{try{const r=await fetch(`/api/music/playlists/${t}`);if(!r.ok)throw new Error("Failed to fetch playlist");const n=await r.json();n.success&&n.playlist&&Nt(n.playlist)}catch{m({open:!0,message:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0442\u043A\u0440\u044B\u0442\u044C \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442",severity:"error"})}})()},[ct,Nt]),a.useCallback(async()=>{try{setPlaylistsLoading(!0);const t=await ne.get("/api/music/playlists");if(t.data.success){let r=t.data.playlists;J===1&&(r=r.filter(n=>n.tracks_count>0)),W(r)}setPlaylistsLoading(!1)}catch{setPlaylistsLoading(!1)}},[J]),a.useEffect(()=>{if(we)switch(we){case"liked":p(0),v("tracks");break;case"all":p(1),v("tracks");break;case"categories":v("categories");break;default:U("/music/categories",{replace:!0})}},[we,U]),e.jsxs(ya,{maxWidth:"xl",disableGutters:!0,sx:{pb:10},children:[E?e.jsx(jt,{title:`${E.title} - ${E.artist||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C"}`,description:`\u0421\u043B\u0443\u0448\u0430\u0439\u0442\u0435 ${E.title} \u043E\u0442 ${E.artist||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C"} \u043D\u0430 K-Connect`,image:E.cover||"/static/images/music_placeholder.jpg",type:"music",meta:{song:E.title,artist:E.artist,album:E.album}}):B?e.jsx(jt,{title:`\u041F\u043B\u0435\u0439\u043B\u0438\u0441\u0442: ${B.title}`,description:B.description||`\u041F\u043B\u0435\u0439\u043B\u0438\u0441\u0442 ${B.title} \u043D\u0430 K-Connect`,image:B.cover||"/static/images/playlist_placeholder.jpg",type:"music.playlist"}):e.jsx(jt,{title:"\u041C\u0443\u0437\u044B\u043A\u0430 | K-Connect",description:"\u0421\u043B\u0443\u0448\u0430\u0439\u0442\u0435 \u043C\u0443\u0437\u044B\u043A\u0443, \u0441\u043E\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442\u044B \u0438 \u0434\u0435\u043B\u0438\u0442\u0435\u0441\u044C \u043B\u044E\u0431\u0438\u043C\u044B\u043C\u0438 \u0442\u0440\u0435\u043A\u0430\u043C\u0438 \u043D\u0430 K-Connect",type:"website"}),Le?e.jsx(ka,{children:e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[_!=="categories"?e.jsx(R,{color:"inherit",onClick:Kt,size:"small",sx:{mr:1},children:e.jsx(os,{fontSize:"small"})}):e.jsx(o,{variant:"h6",fontWeight:"600",sx:{display:u?"none":"block",fontSize:"1.1rem"},children:"\u041C\u0443\u0437\u044B\u043A\u0430"}),u?e.jsxs(kt,{focused:ve,sx:{height:40,flexGrow:1},children:[e.jsx(ze,{sx:{fontSize:18,mr:.5,color:"text.secondary"}}),e.jsx("input",{ref:q,placeholder:"\u041F\u043E\u0438\u0441\u043A \u0442\u0440\u0435\u043A\u0430 \u0438\u043B\u0438 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044F",value:w,onChange:Ut,onFocus:()=>F(!0),onBlur:()=>setTimeout(()=>F(!1),200),style:{fontSize:"16px"}}),w&&e.jsx(R,{size:"small",onClick:Ge,sx:{color:"rgba(255, 255, 255, 0.7)",p:.5},children:e.jsx(i,{sx:{fontSize:18,fontWeight:"bold"},children:"\xD7"})})]}):e.jsxs(i,{sx:{display:"flex",alignItems:"center",ml:"auto"},children:[e.jsx(R,{color:"inherit",onClick:Je,sx:{mr:.5},size:"small",children:e.jsx(ze,{fontSize:"small"})}),e.jsx(R,{color:"inherit",onClick:gt,sx:{mr:.5},size:"small",children:e.jsx(ft,{fontSize:"small"})})]}),u&&e.jsx(ee,{onClick:Je,size:"small",sx:{ml:1,textTransform:"none",minWidth:"auto",py:.5,px:1},children:"\u041E\u0442\u043C\u0435\u043D\u0430"})]})}):e.jsx(fa,{open:u,ref:er,children:e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:u?0:1},children:[_!=="categories"?e.jsx(R,{color:"inherit",onClick:Kt,sx:{mr:1},children:e.jsx(os,{})}):e.jsx(o,{variant:"h6",fontWeight:"600",sx:{display:{xs:u?"none":"block",sm:"block"},fontSize:{xs:"1.1rem",sm:"1.25rem"}},children:"\u041C\u0443\u0437\u044B\u043A\u0430"}),u?e.jsxs(kt,{focused:ve,children:[e.jsx(ze,{sx:{fontSize:20,mr:1,color:"text.secondary"}}),e.jsx("input",{ref:q,placeholder:"\u041F\u043E\u0438\u0441\u043A \u0442\u0440\u0435\u043A\u0430 \u0438\u043B\u0438 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044F",value:w,onChange:Ut,onFocus:()=>F(!0),onBlur:()=>setTimeout(()=>F(!1),200)}),w&&e.jsx(R,{size:"small",onClick:Ge,sx:{color:"rgba(255, 255, 255, 0.7)",p:.5},children:e.jsx(i,{sx:{fontSize:18,fontWeight:"bold"},children:"\xD7"})})]}):e.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(R,{color:"inherit",onClick:Je,sx:{mr:.5},children:e.jsx(ze,{})}),e.jsx(R,{color:"inherit",onClick:gt,sx:{mr:.5},children:e.jsx(ft,{})})]}),u&&e.jsx(ee,{onClick:Je,sx:{ml:1,textTransform:"none",minWidth:"auto"},children:"\u041E\u0442\u043C\u0435\u043D\u0430"})]})}),w?e.jsx(Pe,{in:!0,timeout:500,children:e.jsxs(i,{sx:{pt:2,pb:2},children:[e.jsx(o,{variant:"h5",fontWeight:"bold",sx:{mb:2},children:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u043F\u043E\u0438\u0441\u043A\u0430"}),nr?e.jsx(i,{sx:{display:"flex",justifyContent:"center",my:6},children:e.jsx(ie,{size:30})}):V.length>0?e.jsxs(e.Fragment,{children:[e.jsxs(o,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["\u041D\u0430\u0439\u0434\u0435\u043D\u043E ",V.length," ",V.length===1?"\u0442\u0440\u0435\u043A":V.length>1&&V.length<5?"\u0442\u0440\u0435\u043A\u0430":"\u0442\u0440\u0435\u043A\u043E\u0432",' \u043F\u043E \u0437\u0430\u043F\u0440\u043E\u0441\u0443 "',w,'"']}),e.jsx(Ze,{sx:{width:"100%",p:0},children:V.map((t,r)=>e.jsx(xs,{in:!0,style:{transformOrigin:"0 0 0",transitionDelay:30*r+"ms"},children:qt(t)},t.id||r))})]}):e.jsxs(i,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:8},children:[e.jsx(ze,{sx:{fontSize:48,color:"text.secondary",opacity:.5,mb:2}}),e.jsxs(o,{color:"text.secondary",sx:{mb:1},children:['\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E \u043F\u043E \u0437\u0430\u043F\u0440\u043E\u0441\u0443 "',w,'"']}),e.jsx(o,{variant:"body2",color:"text.secondary",children:"\u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0437\u0430\u043F\u0440\u043E\u0441 \u0438\u043B\u0438 \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0434\u0440\u0443\u0433\u0443\u044E \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044E"})]})]})}):e.jsxs(e.Fragment,{children:[_==="categories"&&e.jsx(Pe,{in:!0,timeout:500,children:e.jsxs(i,{sx:{pt:2},children:[e.jsxs(We,{elevation:0,children:[e.jsx(o,{variant:"h5",fontWeight:"bold",sx:{mb:2},children:"\u0412\u0430\u0448\u0430 \u043C\u0443\u0437\u044B\u043A\u0430"}),e.jsxs(k,{container:!0,spacing:2,children:[e.jsx(k,{item:!0,xs:12,sm:6,children:e.jsx(be,{in:!0,style:{transitionDelay:"100ms"},children:e.jsx(Ts,{elevation:3,onClick:()=>Ht(0),active:s===0&&_==="tracks",children:e.jsxs(st,{sx:{display:"flex",flexDirection:"column",height:"100%",p:{xs:2,sm:3}},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Is,{sx:{mr:2},children:e.jsx(je,{color:"error"})}),e.jsxs(i,{children:[e.jsx(o,{variant:"h6",fontWeight:"600",children:"\u041C\u043D\u0435 \u043D\u0440\u0430\u0432\u0438\u0442\u0441\u044F"}),e.jsxs(o,{variant:"body2",color:"text.secondary",children:[$?.length||0," ",$?.length===1?"\u0442\u0440\u0435\u043A":$?.length>1&&$?.length<5?"\u0442\u0440\u0435\u043A\u0430":"\u0442\u0440\u0435\u043A\u043E\u0432"]})]})]}),$&&$.length>0&&e.jsx(i,{sx:{mt:1},children:$.slice(0,3).map((t,r)=>e.jsxs($s,{children:[e.jsx(de,{variant:"rounded",src:pe(t.cover_path||"","album"),alt:t.title||"",sx:{width:32,height:32,borderRadius:1,mr:1.5}}),e.jsxs(i,{sx:{minWidth:0,flexGrow:1},children:[e.jsx(o,{variant:"body2",noWrap:!0,children:t.title||"\u0411\u0435\u0437 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F"}),e.jsx(o,{variant:"caption",color:"text.secondary",noWrap:!0,children:t.artist||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C"})]})]},t.id||r))})]})})})}),e.jsx(k,{item:!0,xs:12,sm:6,children:e.jsx(be,{in:!0,style:{transitionDelay:"200ms"},children:e.jsx(Ts,{elevation:3,onClick:()=>Ht(1),active:s===1&&_==="tracks",children:e.jsxs(st,{sx:{display:"flex",flexDirection:"column",height:"100%",p:{xs:2,sm:3}},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(Is,{sx:{mr:2},children:e.jsx(ls,{color:"secondary"})}),e.jsxs(i,{children:[e.jsx(o,{variant:"h6",fontWeight:"600",children:"\u0412\u0441\u0435 \u0442\u0440\u0435\u043A\u0438"}),e.jsxs(o,{variant:"body2",color:"text.secondary",children:[L?.length||0," ",L?.length===1?"\u0442\u0440\u0435\u043A":L?.length>1&&L?.length<5?"\u0442\u0440\u0435\u043A\u0430":"\u0442\u0440\u0435\u043A\u043E\u0432"]})]})]}),L&&L.length>0&&e.jsx(i,{sx:{mt:1},children:L.slice(0,3).map((t,r)=>e.jsxs($s,{children:[e.jsx(de,{variant:"rounded",src:pe(t.cover_path||"","album"),alt:t.title||"",sx:{width:32,height:32,borderRadius:1,mr:1.5}}),e.jsxs(i,{sx:{minWidth:0,flexGrow:1},children:[e.jsx(o,{variant:"body2",noWrap:!0,children:t.title||"\u0411\u0435\u0437 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F"}),e.jsx(o,{variant:"caption",color:"text.secondary",noWrap:!0,children:t.artist||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C"})]})]},t.id||r))})]})})})})]})]}),e.jsxs(We,{elevation:0,children:[e.jsx(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:e.jsx(o,{variant:"h5",fontWeight:"bold",children:"\u0427\u0430\u0440\u0442\u044B"})}),Us?e.jsx(i,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(ie,{size:30})}):e.jsxs(k,{container:!0,spacing:2,children:[e.jsx(k,{item:!0,xs:12,md:6,children:e.jsx(be,{in:!0,style:{transitionDelay:"150ms"},children:e.jsxs(Ee,{elevation:0,sx:{p:2,height:"100%",borderRadius:2,backgroundColor:"rgba(25,25,25,0.6)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,fontWeight:"600",children:"\u041F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0435"}),he.most_played&&he.most_played.length>0?e.jsx(i,{children:he.most_played.slice(0,5).map((t,r)=>e.jsxs(Rs,{onClick:()=>Ne(t),children:[e.jsx(Fs,{children:r+1}),e.jsx(Es,{children:e.jsx("img",{src:pe(t.cover_path||"","album"),alt:t.title,width:"100%",height:"100%",style:{objectFit:"cover"}})}),e.jsxs(Bs,{children:[e.jsx(Ds,{children:t.title||"\u0411\u0435\u0437 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F"}),e.jsx(Ms,{children:t.artist||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C"})]}),e.jsx(i,{sx:{display:"flex",alignItems:"center",ml:"auto"},children:e.jsx(R,{size:"small",onClick:n=>{n.stopPropagation(),He(t.id)},sx:{color:t.is_liked?"error.main":"text.secondary",transition:"all 0.2s ease","&:hover":{color:t.is_liked?"error.light":"#ff6b6b",transform:"scale(1.1)"}},children:t.is_liked?e.jsx(je,{fontSize:"small",sx:{animation:"heartBeat 0.5s","@keyframes heartBeat":{"0%":{transform:"scale(1)"},"14%":{transform:"scale(1.3)"},"28%":{transform:"scale(1)"},"42%":{transform:"scale(1.3)"},"70%":{transform:"scale(1)"}}}}):e.jsx(rt,{fontSize:"small",sx:{"&:hover":{animation:"pulse 1.5s infinite","@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.6},"100%":{opacity:1}}}}})})})]},t.id||r))}):e.jsx(o,{color:"text.secondary",sx:{py:4,textAlign:"center"},children:"\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0445 \u0442\u0440\u0435\u043A\u0430\u0445"})]})})}),e.jsx(k,{item:!0,xs:12,md:6,children:e.jsx(be,{in:!0,style:{transitionDelay:"300ms"},children:e.jsxs(Ee,{elevation:0,sx:{p:2,height:"100%",borderRadius:2,backgroundColor:"rgba(25,25,25,0.6)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx(o,{variant:"h6",gutterBottom:!0,fontWeight:"600",children:"\u041D\u043E\u0432\u0438\u043D\u043A\u0438"}),he.new_releases&&he.new_releases.length>0?e.jsx(i,{children:he.new_releases.slice(0,5).map((t,r)=>e.jsxs(Rs,{onClick:()=>Ne(t),children:[e.jsx(Fs,{children:r+1}),e.jsx(Es,{children:e.jsx("img",{src:pe(t.cover_path||"","album"),alt:t.title,width:"100%",height:"100%",style:{objectFit:"cover"}})}),e.jsxs(Bs,{children:[e.jsx(Ds,{children:t.title||"\u0411\u0435\u0437 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F"}),e.jsx(Ms,{children:t.artist||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C"})]}),e.jsx(i,{sx:{display:"flex",alignItems:"center",ml:"auto"},children:e.jsx(R,{size:"small",onClick:n=>{n.stopPropagation(),He(t.id)},sx:{color:t.is_liked?"error.main":"text.secondary",transition:"all 0.2s ease","&:hover":{color:t.is_liked?"error.light":"#ff6b6b",transform:"scale(1.1)"}},children:t.is_liked?e.jsx(je,{fontSize:"small",sx:{animation:"heartBeat 0.5s","@keyframes heartBeat":{"0%":{transform:"scale(1)"},"14%":{transform:"scale(1.3)"},"28%":{transform:"scale(1)"},"42%":{transform:"scale(1.3)"},"70%":{transform:"scale(1)"}}}}):e.jsx(rt,{fontSize:"small",sx:{"&:hover":{animation:"pulse 1.5s infinite","@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.6},"100%":{opacity:1}}}}})})})]},t.id||r))}):e.jsx(o,{color:"text.secondary",sx:{py:4,textAlign:"center"},children:"\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u043D\u043E\u0432\u044B\u0445 \u0440\u0435\u043B\u0438\u0437\u0430\u0445"})]})})})]})]}),e.jsxs(We,{elevation:0,children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(o,{variant:"h5",fontWeight:"bold",children:"\u041C\u043E\u0438 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442\u044B"}),e.jsx(R,{color:"primary",onClick:Ke,"aria-label":"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442",children:e.jsx(Qe,{})})]}),e.jsx(vs,{playlists:S.filter(t=>t.is_owner),loading:H,skeletonCount:4,onPlaylistClick:ts,onPlaylistPlay:ht,onPlaylistMoreClick:Zt}),!H&&S.filter(t=>t.is_owner).length===0&&e.jsxs(i,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:4,background:"linear-gradient(135deg, rgba(208, 188, 255, 0.05) 0%, rgba(0,0,0,0.1) 100%)",borderRadius:3,border:"1px dashed rgba(208, 188, 255, 0.2)"},children:[e.jsx(cs,{sx:{fontSize:48,color:"rgb(208, 188, 255)",opacity:.6,mb:2}}),e.jsx(o,{sx:{color:"rgb(208, 188, 255)",mb:1,fontWeight:500},children:"\u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442\u043E\u0432"}),e.jsx(o,{color:"text.secondary",align:"center",sx:{maxWidth:400,px:2,mb:2},children:"\u0421\u043E\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438 \u043B\u044E\u0431\u0438\u043C\u044B\u0445 \u0442\u0440\u0435\u043A\u043E\u0432 \u0438 \u0434\u0435\u043B\u0438\u0442\u0435\u0441\u044C \u0438\u043C\u0438 \u0441 \u0434\u0440\u0443\u0437\u044C\u044F\u043C\u0438"}),e.jsx(nt,{color:"primary",startIcon:e.jsx(Qe,{}),onClick:Ke,sx:{background:"linear-gradient(45deg, rgba(191, 164, 255, 1) 30%, rgba(208, 188, 255, 1) 90%)",boxShadow:"0 3px 12px rgba(208, 188, 255, 0.3)"},children:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442"})]})]}),S.filter(t=>!t.is_owner).length>0&&e.jsxs(We,{elevation:0,children:[e.jsx(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:e.jsx(o,{variant:"h5",fontWeight:"bold",children:"\u041F\u0443\u0431\u043B\u0438\u0447\u043D\u044B\u0435 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442\u044B"})}),e.jsx(vs,{playlists:S.filter(t=>!t.is_owner),loading:H,skeletonCount:4,onPlaylistClick:ts,onPlaylistPlay:ht,onPlaylistMoreClick:Zt})]})]})}),_==="tracks"&&e.jsx(Pe,{in:!0,timeout:500,children:e.jsxs(i,{sx:{pt:2},children:[e.jsx(We,{elevation:0,sx:{mb:2},children:e.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between"},children:[e.jsxs(i,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},mb:{xs:2,md:0}},children:[e.jsx(va,{sx:{width:{xs:120,sm:150,md:180},flexShrink:0,mr:{xs:0,sm:3},mb:{xs:2,sm:0}},children:e.jsx("img",{src:Q().cover,alt:Q().title})}),e.jsxs(i,{children:[e.jsx(o,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:Q().type==="playlist"?"\u041F\u043B\u0435\u0439\u043B\u0438\u0441\u0442":Q().type==="radio"?"\u0420\u0430\u0434\u0438\u043E":"\u041A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u044F"}),e.jsx(o,{variant:"h4",component:"h1",fontWeight:"bold",sx:{mb:1,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.25rem"}},children:Q().title}),e.jsx(o,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:Q().subtitle})]})]}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[e.jsx(nt,{color:"primary",startIcon:e.jsx(at,{}),onClick:()=>{Q().tracks.length>0&&le(Q().tracks[0])},sx:{mr:1,mb:{xs:1,sm:0}},disabled:Q().tracks.length===0,children:"\u0421\u043B\u0443\u0448\u0430\u0442\u044C"}),e.jsx(nt,{startIcon:e.jsx(ds,{}),onClick:mr,disabled:re,sx:{minWidth:{xs:"100%",sm:"auto"}},children:re?"\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435...":"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C"})]})]})}),e.jsx(i,{sx:{mb:4},children:Xe?e.jsx(i,{sx:{display:"flex",justifyContent:"center",my:4},children:e.jsx(ie,{size:30})}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{sx:{py:0},children:Ue&&Ue.length>0?Ue.map((t,r)=>e.jsx(xs,{in:!0,style:{transformOrigin:"0 0 0"},timeout:300+r%15*30,children:qt(t)},t.id)):e.jsx(Pe,{in:!0,timeout:500,children:e.jsx(i,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:8},children:s===0?e.jsxs(e.Fragment,{children:[e.jsx(je,{sx:{fontSize:48,color:"text.secondary",opacity:.5,mb:2}}),e.jsx(o,{color:"text.secondary",sx:{mb:2},children:"\u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442 \u043F\u043E\u043D\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0445\u0441\u044F \u0442\u0440\u0435\u043A\u043E\u0432"}),e.jsx(o,{variant:"body2",color:"text.secondary",align:"center",sx:{maxWidth:400},children:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043D\u0430 \u0438\u043A\u043E\u043D\u043A\u0443 \u0441\u0435\u0440\u0434\u0435\u0447\u043A\u0430 \u0443 \u043B\u044E\u0431\u043E\u0433\u043E \u0442\u0440\u0435\u043A\u0430, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0435\u0433\u043E \u0432 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435"})]}):s===1?e.jsxs(e.Fragment,{children:[e.jsx(ps,{sx:{fontSize:48,color:"text.secondary",opacity:.5,mb:2}}),e.jsx(o,{color:"text.secondary",sx:{mb:2},children:"\u0412\u0430\u0448\u0430 \u043C\u0443\u0437\u044B\u043A\u0430\u043B\u044C\u043D\u0430\u044F \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u044F \u043F\u0443\u0441\u0442\u0430"}),e.jsx(nt,{color:"primary",startIcon:e.jsx(ft,{}),onClick:gt,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043C\u0443\u0437\u044B\u043A\u0443"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ls,{sx:{fontSize:48,color:"text.secondary",opacity:.5,mb:2}}),e.jsx(o,{color:"text.secondary",sx:{mb:2},children:"\u041D\u0435\u0442 \u0442\u0440\u0435\u043A\u043E\u0432 \u0434\u043B\u044F \u0441\u043B\u0443\u0447\u0430\u0439\u043D\u043E\u0433\u043E \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F"}),e.jsx(o,{variant:"body2",color:"text.secondary",align:"center",sx:{maxWidth:400},children:"\u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u0431\u043E\u043B\u044C\u0448\u0435 \u043C\u0443\u0437\u044B\u043A\u0438, \u0447\u0442\u043E\u0431\u044B \u0432\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0440\u0435\u0436\u0438\u043C \u0441\u043B\u0443\u0447\u0430\u0439\u043D\u043E\u0433\u043E \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F"})]})})})}),!w&&xt&&e.jsx(i,{ref:Fe,sx:{display:"flex",justifyContent:"center",alignItems:"center",py:3,minHeight:"80px",width:"100%"},"data-testid":"infinite-scroll-loader",children:mt?e.jsx(Pe,{in:!0,timeout:300,children:e.jsx(ie,{size:24,sx:{color:"primary.main",opacity:.7}})}):e.jsx(Pe,{in:!0,timeout:300,children:e.jsx(o,{variant:"caption",color:"text.secondary",sx:{opacity:.7},children:s===0?"\u041F\u0440\u043E\u043A\u0440\u0443\u0442\u0438\u0442\u0435 \u0432\u043D\u0438\u0437 \u0434\u043B\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043F\u043E\u043D\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0445\u0441\u044F \u0442\u0440\u0435\u043A\u043E\u0432":"\u041F\u0440\u043E\u043A\u0440\u0443\u0442\u0438\u0442\u0435 \u0432\u043D\u0438\u0437 \u0434\u043B\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438"})})})]})})]})}),e.jsxs(We,{elevation:0,children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(o,{variant:"h5",fontWeight:"bold",children:"\u0418\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u0438"}),e.jsx(i,{sx:{display:"flex",alignItems:"center"},children:e.jsxs(kt,{focused:$e.length>0,sx:{mr:1,width:{xs:"150px",sm:"200px",md:"250px"},height:"40px"},children:[e.jsx(ze,{sx:{fontSize:18,mr:.5,color:"text.secondary"}}),e.jsx("input",{placeholder:"\u041D\u0430\u0439\u0442\u0438 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044F",value:$e,onChange:t=>{const r=t.target.value;Tt(r),gr(r)},style:{fontSize:"16px"}}),$e&&e.jsx(R,{size:"small",onClick:()=>Tt(""),sx:{color:"rgba(255, 255, 255, 0.7)",p:.5},children:e.jsx(i,{sx:{fontSize:18,fontWeight:"bold"},children:"\xD7"})})]})})]}),Hs?e.jsx(i,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(ie,{size:30})}):e.jsx(e.Fragment,{children:$e.length>0?e.jsx(i,{children:Ks?e.jsx(i,{sx:{display:"flex",justifyContent:"center",py:4},children:e.jsx(ie,{size:30})}):It.length>0?e.jsx(k,{container:!0,spacing:2,children:It.map((t,r)=>e.jsx(k,{item:!0,xs:6,sm:4,md:3,lg:2,children:e.jsx(be,{in:!0,style:{transitionDelay:r%8*150+"ms"},children:e.jsxs(Be,{sx:{borderRadius:"16px",cursor:"pointer",backgroundColor:"rgba(18,18,18,0.6)",backdropFilter:"blur(10px)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 20px rgba(0,0,0,0.2)"},height:"100%",display:"flex",flexDirection:"column"},onClick:()=>Vt(t.id),children:[e.jsx(i,{sx:{width:"100%",paddingTop:"100%",position:"relative",borderRadius:"16px 16px 0 0",overflow:"hidden"},children:e.jsx(i,{component:"img",src:t.avatar_url||"/static/uploads/system/artist_placeholder.jpg",alt:t.name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}}})}),e.jsx(st,{sx:{p:1.5,pb:2,flexGrow:1},children:e.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(o,{variant:"body1",fontWeight:"500",noWrap:!0,sx:{flexGrow:1},children:t.name}),t.verified&&e.jsx(ms,{title:"\u0412\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0430\u0440\u0442\u0438\u0441\u0442",children:e.jsx(hs,{sx:{fontSize:16,ml:.5,color:fe.palette.primary.main}})})]})})]})})},t.id||r))}):e.jsx(i,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:4},children:e.jsxs(o,{color:"text.secondary",children:['\u0410\u0440\u0442\u0438\u0441\u0442\u043E\u0432 \u043F\u043E \u0437\u0430\u043F\u0440\u043E\u0441\u0443 "',$e,'" \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E']})})}):e.jsx(k,{container:!0,spacing:2,children:Pt.length>0?Pt.map((t,r)=>e.jsx(k,{item:!0,xs:6,sm:4,md:3,lg:2,children:e.jsx(be,{in:!0,style:{transitionDelay:r%8*150+"ms"},children:e.jsxs(Be,{sx:{borderRadius:"16px",cursor:"pointer",backgroundColor:"rgba(18,18,18,0.6)",backdropFilter:"blur(10px)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 20px rgba(0,0,0,0.2)"},height:"100%",display:"flex",flexDirection:"column"},onClick:()=>Vt(t.id),children:[e.jsx(i,{sx:{width:"100%",paddingTop:"100%",position:"relative",borderRadius:"16px 16px 0 0",overflow:"hidden"},children:e.jsx(i,{component:"img",src:t.avatar_url||"/static/uploads/system/artist_placeholder.jpg",alt:t.name,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)"}}})}),e.jsx(st,{sx:{p:1.5,pb:2,flexGrow:1},children:e.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(o,{variant:"body1",fontWeight:"500",noWrap:!0,sx:{flexGrow:1},children:t.name}),t.verified&&e.jsx(ms,{title:"\u0412\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0430\u0440\u0442\u0438\u0441\u0442",children:e.jsx(hs,{sx:{fontSize:16,ml:.5,color:fe.palette.primary.main}})})]})})]})})},t.id||r)):e.jsx(k,{item:!0,xs:12,children:e.jsx(i,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:4,background:"linear-gradient(135deg, rgba(208, 188, 255, 0.05) 0%, rgba(255,255,255,0.03) 100%)",borderRadius:3,border:"1px dashed rgba(208, 188, 255, 0.2)",mx:2},children:e.jsx(o,{color:"text.secondary",sx:{mb:1},children:"\u0421\u043F\u0438\u0441\u043E\u043A \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u0435\u0439 \u043F\u0443\u0441\u0442"})})})})})]})]}),Le&&e.jsx(Dr,{direction:"up",in:Ls,mountOnEnter:!0,unmountOnExit:!0,children:e.jsxs(ja,{value:_==="categories"?0:s+1,onChange:(t,r)=>{r===0?v("categories"):(p(r-1),v("tracks"))},showLabels:!0,sx:{height:56,borderTop:"1px solid rgba(255,255,255,0.05)",boxShadow:"0 -2px 10px rgba(0,0,0,0.2)",px:1},children:[e.jsx(bt,{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",icon:e.jsx(Mr,{sx:{fontSize:"1.3rem"}}),sx:{minWidth:0,padding:1,"& .MuiBottomNavigationAction-label":{fontSize:"0.625rem",marginTop:.5}}}),e.jsx(bt,{label:"\u041B\u044E\u0431\u0438\u043C\u044B\u0435",icon:e.jsx(je,{sx:{fontSize:"1.3rem"}}),sx:{minWidth:0,padding:1,"& .MuiBottomNavigationAction-label":{fontSize:"0.625rem",marginTop:.5}}}),e.jsx(bt,{label:"\u0412\u0441\u0435",icon:e.jsx(ps,{sx:{fontSize:"1.3rem"}}),sx:{minWidth:0,padding:1,"& .MuiBottomNavigationAction-label":{fontSize:"0.625rem",marginTop:.5}}})]})}),e.jsx(Qr,{open:d,onClose:cr}),e.jsx(oa,{open:X,onClose:dr,onSuccess:()=>{}}),e.jsx(gs,{open:Ae!==null,onClose:ce,anchorReference:"anchorPosition",anchorPosition:Ae!==null?{top:Ae.mouseY,left:Ae.mouseX}:void 0,elevation:3,sx:{"& .MuiPaper-root":{backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:2,boxShadow:"0 8px 16px rgba(0,0,0,0.3)"}},children:G&&e.jsxs(e.Fragment,{children:[e.jsx(i,{sx:{px:2,py:1.5,borderBottom:"1px solid rgba(255,255,255,0.05)"},children:e.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(de,{variant:"rounded",src:pe(G?.cover_path||"","album"),alt:G?.title||"",sx:{width:36,height:36,borderRadius:1,mr:1.5}}),e.jsxs(i,{sx:{minWidth:0},children:[e.jsx(o,{variant:"body2",noWrap:!0,fontWeight:"500",children:G?.title||"\u0411\u0435\u0437 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u044F"}),e.jsx(o,{variant:"caption",color:"text.secondary",noWrap:!0,children:G?.artist||"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0438\u0441\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C"})]})]})}),e.jsxs(O,{onClick:()=>Ne(G),sx:{py:1.5},children:[e.jsx(D,{sx:{minWidth:36},children:e.jsx(at,{fontSize:"small"})}),e.jsx(M,{primary:"\u0412\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438",primaryTypographyProps:{variant:"body2"}})]}),e.jsxs(O,{onClick:t=>Xt(G,t),sx:{py:1.5},children:[e.jsx(D,{sx:{minWidth:36},children:e.jsx(us,{fontSize:"small"})}),e.jsx(M,{primary:"\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443",primaryTypographyProps:{variant:"body2"}})]}),e.jsxs(O,{onClick:t=>{return r=G,(n=t)&&n.stopPropagation(),Xt(r),void ce();var r,n},sx:{py:1.5},children:[e.jsx(D,{sx:{minWidth:36},children:e.jsx(ys,{fontSize:"small"})}),e.jsx(M,{primary:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F",primaryTypographyProps:{variant:"body2"}})]}),e.jsxs(O,{onClick:t=>{t.stopPropagation(),He(G?.id),ce()},sx:{py:1.5},children:[e.jsx(D,{sx:{minWidth:36},children:G?.is_liked?e.jsx(je,{fontSize:"small",color:"error",sx:{animation:"heartBeat 0.5s","@keyframes heartBeat":{"0%":{transform:"scale(1)"},"14%":{transform:"scale(1.3)"},"28%":{transform:"scale(1)"},"42%":{transform:"scale(1.3)"},"70%":{transform:"scale(1)"}}}}):e.jsx(rt,{fontSize:"small"})}),e.jsx(M,{primary:G?.is_liked?"\u0423\u0431\u0440\u0430\u0442\u044C \u0438\u0437 \u043F\u043E\u043D\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0445\u0441\u044F":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043F\u043E\u043D\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0435\u0441\u044F",primaryTypographyProps:{variant:"body2"}})]}),e.jsxs(O,{onClick:t=>{t.stopPropagation(),ce()},sx:{py:1.5},children:[e.jsx(D,{sx:{minWidth:36},children:e.jsx(cs,{fontSize:"small"})}),e.jsx(M,{primary:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442",primaryTypographyProps:{variant:"body2"}})]}),e.jsxs(O,{onClick:t=>{t.stopPropagation(),ce()},sx:{py:1.5},children:[e.jsx(D,{sx:{minWidth:36},children:e.jsx(Ar,{fontSize:"small"})}),e.jsx(M,{primary:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C",primaryTypographyProps:{variant:"body2"}})]})]})}),e.jsx(Or,{open:Oe.open,autoHideDuration:4e3,onClose:Jt,anchorOrigin:{vertical:"bottom",horizontal:"center"},sx:{mb:Le?7:1},children:e.jsx(ut,{onClose:Jt,severity:Oe.severity,variant:"filled",elevation:6,sx:{width:"100%",borderRadius:3,"& .MuiAlert-icon":{fontSize:20}},children:Oe.message})}),e.jsx(be,{in:As,children:e.jsx(fs,{size:"small",color:"primary","aria-label":"back to top",onClick:pr,sx:{position:"fixed",bottom:Le?70:16,right:16,opacity:.8,"&:hover":{opacity:1}},children:e.jsx(Lr,{})})}),w.trim()&&!Gs&&Ue.length===0&&e.jsxs(i,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:8},children:[e.jsxs(o,{variant:"body1",color:"text.secondary",sx:{mb:2},children:['\u041F\u043E \u0437\u0430\u043F\u0440\u043E\u0441\u0443 "',w,'" \u043D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E']}),e.jsx(ee,{variant:"outlined",onClick:Ge,startIcon:e.jsx(ds,{}),children:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u043F\u043E\u0438\u0441\u043A"})]}),e.jsx(ta,{open:qs,onClose:yr,playlist:ue,onSave:async(t,r)=>{r?(await(async(l,b)=>{y(!0);try{if(l instanceof FormData)for(let[Z,Y]of l.entries());const j=await fetch(`/api/music/playlists/${b}`,{method:"PUT",body:l}),z=await j.text();let g;try{g=JSON.parse(z)}catch{return m({open:!0,message:"Error updating playlist: Server returned invalid response",severity:"error"}),y(!1),{success:!1}}return j.ok?(m({open:!0,message:"Playlist updated successfully",severity:"success"}),A(),{success:!0,data:g}):(m({open:!0,message:`Error updating playlist: ${g.error||j.statusText}`,severity:"error"}),{success:!1})}catch(j){return m({open:!0,message:`Error updating playlist: ${j.message}`,severity:"error"}),{success:!1}}finally{y(!1)}})(t,r)).success&&ge(!1):(await(async l=>{y(!0);try{if(l instanceof FormData)for(let[g,Z]of l.entries());const b=await fetch("/api/music/playlists",{method:"POST",body:l}),j=await b.text();let z;try{z=JSON.parse(j)}catch{return m({open:!0,message:"Error creating playlist: Server returned invalid response",severity:"error"}),y(!1),{success:!1}}return b.ok?(m({open:!0,message:"Playlist created successfully",severity:"success"}),A(),{success:!0,data:z}):(m({open:!0,message:`Error creating playlist: ${z.error||b.statusText}`,severity:"error"}),{success:!1})}catch(b){return m({open:!0,message:`Error creating playlist: ${b.message}`,severity:"error"}),{success:!1}}finally{y(!1)}})(t)).success&&ge(!1)},onAddTracks:fr,onRemoveTrack:br,onDelete:Qt,isLoading:se,nowPlaying:E}),e.jsx(gs,{open:Re.open,onClose:_e,anchorReference:"anchorPosition",anchorPosition:Re.mouseX!==null&&Re.mouseY!==null?{top:Re.mouseY,left:Re.mouseX}:void 0,elevation:3,sx:{"& .MuiPaper-root":{backgroundColor:"rgba(30, 30, 30, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:2,boxShadow:"0 8px 16px rgba(0,0,0,0.3)"}},children:ae&&e.jsxs(e.Fragment,{children:[e.jsx(i,{sx:{px:2,py:1.5,borderBottom:"1px solid rgba(255,255,255,0.05)"},children:e.jsx(o,{variant:"body2",noWrap:!0,fontWeight:"500",children:ae.name||"\u041F\u043B\u0435\u0439\u043B\u0438\u0441\u0442"})}),e.jsxs(O,{onClick:()=>{ht(ae.id),_e()},sx:{py:1.5},children:[e.jsx(D,{sx:{minWidth:36},children:e.jsx(at,{fontSize:"small"})}),e.jsx(M,{primary:"\u0412\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438",primaryTypographyProps:{variant:"body2"}})]}),ae.isOwner&&e.jsxs(O,{onClick:()=>{ur(ae),_e()},sx:{py:1.5},children:[e.jsx(D,{sx:{minWidth:36},children:e.jsx(Yr,{fontSize:"small"})}),e.jsx(M,{primary:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",primaryTypographyProps:{variant:"body2"}})]}),e.jsxs(O,{onClick:()=>{const t=`${window.location.origin}/music?playlist=${ae.id}`;navigator.clipboard.writeText(t).then(()=>{m({open:!0,message:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430",severity:"success"})}).catch(r=>{}),_e()},sx:{py:1.5},children:[e.jsx(D,{sx:{minWidth:36},children:e.jsx(us,{fontSize:"small"})}),e.jsx(M,{primary:"\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443",primaryTypographyProps:{variant:"body2"}})]}),e.jsxs(O,{onClick:()=>{const t=`${window.location.origin}/music?playlist=${ae.id}`;navigator.clipboard.writeText(t).then(()=>{m({open:!0,message:"\u0421\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u043F\u043B\u0435\u0439\u043B\u0438\u0441\u0442 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0434\u043B\u044F \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u0438",severity:"success"})}),_e()},sx:{py:1.5},children:[e.jsx(D,{sx:{minWidth:36},children:e.jsx(ys,{fontSize:"small"})}),e.jsx(M,{primary:"\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F",primaryTypographyProps:{variant:"body2"}})]}),ae.isOwner&&e.jsxs(O,{onClick:()=>{Qt(ae.id),_e()},sx:{py:1.5,color:"error.main"},children:[e.jsx(D,{sx:{minWidth:36},children:e.jsx(is,{fontSize:"small",color:"error"})}),e.jsx(M,{primary:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",primaryTypographyProps:{variant:"body2"}})]})]})}),e.jsx(ua,{open:Qs,onClose:()=>Ft(!1),playlist:Se,onEdit:jr,onPlayTrack:vr,isLoading:Zs,nowPlaying:E})]})});export{wa as default};
